import{_ as o,W as t,X as l,Y as n,Z as s,$ as e,a0 as p,C as c}from"./framework-16b96b76.js";const i="/cs-tips/assets/1726197303328-910cb40d.png",r="/cs-tips/assets/1726197339338-1d08eb40.png",u="/cs-tips/assets/1700196487709-3f0d2e0d.png",d="/cs-tips/assets/1700127016519-40ba8de0.png",k="/cs-tips/assets/1712505273400-14c422d0.png",v="/cs-tips/assets/1701349640431-d33fee05.png",m="/cs-tips/assets/1701351392833-a4d32e81.png",b="/cs-tips/assets/1700537997473-ee9d7966.png",L="/cs-tips/assets/1701350337023-0629cc82.png",g="/cs-tips/assets/1701350532636-1b56c28e.png",E="/cs-tips/assets/1701350600893-e3a73c8c.png",A="/cs-tips/assets/1701351163555-c7d6a2f7.png",h="/cs-tips/assets/1699920519563-47b0af44.png",T="/cs-tips/assets/1699920524572-a4400a14.png",N="/cs-tips/assets/1699920529256-deeca5fd.png",I="/cs-tips/assets/1701833766358-85281c81.png",f="/cs-tips/assets/1701835926726-730cbc06.png",S="/cs-tips/assets/1701833728307-333cf4ab.png",O="/cs-tips/assets/1712628555773-d15621ff.png",j="/cs-tips/assets/1726179311556-b8865600.png",R="/cs-tips/assets/1702634626636-693f98e8.png",C="/cs-tips/assets/1702634686279-3ed878bc.png",U="/cs-tips/assets/1702634767076-ea661f51.png",M="/cs-tips/assets/1702634928585-8f5d9b74.png",y="/cs-tips/assets/1702635072323-ddf24acd.png",w="/cs-tips/assets/1702619543648-19fc4f81.png",D="/cs-tips/assets/1702621515879-098ff199.png",x="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAKkAAABfCAYAAACTHucrAAAJUElEQVR42u2de0xUZx6GiWkgxA0NNBCQAOESblHBUHQ0LWstxnrJul133bUaqbtdN64KtlZcrMV23boiSG01sGpbI0kbq6y3msJSitVBKwUviDsMl4GugNwvhRmBVXl3ziAwM8ycOQywIvP+8SQz55v5nW9mnnznMuf9jh3uV4GQiYwdvwQy6SSVf5eNrdt3Y9OWxEF2/TUFzbXF/ELJxJB0W8IelFX8iOaWjkGyv7mMxPeT0VZfMr4dbsxEyvpYZFWpAHUesj86AkWbij8kJTVEGDn1BR3gQlYeYt96z2CEFXgnMQn/viW3qnOVR1fgtbQcPUlP4+Dmrcit1orZ9QnW2S3E5/coqU1I2lZ/Z9SSmuPmTQV2Ju4bXktTip9qitGtHpLsQcsNtDaX6R73NhXh8vYgBLyZgeaB1+m/h5LajqRX5blIP3x83CQVEN4zrJYJyUp2hyL4nXO6xzeTFyDcyxEOnsGYJ/sDLjQaiUlJbUfSQ2nH0NmsmHCSmnpOSW1U0pEISknJU33gREnJ5JNUfRx/so/AQcWQZJfiXIdJGrTjLCWlpE9IUs1FfCizQ2Tcp6hqKIYqOwErvB0NJK1KnQP7ZUmo71RRUko6upP5YgivFd5jqlZ7Xjxe8bLHlKkeiFyzF1/uMNy891V9im0v+8LZPhoZd3l0T0lH8beoGMJrhfeYralW4n5bufl2TQV6WkvxSEMZKSkhlJQQSkooKSGUlBBKSigpIZSUUFJCKCkhlJRQUkJsTlJm+MmEl/SJZvgJJZ1oGf7JzrA5CmxdUrGc/hPJ8A9ee1oOdbUcNbWK4def6tryUddYZjL/36NWoa+tCDUVN3SPJdW2MHeAfu3/3pNDVa0wvcxoHbV1RtfPWuijyTkKbF1SIacv5PWNlz+xDL+W7jvpiJvrBo/gEAQ4OyF8jXbUfTwFT3dJGmJlrnALCsV0DxeEx+zF7Ub9SMor2HtoJWSzQuHnNAXTXorHD80qy7UthQkftyfueRmebl5YkpJtetngOjzgOX0Gwqa5InLdfijbpfXR5BwFti6pEIMW8vr6ogqPn1iGX52L/VqJfp2ei/vaEaivJRdpS55FVEqe9gfORYrMXdfWLYxOnVdxZp0fpm/LRI9mQDQHRO/9Gmrt84cNp7Fz1hQs+8c1CbWlSDoVi3Znor5NZX6Z+lukznPFb49eRq/Qp/Z8fLHKCy8m5+q9R6SPppK13Cc1FNUaQcdU0uvbERawCUX6m7kuJXp/quhv89+IQv22O4mQuf8RVwYlnYcjlUPtxe+HwOftTMu1JUn6cxz7UWWUeDVaJqzDczW+qihAQ3U/9SfX4LnFSWiW0kdKallUawQdU0kvxMAx+gPUm8pBCW0L96BBv609HavtluJUs+lNdtX+2fDYcsJybYmbe4OwoKllwjqcvREpi9BurvVYvhtKjYQ+UlLLoloj6JiPpL4bUKA32vW130Fnq/YA5sZfEO7/Z8ORtORdo5FURACx2pbmDpAqaVE8Zoa+idvmwoYSJTWYo4CSju8pKGv2SVPnumL5gX/p9tn6WnJwINoJCw5c0u3vffiCO149mAONIEGHHKdifDEz4Uz//p8lAcRqW5o7QKqkXcJ+7zSsOpyrWwe6ipC7LQpL9n2FBxJH0mFzFFDS8TuZb22Gv0dxGG9FecDNxx/eTs6I/P3Q0XFP6RG8Pd8Drt7+8Hd1heyN/VA0qySPUmK1RecOkCqpro9HEb/AC+6+gQj09obs1ThkV5ZL7uOwOQoo6fj9LTqqDL+mEj1119BofC50sK0ALS0V1vVXrLaluQNGQG9DIVpbK63s4+Sco4AXmBBKSgglJZSUEEpKCCUllJQQSkooKb8EQkkJoaSEkhJCSZnhJ7Yh6aTI8DdmImV9LLKqeKeVCSdpcZEcp05m4tEoorj/rwz/uObbG0/j4OatyK2mpBNOUkHOL09k6rBW1LHP8CvRXvEd7taVSsu3S8j1P2wqwL36ofZHLT/grqq4PyFgJscvOpcAJX26RB2720mWo+rEOsz3cobnjFD4PuuK+QlfoE0riLl8u5Rc/wepSxEa6AN3RxcsSjqJK8nRCA7yh/dUB4TEpKHWRExEbC4BSvoUijpmknbm4Njrv8EB+S3dyPWwLh1rnZ/HoVKV6VSmpFy/Hea9exYd2s/UUxSPOdrnEfGn0NGlrV+VguUOIUi6biSpWN6fktq4pHpRDE2NHKWXkhDj8ww2njcjqaRc/2yklw1s0s9ih48P3rsy8Pwq0l9yQOwFI0nF8v6U1MY39+rryE9ehWURfgiJfBErYmLwy+l22HDOjKQjzfVrzmGnXxD2Fg48L8CRhfbYbCypWN6fktrGgZNZSa9uQaDLEmQoH88loLmGw9GGkhrk20ea65cqqVjen5JOrlNQI5Y0PxZ+nq8hp7FSlxBtl29FlOOQpMPy7SPN9UuVVCzvT0knz8l8qzL86u9xflMYnnOahplhoZi7NgHbFw5JairfPqJcv1RJLeT9Kekk+VvU6gy/9qCpu+571DeUSc+3jzbXb03en5ISQkkJoaSEkhJCSQmhpISSEkJJCSUlhJISQkkJJSWEkjJ3T5i7N3GpXh6yPzoCxWgDb2NVhzB3P6yWmfssjZixqkOYu5ckl7lMvVg2ftjFzpXobihCS5Ny6HO3XUdNeZHBvesJg3iW4yPG2XexTL1YNt6oTlPWBswOWoqM26W6iSeUn61EuJs7ImShCAiai11f36CQjDRbIamlTL1YNl6vTss3myALWozjxY9nQ2k7itcdw5B8s/8uer03k7Al4RgamQylpCOW1FKmXiwbr6sTjY//GYcXAhfhs1t6d7JWZ+FvM9zwq79noLRWSRG5uR+FpJYy9WLZeF2dZ+AUGogAtwX4pMRwf7ajIBUJK2cjwMUJwYvX45i80GbneuKB02gktZSpF8vG6+rMQZqyFIrUKLjO2ohrTSY+W+ctKDJWIcjrDeR3UFLm7kcqqaVMvVg23qBOAc6u9YLv6jTcEz6jMhW/k63B+f+U65KnnRc3YYbDL3C6iZIydy8ld2+cfRfL1Itl441PQTWfQeLzLojel40edSG+3bUYkX5eCAl2x8/cIxD3+UU84OaeuXvJuXuT2XeRTL212Xi1Ai1VRVB3Uk5eYEIoKSGUlFBSQigpIZSUUFJCKCkhlJQ8xfwPDsVDLq2D9AMAAAAASUVORK5CYII=",V="/cs-tips/assets/1712630254691-0efa3dc6.png",B="/cs-tips/assets/1712630267514-05f8a128.png",F="/cs-tips/assets/1712630151740-6f020c30.png",P="/cs-tips/assets/1712631693565-1697aa4c.png",K="/cs-tips/assets/1712630174741-0300654f.png",_="/cs-tips/assets/1712630197203-bb89e875.png",J="/cs-tips/assets/1712630226592-9e04c1ab.png",q={},W=p('<h1 id="juc并发编程" tabindex="-1"><a class="header-anchor" href="#juc并发编程" aria-hidden="true">#</a> JUC并发编程</h1><table><thead><tr><th><strong>日期</strong></th><th><strong>迭代内容</strong></th></tr></thead><tbody><tr><td>23-11-24</td><td>1. 导学指引。确定一种学习和记忆 JVM 相关知识点的逻辑树。</td></tr><tr><td>23-11-26</td><td>1. 调整整个文档结构，并加以完善。</td></tr></tbody></table><div class="hint-container tip"><p class="hint-container-title">导学指引</p><ol><li>根据计算机硬件架构的基础可知，CPU 的运算速度要远远高于内存的速度，为了充分利用 CPU，人们采取了很多优化手段，这些优化手段主要包括下面三个： <ol><li>使用缓存。即在 CPU 和内存中间添加速度高于内存的缓存，目的是缩小 CPU 与内存之间的速度差距。</li><li>使用指令优化。即对操作 CPU 进行运算的指令进行优化，使指令更加合理，常见手段有对指令进行合并、增减、重排序等。重排序是重点。</li><li>使用分时复用技术。即对 CPU 的运算时间进行切片，让指令占用 CPU 的运算时间不能太短也不能太长。太长有可能会产生等待，太短又可能会引起这个指令还没有运算完就要布置下一个指令的运算现场了，会导致频繁的上下文切换，这是一笔巨量的开销。</li></ol></li><li>虽然三个优化手段提高了 CPU 的运算能力，但是这三个优化手段却同样产生了一些问题： <ol><li>缓存技术产生了可见性问题；</li><li>指令优化技术产生了顺序性问题；在 Java 中，指令优化技术是由执行引擎决定的，关键技术有热点代码、同步消除、无同步等方案。</li><li>分时复用技术产生了原子性问题；</li></ol></li><li>我们发现，如果把上面那三个问题全部都解决掉，就发现多线程的运行结果就跟我们的预期是一致的了。由此引出线程安全的概念**： 多线程在并发场景下运行多次的结果都是与我们的预期结果是一致的，那么我们就说这种场景是并发安全的**，并由此得出并发编程三要素的概念——要想保证线程是安全的，就需要满足三个条件，且这三个条件缺一不可，由此我们才说线程是安全的。</li><li>但实际情况下，并不一定需要同时满足这三个条件也可以达到我们预期的效果，并由此衍生出各式各样的并发编程的方法。</li><li>不过在了解这些并发编程的方法前，需要先了解一下并发编程中单个线程的相关知识： <ol><li>Java 中的线程实现方法，有哪些方法，这些方法用途是什么？为什么要用这些方法？</li><li>这些方法底层的原理是什么？</li></ol></li><li>由单线程的相关知识，引出多线程的内容。</li></ol></div><h2 id="发展过程" tabindex="-1"><a class="header-anchor" href="#发展过程" aria-hidden="true">#</a> 发展过程</h2><ol><li>现实中例子的抽象：银行服务窗口。早期，银行服务窗口只有一个，随着客户数量的增加，人们发现，只有一个窗口的办事效率太低了。于是本能的想到增加窗口能够提高办事效率。但是一段时间后，人们发现这样还不能够满足客户的需求，并且窗口数量不可能一直增加，于是人们就研究客户办理的银行业务的特点。人们就发现客户办理业务时，有时候需要客户去填写一些资料，所以业务员并不是一直工作着的，甚至到后期，人们发现业务员有 80% 的时间都是等待状态，于是人们又开始把银行业务进行切分，把客户填表的窗口占用时间让出来，让业务员服务其它客户。</li><li>事实上，线程的发展就是由银行业务员服务客户——这一现实例子抽象出来的，只不过是线程的发展相比于这一现实例子更加复杂而已。</li><li>人们在冯诺依曼体系的基础上，研究发现下面这些技术可以提高任务的运行效率。但这些技术发展的同时也产生了其它问题。【我们一边利用这些优化技术来提高线程的工作效率，而另一方面这些优化技术又让线程的工作结果存在着问题，我们可以对优化手段和产生的问题之间的关系来定义线程安全级别，事实上很多地方都有这种冲突，如 MySQL 中的隔离级别】 <ol><li>缓存技术：可见性问题。</li><li>分时复用技术：原子性问题。</li><li>指令优化技术：有序性问题。</li></ol></li><li>这三种技术是最底层的基础技术，可以认为，这三种技术是基于物理结构和操作系统层面实现的。而高级语言的“线程”等相关的概念，则是对这些技术的再次应用后的一种抽象概念，这样做的好处在于让程序员不用过度关注底层的原理，使得学习曲线不用那么陡峭。 <ol><li>Java 虚拟机规范角度： Java 设计人员先是从直接复用操作系统操作线程的相关指令方面，提供一些关键字和一些编译原则，让早期的 Java 版本具有线程相关的基础特性。这些关键字和编译原则主要有：【synchronized、volatile、final、static、Happens-Before 原则、AS-If 原则、热点代码分析、同步消除、栈上分配、指令优化、线程本地缓存、锁升级过程】等。</li><li>Java 语言规范角度：再之后，Java 设计人员从开发操作系统本地接口的方式，使得 Java 语言直接操控操作系统层面的线程成为可能。这种开放操作系统本地接口的方式就是 JNI 技术。 Java 中的线程的概念，就是 JNI 基础上发展而来的。并且为了更好的理解 Java 中的线程，Java 设计人员还根据冯诺依曼体系体系发展出 JMM 模型，以便于 Java 程序员更好的理解 Java 中的线程模型的运行原理。【Java 线程与操作系统线程的映射关系、Java 内存模型、Java 线程的生命周期】</li><li>Java 语言规范的高级应用角度： JNI 技术的核心在于 Unsafe 工具包，Thread 的相关映射就是对 Unsafe 工具的抽象应用。后来随着高级一些的应用场景的出现，在 Unsafe 工具包的基础上又发展出来 LockSupport、Condition 等技术。而 线程池、CompleteFuture 、AQS、Fork/Join 等则是在 Thread、LockSupport、Condition 等基础上封装的一些高级工具。【线程池使用方式及其原理、线程通信、AQS 使用及其原理以及常见的 AQS 衍生类、CompleteFuture 的使用及其原理、Fork/Join 框架的使用及其原理】</li></ol></li></ol><h2 id="大纲" tabindex="-1"><a class="header-anchor" href="#大纲" aria-hidden="true">#</a> 大纲</h2><ul><li><p>冯诺依曼体系【不同缓存的访问速度的差异】、三种优化手段以及各自所产生的问题、线程安全级别</p></li><li><p>Java 虚拟机规范层面</p><ul><li>理论依据： Java 内存模型的内容、与操作系统线程的映射关系；</li><li>字节码的执行过程： Happens-Before 原则、AS-IF 原则、锁升级；</li><li>源代码编译成字节码的编译过程：锁升级、指令优化【同步消除、栈上分配、热点代码统计】、锁分类</li></ul></li><li><p>Java 语言规范层面</p><ul><li>理论基础： JNI、上述的 Java 虚拟机规范；</li><li>简单应用 <ul><li>关键字： synchronized、volatile、final、static；</li><li>包装类：ThreadLocal；</li><li>Unsafe 工具类中的方法、原理、作用、扩展等；</li><li>线程的使用方式、生命周期、状态转化、字节码；</li></ul></li><li>高级应用 <ul><li>重要应用框架的使用过程以及原理： 线程池、AQS、FutureTask、Fork/Join 框架</li><li>工具类：原子类、集合类、锁类、其它并发工具</li></ul></li></ul></li><li><p>线程安全的分类</p></li><li><p>线程安全的实现方法</p></li><li><p>线程基础知识</p><ul><li>线程的创建方式及分类</li></ul></li><li><p>Java 中的所有锁</p></li><li><p>sychronized、volatile、final 关键字的相关原理</p></li><li><p>Unsafe 类及其相关实现</p></li><li><p>LockSupport 类及其相关实现</p></li><li><p>AQS 原理【与线程池的区别】</p><ul><li>ReentrantLock</li><li>ReentrantReadWriteLock</li><li>ThreadLocalHoldCounter</li><li>HoldCounter</li></ul></li><li><p>线程池</p><ul><li>ThreadPoolExecutor</li><li>FutureTask</li><li>Fork/Join框架</li></ul></li><li><p>并发工具类</p><ul><li>原子类</li><li>集合类</li><li>锁类</li><li>其他并发工具</li></ul></li></ul><p>Q：</p><ol><li>基础概念：线程【协程】和进程、串行和并行、同步和异步、并发和并行、线程安全【任务大小与并发效率之间的关系-&gt;线程安全程度】、Java 中的锁。</li><li>JNI 技术的使用样例。</li><li>register 的原理+unsafe 与 Thread 的映射关系。</li><li>一个线程运行的基本原理</li></ol><h2 id="知识体系" tabindex="-1"><a class="header-anchor" href="#知识体系" aria-hidden="true">#</a> 知识体系</h2><ul><li>1010-线程的产生背景</li></ul><blockquote><ol><li>冯诺依曼体系【不同缓存之间的访问的速度差异】</li><li>线程的优化手段及其产生的问题</li><li>并发安全级别及同步手段</li><li>Java 内存模型、Happens-Before 原则、As-If 原则</li><li>指令优化手段、线程同步优化、编译器优化等</li></ol></blockquote><ul><li>2010-关键字</li></ul><blockquote><p>final volatile synchronized ThreadLocal 原理及内存泄漏；</p></blockquote><ol><li><p>回顾对象的内存分布、对象的访问定位、栈帧的执行过程；</p></li><li><p>详解对象的 markwords 对象头；</p></li><li><p>使用一个多线程争夺锁的案例来讲解锁升级的过程；</p></li><li><p>volatile 关键字</p></li><li><p>final 关键字</p></li></ol><h3 id="synchronized" tabindex="-1"><a class="header-anchor" href="#synchronized" aria-hidden="true">#</a> synchronized</h3><blockquote><p>虚拟机栈 方法的运行原理：当执行到一个方法时，虚拟机 Java 中的方法，就是 Java 虚拟机栈中的栈帧，栈帧</p></blockquote><ul><li><p>synchronized关键字</p><ul><li>1.6之前是重量级锁，1.6之后对synchronized进行了锁优化，采用了锁粗化、锁消除、偏向锁、轻量级锁等锁的优化手段</li><li>不同使用场景下的不同作用 <ul><li>同步方法： 字节码生成的是 ACC_SYNCHRONIZED <ul><li>同步普通方法，锁的是当前对象。</li><li>同步静态方法，锁的是当前 Class 对象。</li></ul></li><li>同步块： 字节码生成的是 monitorenter 和 moniterexit <ul><li>锁的是{}中的对象，这段区域被成为临界区。</li></ul></li></ul></li><li>监视器锁机制 <ul><li>多线程执行的大概原理，从 JVM 的角度来讲，就是</li><li>多线程对应的是Java堆中多个对象，而多线程操作的往往是Java堆中的另外一个对象，多线程运行机制本质上就变成了堆中的多个对象操作堆中的某一个对象，那问题来了，怎么实现这种机制呢？jdk中是给每一个Java对象都创建一个监视器对象（ ObjectMonitor ， 是由C++实现的）来实现这种机制，而且Java对象与 ObjectMonitor 是一一对应的；</li><li>ObjectMonitor 的数据结构 <ul><li>cxq： 临时队列，存放临时的 ObjectWaiter （本质上就是线程）</li><li>waiteset： 等待队列，对象执行了 wait() 方法后，操作改对象的线程封装成ObjectWaiter进入此队列</li><li>entrylist： 阻塞队列，对象执行了 notify() 方法后，操作对象的线程被封装成ObjectWaiter进入此队列</li><li>count： 获得锁的次锁</li><li>owner ： 获得锁的线程ID</li></ul></li><li>加锁过程： 当一个线程获得锁之后，会把监视器对象的 owner 设置为这个线程的ThreadID，然后count加1；如果再有线程尝试获得锁，就进入EntryList等待；</li><li>解锁过程： 当一个线程释放锁时，会把监视器对象的 owner 设置为null，然后count减1，然后再从waitset或entrylist中get一个线程，让这个线程尝试获取锁；</li></ul></li><li>synchronized 锁在升级过程中用到了不同的锁机制</li><li><img src="'+i+`" alt="1726197303328" tabindex="0" loading="lazy"><figcaption>1726197303328</figcaption></li><li>从无锁状态到偏向锁阶段，再到轻量级锁阶段，使用的是Java堆中对象的内存分布中的对象头的不同值来完成同步的；</li></ul></li><li><p>无锁状态 ：       hashcode +     分代年龄 + 偏向标识（为0） + 锁标志位（为01）</p></li><li><p>偏向锁状态 ： ThreadID + epoch + 分代年龄 + 偏向标识（为1） + 锁标志位（为01）</p></li><li><p>轻量级锁状态 ： 指向栈中锁记录（Lock Record）的指针 +        锁标志位（为00）</p><ul><li>转化成重量级锁之后，使用的则是对象的监视器锁机制来完成同步的； <ul><li>重量级锁状态： 指向Java监视器对象（Monitor对象）的指针 +      锁标志位（为00）</li></ul></li><li>锁的升级 <ul><li>(1）当没有被当成锁时，这就是一个普通的对象，Mark Word记录对象的HashCode，锁标志位是01，是否偏向锁那一位是0;</li><li>(2）当对象被当做同步锁并有一个线程A抢到了锁时，锁标志位还是01，但是否偏向锁那一位改成1，前23bit记录抢到锁的线程id，表示进入偏向锁状态;</li><li>(3) 当线程A再次试图来获得锁时，JVM发现同步锁对象的标志位是01，是否偏向锁是1，也就是偏向状态，Mark Word中记录的线程id就是线程A自己的id，表示线程A已经获得了这个偏向锁，可以执行同步中的代码;【可重入的原理】</li><li>(4) 当线程B试图获得这个锁时，JVM发现同步锁处于偏向状态，但是Mark Word中的线程id记录的不是B，那么线程B会先用CAS操作试图获得锁，这里的获得锁操作是有可能成功的，因为线程A一般不会自动释放偏向锁。如果抢锁成功，就把Mark Word里的线程id改为线程B的id，代表线程B获得了这个偏向锁，可以执行同步代码。如果抢锁失败，则继续执行步骤5;</li><li>(5) 偏向锁状态抢锁失败，代表当前锁有一定的竞争，偏向锁将升级为轻量级锁。JVM会在当前线程的线程栈中开辟一块单独的空间，里面保存指向对象锁Mark Word的指针，同时在对象锁Mark Word中保存指向这片空间的指针。上述两个保存操作都是CAS操作，如果保存成功，代表线程抢到了同步锁，就把Mark Word中的锁标志位改成00，可以执行同步代码。如果保存失败，表示抢锁失败，竞争太激烈，继续执行步骤6;</li><li>(6) 轻量级锁抢锁失败，JVM会使用自旋锁，自旋锁不是一个锁状态，只是代表不断的重试，尝试抢锁。从JDK1.7开始，自旋锁默认启用，自旋次数由JVM决定。如果抢锁成功则执行同步代码，如果失败则继续执行步骤7;</li><li>(7) 自旋锁重试之后如果抢锁依然失败，同步锁会升级至重量级锁，锁标志位改为10。在这个状态下，未抢到锁的线程都会被阻塞。</li></ul></li></ul></li><li><p>volatile关键字</p><ul><li>使用案例</li></ul></li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">class</span> <span class="token class-name">Singleton</span><span class="token punctuation">{</span>
  <span class="token keyword">private</span> <span class="token keyword">volatile</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> instance <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
   
  <span class="token keyword">private</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
   
  <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Singleton</span> <span class="token function">getInstance</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span><span class="token punctuation">(</span>instance<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token keyword">synchronized</span> <span class="token punctuation">(</span><span class="token class-name">Singleton</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
              <span class="token keyword">if</span><span class="token punctuation">(</span>instance<span class="token operator">==</span><span class="token keyword">null</span><span class="token punctuation">)</span>
                  instance <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Singleton</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
          <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> instance<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>内部原理 <ul><li>分析字节码，可以看出volatile关键字转化为了lock指令，这相当于给变量添加了一道内存屏障，这道内存屏障的作用就是当这个变量发生改变时让其他处理器得到的变量变成无效的。</li><li>保证可见性 <ul><li>某一线程对volatile变量的修改会同步到主存中，同时也会使已经读到该变量的其他线程的缓存中的值失效，当其他线程发现自己缓存中的值失效时，就会重新从主存中读取新值；</li></ul></li><li>禁止指令重排 <ul><li>编译器或执行器进行指令优化时，不能改变volatile变量在源代码的位置；</li><li>当程序执行到volatile变量的读写操作时，其前面的操作的一定是已经全部完成的，且操作的结果一定是对后面的操作可见；其后面的操作肯定还没有进行；</li></ul></li><li>不保证指令的原子性</li><li>也不保证共享变量的互斥访问</li></ul></li><li>所引起的问题 <ul><li><strong>总线风暴</strong>： volatile依赖总线嗅探机制不断刷新到主内存，而在多处理器架构上，所有的处理器是共用一条总线的，并且所有的处理器都是靠总线与住内存进行数据交互的，这种交互机制本质上是通过主线进行通信的，这种通信的流量就是缓存一致性流量，如果缓存一致性流量超过总线所能承受的最大带宽，就会造成总线风暴。（CAS算法和volatile都会造成总线风暴）</li></ul></li><li></li></ul><p>锁升级过程总结：</p><ol><li>锁升级过程主要是把不同线程对锁的争夺来抽象成： 使用 cas 算法对 Java 堆中对象头的锁标志位的更新来完成的。</li></ol><p>synchronized 与 ReentrantLock 的区别</p><ul><li>1.6之前 synchronized 是重量级锁，性能要远远差于 ReentrantLock； 1.6之后jdk对 synchronized 进行锁优化后，二者性能相差无几；</li><li>synchronized 为隐式锁，即不需要手动在代码中写加锁、解锁逻辑； ReentrantLock 为显式锁，需要显式地在代码中添加 加锁、解锁逻辑；</li><li>ReentrantLock 还能实现 等待可中断、公平锁、绑定多个条件等功能；</li><li>ThreadLocal <ul><li>ThreadLocal可以理解为线程本地变量，他会在每个线程都创建一个副本，那么在线程之间访问内部副本变量就行了，做到了线程之间互相隔离，相比于synchronized的做法是用空间来换时间。ThreadLocal有一个静态内部类ThreadLocalMap，ThreadLocalMap又包含了一个Entry数组，Entry本身是一个弱引用，他的key是指向ThreadLocal的弱引用，Entry具备了保存key value键值对的能力。弱引用的目的是为了防止内存泄露，如果是强引用那么ThreadLocal对象除非线程结束否则始终无法被回收，弱引用则会在下一次GC的时候被回收。但是这样还是会存在内存泄露的问题，假如key和ThreadLocal对象被回收之后，entry中就存在key为null，但是value有值的entry对象，但是永远没办法被访问到，同样除非线程结束运行。但是只要ThreadLocal使用恰当，在使用完之后调用remove方法删除Entry对象，实际上是不会出现这个问题的。</li></ul></li></ul><figure><img src="`+r+'" alt="1726197339338" tabindex="0" loading="lazy"><figcaption>1726197339338</figcaption></figure><figure><img src="'+u+'" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><h3 id="参考" tabindex="-1"><a class="header-anchor" href="#参考" aria-hidden="true">#</a> 参考</h3>',27),Q={href:"https://bbs.huaweicloud.com/blogs/363553",target:"_blank",rel:"noopener noreferrer"},G={href:"https://juejin.cn/post/7097910013636640776#heading-4",target:"_blank",rel:"noopener noreferrer"},X=p(`<ul><li>3010-Java 中的锁</li></ul><blockquote><p>乐观锁 VS 悲观锁 自旋锁 VS 自适应式自旋锁 无锁、偏向锁、轻量级锁、重量级锁 公平锁 VS 非公平锁 可重入锁 VS 不可重入锁 独占锁 VS 共享锁</p></blockquote><ul class="task-list-container"><li class="task-list-item"><p><input type="checkbox" class="task-list-item-checkbox" id="task-item-0" disabled="disabled"><label class="task-list-item-label" for="task-item-0"> 线程池内容与 AQS 的顺序问题</label></p></li><li><p>4010-线程及线程池</p></li></ul><blockquote><ol><li>线程与进程</li><li>Java 中创建线程的方法</li><li>线程的状态转换【或生命周期】，Object 中的方法、Condition 类中的方法、LockSupport 的方法</li><li>池化技术理论基础</li><li>Java 中的两种创建线程池的方法、线程池原理、线程池实践经验</li><li>Spring 框架中使用线程池</li></ol></blockquote><blockquote><p>线程的创建方式 线程源码介绍 线程的生命周期及状态转化 线程的调度 线程间的互斥、同步、协作</p></blockquote><ol><li>进程与线程；</li><li>Java 中线程的创建与使用；</li><li>线程的 API；</li><li>线程的状态转化；</li></ol><details class="hint-container details"><summary>Thread 类的字节码</summary><div class="language-log line-numbers-mode" data-ext="log"><pre class="language-log"><code>

<span class="token operator">/</span><span class="token operator">/</span> class version <span class="token number">52.0</span> <span class="token operator">(</span><span class="token number">52</span><span class="token operator">)</span>
<span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x21</span>
public class java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread implements java<span class="token operator">/</span>lang<span class="token operator">/</span>Runnable <span class="token operator">{</span>

  <span class="token operator">/</span><span class="token operator">/</span> compiled from<span class="token operator">:</span> Thread<span class="token punctuation">.</span>java
  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x8</span>
  static INNERCLASS java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">$</span><span class="token number">1</span> <span class="token boolean">null</span> <span class="token boolean">null</span>
  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0xA</span>
  private static INNERCLASS java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">$</span>Caches java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread Caches
  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x4019</span>
  public final static enum INNERCLASS java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">$</span>State java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread State
  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x609</span>
  public static abstract INNERCLASS java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">$</span>UncaughtExceptionHandler java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread UncaughtExceptionHandler
  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x8</span>
  static INNERCLASS java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">$</span>WeakClassKey java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread WeakClassKey
  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x8</span>
  static INNERCLASS java<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadLocal<span class="token operator">$</span>ThreadLocalMap java<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadLocal ThreadLocalMap

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x42</span>
  private volatile Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span> name

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x2</span>
  private I priority

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x2</span>
  private Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">;</span> threadQ

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x2</span>
  private J eetop

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x2</span>
  private Z single_step

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x2</span>
  private Z daemon

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x2</span>
  private Z stillborn

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x2</span>
  private Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Runnable<span class="token operator">;</span> target

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x2</span>
  private Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span> group

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x2</span>
  private Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ClassLoader<span class="token operator">;</span> contextClassLoader

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x2</span>
  private Ljava<span class="token operator">/</span>security<span class="token operator">/</span>AccessControlContext<span class="token operator">;</span> inheritedAccessControlContext

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0xA</span>
  private static I threadInitNumber

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x0</span>
  Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadLocal<span class="token operator">$</span>ThreadLocalMap<span class="token operator">;</span> threadLocals

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x0</span>
  Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadLocal<span class="token operator">$</span>ThreadLocalMap<span class="token operator">;</span> inheritableThreadLocals

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x2</span>
  private J stackSize

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x2</span>
  private J nativeParkEventPointer

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x2</span>
  private J tid

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0xA</span>
  private static J threadSeqNumber

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x42</span>
  private volatile I threadStatus

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x40</span>
  volatile Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token operator">;</span> parkBlocker

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x42</span>
  private volatile Lsun<span class="token operator">/</span>nio<span class="token operator">/</span>ch<span class="token operator">/</span>Interruptible<span class="token operator">;</span> blocker

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x12</span>
  private final Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token operator">;</span> blockerLock

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x19</span>
  public final static I MIN_PRIORITY <span class="token operator">=</span> <span class="token number">1</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x19</span>
  public final static I NORM_PRIORITY <span class="token operator">=</span> <span class="token number">5</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x19</span>
  public final static I MAX_PRIORITY <span class="token operator">=</span> <span class="token number">10</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x1A</span>
  private final static <span class="token punctuation">[</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StackTraceElement<span class="token operator">;</span> EMPTY_STACK_TRACE

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x1A</span>
  private final static Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>RuntimePermission<span class="token operator">;</span> SUBCLASS_IMPLEMENTATION_PERMISSION

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x42</span>
  private volatile Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">$</span>UncaughtExceptionHandler<span class="token operator">;</span> uncaughtExceptionHandler

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x4A</span>
  private static volatile Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">$</span>UncaughtExceptionHandler<span class="token operator">;</span> defaultUncaughtExceptionHandler

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x0</span>
  J threadLocalRandomSeed
  <span class="token operator">@</span>Lsun<span class="token operator">/</span>misc<span class="token operator">/</span>Contended<span class="token operator">;</span><span class="token operator">(</span>value<span class="token operator">=</span><span class="token string">&quot;tlr&quot;</span><span class="token operator">)</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x0</span>
  I threadLocalRandomProbe
  <span class="token operator">@</span>Lsun<span class="token operator">/</span>misc<span class="token operator">/</span>Contended<span class="token operator">;</span><span class="token operator">(</span>value<span class="token operator">=</span><span class="token string">&quot;tlr&quot;</span><span class="token operator">)</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x0</span>
  I threadLocalRandomSecondarySeed
  <span class="token operator">@</span>Lsun<span class="token operator">/</span>misc<span class="token operator">/</span>Contended<span class="token operator">;</span><span class="token operator">(</span>value<span class="token operator">=</span><span class="token string">&quot;tlr&quot;</span><span class="token operator">)</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x10A</span>
  private static native registerNatives<span class="token operator">(</span><span class="token operator">)</span>V

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x2A</span>
  private static synchronized nextThreadNum<span class="token operator">(</span><span class="token operator">)</span>I
   L0
    LINENUMBER <span class="token number">177</span> L0
    GETSTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>threadInitNumber <span class="token operator">:</span> I
    DUP
    ICONST_1
    IADD
    PUTSTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>threadInitNumber <span class="token operator">:</span> I
    IRETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">3</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">0</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x2A</span>
  private static synchronized nextThreadID<span class="token operator">(</span><span class="token operator">)</span>J
   L0
    LINENUMBER <span class="token number">218</span> L0
    GETSTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>threadSeqNumber <span class="token operator">:</span> J
    LCONST_1
    LADD
    DUP2
    PUTSTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>threadSeqNumber <span class="token operator">:</span> J
    LRETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">4</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">0</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x0</span>
  blockedOn<span class="token operator">(</span>Lsun<span class="token operator">/</span>nio<span class="token operator">/</span>ch<span class="token operator">/</span>Interruptible<span class="token operator">;</span><span class="token operator">)</span>V
    TRYCATCHBLOCK L0 L1 L2 <span class="token boolean">null</span>
    TRYCATCHBLOCK L2 L3 L2 <span class="token boolean">null</span>
   L4
    LINENUMBER <span class="token number">239</span> L4
    ALOAD <span class="token number">0</span>
    GETFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>blockerLock <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token operator">;</span>
    DUP
    ASTORE <span class="token number">2</span>
    MONITORENTER
   L0
    LINENUMBER <span class="token number">240</span> L0
    ALOAD <span class="token number">0</span>
    ALOAD <span class="token number">1</span>
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>blocker <span class="token operator">:</span> Lsun<span class="token operator">/</span>nio<span class="token operator">/</span>ch<span class="token operator">/</span>Interruptible<span class="token operator">;</span>
   L5
    LINENUMBER <span class="token number">241</span> L5
    ALOAD <span class="token number">2</span>
    MONITOREXIT
   L1
    GOTO L6
   L2
   FRAME FULL <span class="token punctuation">[</span>java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread sun<span class="token operator">/</span>nio<span class="token operator">/</span>ch<span class="token operator">/</span>Interruptible java<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token punctuation">]</span> <span class="token punctuation">[</span>java<span class="token operator">/</span>lang<span class="token operator">/</span>Throwable<span class="token punctuation">]</span>
    ASTORE <span class="token number">3</span>
    ALOAD <span class="token number">2</span>
    MONITOREXIT
   L3
    ALOAD <span class="token number">3</span>
    ATHROW
   L6
    LINENUMBER <span class="token number">242</span> L6
   FRAME CHOP <span class="token number">1</span>
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">2</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">4</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x109</span>
  public static native currentThread<span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">;</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x109</span>
  public static native yield<span class="token operator">(</span><span class="token operator">)</span>V

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x109</span>
  public static native sleep<span class="token operator">(</span>J<span class="token operator">)</span>V throws java<span class="token operator">/</span>lang<span class="token operator">/</span>InterruptedException 

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x9</span>
  public static sleep<span class="token operator">(</span>JI<span class="token operator">)</span>V throws java<span class="token operator">/</span>lang<span class="token operator">/</span>InterruptedException 
   L0
    LINENUMBER <span class="token number">327</span> L0
    LLOAD <span class="token number">0</span>
    LCONST_0
    LCMP
    IFGE L1
   L2
    LINENUMBER <span class="token number">328</span> L2
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>IllegalArgumentException
    DUP
    LDC <span class="token string">&quot;timeout value is negative&quot;</span>
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>IllegalArgumentException<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span><span class="token operator">)</span>V
    ATHROW
   L1
    LINENUMBER <span class="token number">331</span> L1
   FRAME SAME
    ILOAD <span class="token number">2</span>
    IFLT L3
    ILOAD <span class="token number">2</span>
    LDC <span class="token number">999999</span>
    IF_ICMPLE L4
   L3
    LINENUMBER <span class="token number">332</span> L3
   FRAME SAME
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>IllegalArgumentException
    DUP
    LDC <span class="token string">&quot;nanosecond timeout value out of range&quot;</span>
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>IllegalArgumentException<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span><span class="token operator">)</span>V
    ATHROW
   L4
    LINENUMBER <span class="token number">336</span> L4
   FRAME SAME
    ILOAD <span class="token number">2</span>
    LDC <span class="token number">500000</span>
    IF_ICMPGE L5
    ILOAD <span class="token number">2</span>
    IFEQ L6
    LLOAD <span class="token number">0</span>
    LCONST_0
    LCMP
    IFNE L6
   L5
    LINENUMBER <span class="token number">337</span> L5
   FRAME SAME
    LLOAD <span class="token number">0</span>
    LCONST_1
    LADD
    LSTORE <span class="token number">0</span>
   L6
    LINENUMBER <span class="token number">340</span> L6
   FRAME SAME
    LLOAD <span class="token number">0</span>
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>sleep <span class="token operator">(</span>J<span class="token operator">)</span>V
   L7
    LINENUMBER <span class="token number">341</span> L7
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">4</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">3</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x2</span>
  private init<span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Runnable<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span>J<span class="token operator">)</span>V
   L0
    LINENUMBER <span class="token number">349</span> L0
    ALOAD <span class="token number">0</span>
    ALOAD <span class="token number">1</span>
    ALOAD <span class="token number">2</span>
    ALOAD <span class="token number">3</span>
    LLOAD <span class="token number">4</span>
    ACONST_NULL
    ICONST_1
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>init <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Runnable<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span>JLjava<span class="token operator">/</span>security<span class="token operator">/</span>AccessControlContext<span class="token operator">;</span>Z<span class="token operator">)</span>V
   L1
    LINENUMBER <span class="token number">350</span> L1
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">8</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">6</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x2</span>
  private init<span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Runnable<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span>JLjava<span class="token operator">/</span>security<span class="token operator">/</span>AccessControlContext<span class="token operator">;</span>Z<span class="token operator">)</span>V
   L0
    LINENUMBER <span class="token number">368</span> L0
    ALOAD <span class="token number">3</span>
    IFNONNULL L1
   L2
    LINENUMBER <span class="token number">369</span> L2
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>NullPointerException
    DUP
    LDC <span class="token string">&quot;name cannot be null&quot;</span>
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>NullPointerException<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span><span class="token operator">)</span>V
    ATHROW
   L1
    LINENUMBER <span class="token number">372</span> L1
   FRAME SAME
    ALOAD <span class="token number">0</span>
    ALOAD <span class="token number">3</span>
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>name <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span>
   L3
    LINENUMBER <span class="token number">374</span> L3
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>currentThread <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">;</span>
    ASTORE <span class="token number">8</span>
   L4
    LINENUMBER <span class="token number">375</span> L4
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>System<span class="token punctuation">.</span>getSecurityManager <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>SecurityManager<span class="token operator">;</span>
    ASTORE <span class="token number">9</span>
   L5
    LINENUMBER <span class="token number">376</span> L5
    ALOAD <span class="token number">1</span>
    IFNONNULL L6
   L7
    LINENUMBER <span class="token number">381</span> L7
    ALOAD <span class="token number">9</span>
    IFNULL L8
   L9
    LINENUMBER <span class="token number">382</span> L9
    ALOAD <span class="token number">9</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>SecurityManager<span class="token punctuation">.</span>getThreadGroup <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span>
    ASTORE <span class="token number">1</span>
   L8
    LINENUMBER <span class="token number">387</span> L8
   FRAME APPEND <span class="token punctuation">[</span>java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread java<span class="token operator">/</span>lang<span class="token operator">/</span>SecurityManager<span class="token punctuation">]</span>
    ALOAD <span class="token number">1</span>
    IFNONNULL L6
   L10
    LINENUMBER <span class="token number">388</span> L10
    ALOAD <span class="token number">8</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>getThreadGroup <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span>
    ASTORE <span class="token number">1</span>
   L6
    LINENUMBER <span class="token number">394</span> L6
   FRAME SAME
    ALOAD <span class="token number">1</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token punctuation">.</span>checkAccess <span class="token operator">(</span><span class="token operator">)</span>V
   L11
    LINENUMBER <span class="token number">399</span> L11
    ALOAD <span class="token number">9</span>
    IFNULL L12
   L13
    LINENUMBER <span class="token number">400</span> L13
    ALOAD <span class="token number">0</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token punctuation">.</span>getClass <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Class<span class="token operator">;</span>
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>isCCLOverridden <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Class<span class="token operator">;</span><span class="token operator">)</span>Z
    IFEQ L12
   L14
    LINENUMBER <span class="token number">401</span> L14
    ALOAD <span class="token number">9</span>
    GETSTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>SUBCLASS_IMPLEMENTATION_PERMISSION <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>RuntimePermission<span class="token operator">;</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>SecurityManager<span class="token punctuation">.</span>checkPermission <span class="token operator">(</span>Ljava<span class="token operator">/</span>security<span class="token operator">/</span>Permission<span class="token operator">;</span><span class="token operator">)</span>V
   L12
    LINENUMBER <span class="token number">405</span> L12
   FRAME SAME
    ALOAD <span class="token number">1</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token punctuation">.</span>addUnstarted <span class="token operator">(</span><span class="token operator">)</span>V
   L15
    LINENUMBER <span class="token number">407</span> L15
    ALOAD <span class="token number">0</span>
    ALOAD <span class="token number">1</span>
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>group <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span>
   L16
    LINENUMBER <span class="token number">408</span> L16
    ALOAD <span class="token number">0</span>
    ALOAD <span class="token number">8</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>isDaemon <span class="token operator">(</span><span class="token operator">)</span>Z
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>daemon <span class="token operator">:</span> Z
   L17
    LINENUMBER <span class="token number">409</span> L17
    ALOAD <span class="token number">0</span>
    ALOAD <span class="token number">8</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>getPriority <span class="token operator">(</span><span class="token operator">)</span>I
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>priority <span class="token operator">:</span> I
   L18
    LINENUMBER <span class="token number">410</span> L18
    ALOAD <span class="token number">9</span>
    IFNULL L19
    ALOAD <span class="token number">8</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token punctuation">.</span>getClass <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Class<span class="token operator">;</span>
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>isCCLOverridden <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Class<span class="token operator">;</span><span class="token operator">)</span>Z
    IFEQ L20
   L19
    LINENUMBER <span class="token number">411</span> L19
   FRAME SAME
    ALOAD <span class="token number">0</span>
    ALOAD <span class="token number">8</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>getContextClassLoader <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ClassLoader<span class="token operator">;</span>
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>contextClassLoader <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ClassLoader<span class="token operator">;</span>
    GOTO L21
   L20
    LINENUMBER <span class="token number">413</span> L20
   FRAME SAME
    ALOAD <span class="token number">0</span>
    ALOAD <span class="token number">8</span>
    GETFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>contextClassLoader <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ClassLoader<span class="token operator">;</span>
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>contextClassLoader <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ClassLoader<span class="token operator">;</span>
   L21
    LINENUMBER <span class="token number">414</span> L21
   FRAME SAME
    ALOAD <span class="token number">0</span>
    ALOAD <span class="token number">6</span>
    IFNULL L22
    ALOAD <span class="token number">6</span>
    GOTO L23
   L22
    LINENUMBER <span class="token number">415</span> L22
   FRAME SAME1 java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread
    INVOKESTATIC java<span class="token operator">/</span>security<span class="token operator">/</span>AccessController<span class="token punctuation">.</span>getContext <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>security<span class="token operator">/</span>AccessControlContext<span class="token operator">;</span>
   L23
   FRAME FULL <span class="token punctuation">[</span>java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread java<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup java<span class="token operator">/</span>lang<span class="token operator">/</span>Runnable java<span class="token operator">/</span>lang<span class="token operator">/</span>String J java<span class="token operator">/</span>security<span class="token operator">/</span>AccessControlContext I java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread java<span class="token operator">/</span>lang<span class="token operator">/</span>SecurityManager<span class="token punctuation">]</span> <span class="token punctuation">[</span>java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread java<span class="token operator">/</span>security<span class="token operator">/</span>AccessControlContext<span class="token punctuation">]</span>
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>inheritedAccessControlContext <span class="token operator">:</span> Ljava<span class="token operator">/</span>security<span class="token operator">/</span>AccessControlContext<span class="token operator">;</span>
   L24
    LINENUMBER <span class="token number">416</span> L24
    ALOAD <span class="token number">0</span>
    ALOAD <span class="token number">2</span>
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>target <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Runnable<span class="token operator">;</span>
   L25
    LINENUMBER <span class="token number">417</span> L25
    ALOAD <span class="token number">0</span>
    ALOAD <span class="token number">0</span>
    GETFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>priority <span class="token operator">:</span> I
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>setPriority <span class="token operator">(</span>I<span class="token operator">)</span>V
   L26
    LINENUMBER <span class="token number">418</span> L26
    ILOAD <span class="token number">7</span>
    IFEQ L27
    ALOAD <span class="token number">8</span>
    GETFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>inheritableThreadLocals <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadLocal<span class="token operator">$</span>ThreadLocalMap<span class="token operator">;</span>
    IFNULL L27
   L28
    LINENUMBER <span class="token number">419</span> L28
    ALOAD <span class="token number">0</span>
    ALOAD <span class="token number">8</span>
    GETFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>inheritableThreadLocals <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadLocal<span class="token operator">$</span>ThreadLocalMap<span class="token operator">;</span>
   L29
    LINENUMBER <span class="token number">420</span> L29
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadLocal<span class="token punctuation">.</span>createInheritedMap <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadLocal<span class="token operator">$</span>ThreadLocalMap<span class="token operator">;</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadLocal<span class="token operator">$</span>ThreadLocalMap<span class="token operator">;</span>
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>inheritableThreadLocals <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadLocal<span class="token operator">$</span>ThreadLocalMap<span class="token operator">;</span>
   L27
    LINENUMBER <span class="token number">422</span> L27
   FRAME SAME
    ALOAD <span class="token number">0</span>
    LLOAD <span class="token number">4</span>
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>stackSize <span class="token operator">:</span> J
   L30
    LINENUMBER <span class="token number">425</span> L30
    ALOAD <span class="token number">0</span>
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>nextThreadID <span class="token operator">(</span><span class="token operator">)</span>J
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>tid <span class="token operator">:</span> J
   L31
    LINENUMBER <span class="token number">426</span> L31
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">3</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">10</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x4</span>
  protected clone<span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token operator">;</span> throws java<span class="token operator">/</span>lang<span class="token operator">/</span>CloneNotSupportedException 
   L0
    LINENUMBER <span class="token number">437</span> L0
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>CloneNotSupportedException
    DUP
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>CloneNotSupportedException<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span><span class="token operator">)</span>V
    ATHROW
    MAXSTACK <span class="token operator">=</span> <span class="token number">2</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">1</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x1</span>
  public <span class="token operator">&lt;</span>init<span class="token operator">&gt;</span><span class="token operator">(</span><span class="token operator">)</span>V
   L0
    LINENUMBER <span class="token number">447</span> L0
    ALOAD <span class="token number">0</span>
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span><span class="token operator">)</span>V
   L1
    LINENUMBER <span class="token number">157</span> L1
    ALOAD <span class="token number">0</span>
    ICONST_0
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>daemon <span class="token operator">:</span> Z
   L2
    LINENUMBER <span class="token number">160</span> L2
    ALOAD <span class="token number">0</span>
    ICONST_0
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>stillborn <span class="token operator">:</span> Z
   L3
    LINENUMBER <span class="token number">182</span> L3
    ALOAD <span class="token number">0</span>
    ACONST_NULL
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>threadLocals <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadLocal<span class="token operator">$</span>ThreadLocalMap<span class="token operator">;</span>
   L4
    LINENUMBER <span class="token number">188</span> L4
    ALOAD <span class="token number">0</span>
    ACONST_NULL
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>inheritableThreadLocals <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadLocal<span class="token operator">$</span>ThreadLocalMap<span class="token operator">;</span>
   L5
    LINENUMBER <span class="token number">214</span> L5
    ALOAD <span class="token number">0</span>
    ICONST_0
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>threadStatus <span class="token operator">:</span> I
   L6
    LINENUMBER <span class="token number">234</span> L6
    ALOAD <span class="token number">0</span>
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>Object
    DUP
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span><span class="token operator">)</span>V
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>blockerLock <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token operator">;</span>
   L7
    LINENUMBER <span class="token number">448</span> L7
    ALOAD <span class="token number">0</span>
    ACONST_NULL
    ACONST_NULL
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder
    DUP
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span><span class="token operator">)</span>V
    LDC <span class="token string">&quot;Thread-&quot;</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token punctuation">.</span>append <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token operator">;</span>
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>nextThreadNum <span class="token operator">(</span><span class="token operator">)</span>I
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token punctuation">.</span>append <span class="token operator">(</span>I<span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token operator">;</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token punctuation">.</span>toString <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span>
    LCONST_0
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>init <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Runnable<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span>J<span class="token operator">)</span>V
   L8
    LINENUMBER <span class="token number">449</span> L8
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">6</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">1</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x1</span>
  public <span class="token operator">&lt;</span>init<span class="token operator">&gt;</span><span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Runnable<span class="token operator">;</span><span class="token operator">)</span>V
   L0
    LINENUMBER <span class="token number">463</span> L0
    ALOAD <span class="token number">0</span>
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span><span class="token operator">)</span>V
   L1
    LINENUMBER <span class="token number">157</span> L1
    ALOAD <span class="token number">0</span>
    ICONST_0
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>daemon <span class="token operator">:</span> Z
   L2
    LINENUMBER <span class="token number">160</span> L2
    ALOAD <span class="token number">0</span>
    ICONST_0
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>stillborn <span class="token operator">:</span> Z
   L3
    LINENUMBER <span class="token number">182</span> L3
    ALOAD <span class="token number">0</span>
    ACONST_NULL
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>threadLocals <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadLocal<span class="token operator">$</span>ThreadLocalMap<span class="token operator">;</span>
   L4
    LINENUMBER <span class="token number">188</span> L4
    ALOAD <span class="token number">0</span>
    ACONST_NULL
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>inheritableThreadLocals <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadLocal<span class="token operator">$</span>ThreadLocalMap<span class="token operator">;</span>
   L5
    LINENUMBER <span class="token number">214</span> L5
    ALOAD <span class="token number">0</span>
    ICONST_0
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>threadStatus <span class="token operator">:</span> I
   L6
    LINENUMBER <span class="token number">234</span> L6
    ALOAD <span class="token number">0</span>
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>Object
    DUP
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span><span class="token operator">)</span>V
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>blockerLock <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token operator">;</span>
   L7
    LINENUMBER <span class="token number">464</span> L7
    ALOAD <span class="token number">0</span>
    ACONST_NULL
    ALOAD <span class="token number">1</span>
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder
    DUP
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span><span class="token operator">)</span>V
    LDC <span class="token string">&quot;Thread-&quot;</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token punctuation">.</span>append <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token operator">;</span>
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>nextThreadNum <span class="token operator">(</span><span class="token operator">)</span>I
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token punctuation">.</span>append <span class="token operator">(</span>I<span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token operator">;</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token punctuation">.</span>toString <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span>
    LCONST_0
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>init <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Runnable<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span>J<span class="token operator">)</span>V
   L8
    LINENUMBER <span class="token number">465</span> L8
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">6</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">2</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x0</span>
  <span class="token operator">&lt;</span>init<span class="token operator">&gt;</span><span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Runnable<span class="token operator">;</span>Ljava<span class="token operator">/</span>security<span class="token operator">/</span>AccessControlContext<span class="token operator">;</span><span class="token operator">)</span>V
   L0
    LINENUMBER <span class="token number">471</span> L0
    ALOAD <span class="token number">0</span>
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span><span class="token operator">)</span>V
   L1
    LINENUMBER <span class="token number">157</span> L1
    ALOAD <span class="token number">0</span>
    ICONST_0
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>daemon <span class="token operator">:</span> Z
   L2
    LINENUMBER <span class="token number">160</span> L2
    ALOAD <span class="token number">0</span>
    ICONST_0
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>stillborn <span class="token operator">:</span> Z
   L3
    LINENUMBER <span class="token number">182</span> L3
    ALOAD <span class="token number">0</span>
    ACONST_NULL
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>threadLocals <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadLocal<span class="token operator">$</span>ThreadLocalMap<span class="token operator">;</span>
   L4
    LINENUMBER <span class="token number">188</span> L4
    ALOAD <span class="token number">0</span>
    ACONST_NULL
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>inheritableThreadLocals <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadLocal<span class="token operator">$</span>ThreadLocalMap<span class="token operator">;</span>
   L5
    LINENUMBER <span class="token number">214</span> L5
    ALOAD <span class="token number">0</span>
    ICONST_0
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>threadStatus <span class="token operator">:</span> I
   L6
    LINENUMBER <span class="token number">234</span> L6
    ALOAD <span class="token number">0</span>
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>Object
    DUP
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span><span class="token operator">)</span>V
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>blockerLock <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token operator">;</span>
   L7
    LINENUMBER <span class="token number">472</span> L7
    ALOAD <span class="token number">0</span>
    ACONST_NULL
    ALOAD <span class="token number">1</span>
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder
    DUP
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span><span class="token operator">)</span>V
    LDC <span class="token string">&quot;Thread-&quot;</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token punctuation">.</span>append <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token operator">;</span>
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>nextThreadNum <span class="token operator">(</span><span class="token operator">)</span>I
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token punctuation">.</span>append <span class="token operator">(</span>I<span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token operator">;</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token punctuation">.</span>toString <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span>
    LCONST_0
    ALOAD <span class="token number">2</span>
    ICONST_0
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>init <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Runnable<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span>JLjava<span class="token operator">/</span>security<span class="token operator">/</span>AccessControlContext<span class="token operator">;</span>Z<span class="token operator">)</span>V
   L8
    LINENUMBER <span class="token number">473</span> L8
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">8</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">3</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x1</span>
  public <span class="token operator">&lt;</span>init<span class="token operator">&gt;</span><span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Runnable<span class="token operator">;</span><span class="token operator">)</span>V
   L0
    LINENUMBER <span class="token number">498</span> L0
    ALOAD <span class="token number">0</span>
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span><span class="token operator">)</span>V
   L1
    LINENUMBER <span class="token number">157</span> L1
    ALOAD <span class="token number">0</span>
    ICONST_0
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>daemon <span class="token operator">:</span> Z
   L2
    LINENUMBER <span class="token number">160</span> L2
    ALOAD <span class="token number">0</span>
    ICONST_0
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>stillborn <span class="token operator">:</span> Z
   L3
    LINENUMBER <span class="token number">182</span> L3
    ALOAD <span class="token number">0</span>
    ACONST_NULL
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>threadLocals <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadLocal<span class="token operator">$</span>ThreadLocalMap<span class="token operator">;</span>
   L4
    LINENUMBER <span class="token number">188</span> L4
    ALOAD <span class="token number">0</span>
    ACONST_NULL
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>inheritableThreadLocals <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadLocal<span class="token operator">$</span>ThreadLocalMap<span class="token operator">;</span>
   L5
    LINENUMBER <span class="token number">214</span> L5
    ALOAD <span class="token number">0</span>
    ICONST_0
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>threadStatus <span class="token operator">:</span> I
   L6
    LINENUMBER <span class="token number">234</span> L6
    ALOAD <span class="token number">0</span>
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>Object
    DUP
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span><span class="token operator">)</span>V
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>blockerLock <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token operator">;</span>
   L7
    LINENUMBER <span class="token number">499</span> L7
    ALOAD <span class="token number">0</span>
    ALOAD <span class="token number">1</span>
    ALOAD <span class="token number">2</span>
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder
    DUP
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span><span class="token operator">)</span>V
    LDC <span class="token string">&quot;Thread-&quot;</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token punctuation">.</span>append <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token operator">;</span>
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>nextThreadNum <span class="token operator">(</span><span class="token operator">)</span>I
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token punctuation">.</span>append <span class="token operator">(</span>I<span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token operator">;</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token punctuation">.</span>toString <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span>
    LCONST_0
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>init <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Runnable<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span>J<span class="token operator">)</span>V
   L8
    LINENUMBER <span class="token number">500</span> L8
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">6</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">3</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x1</span>
  public <span class="token operator">&lt;</span>init<span class="token operator">&gt;</span><span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span><span class="token operator">)</span>V
   L0
    LINENUMBER <span class="token number">510</span> L0
    ALOAD <span class="token number">0</span>
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span><span class="token operator">)</span>V
   L1
    LINENUMBER <span class="token number">157</span> L1
    ALOAD <span class="token number">0</span>
    ICONST_0
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>daemon <span class="token operator">:</span> Z
   L2
    LINENUMBER <span class="token number">160</span> L2
    ALOAD <span class="token number">0</span>
    ICONST_0
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>stillborn <span class="token operator">:</span> Z
   L3
    LINENUMBER <span class="token number">182</span> L3
    ALOAD <span class="token number">0</span>
    ACONST_NULL
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>threadLocals <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadLocal<span class="token operator">$</span>ThreadLocalMap<span class="token operator">;</span>
   L4
    LINENUMBER <span class="token number">188</span> L4
    ALOAD <span class="token number">0</span>
    ACONST_NULL
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>inheritableThreadLocals <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadLocal<span class="token operator">$</span>ThreadLocalMap<span class="token operator">;</span>
   L5
    LINENUMBER <span class="token number">214</span> L5
    ALOAD <span class="token number">0</span>
    ICONST_0
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>threadStatus <span class="token operator">:</span> I
   L6
    LINENUMBER <span class="token number">234</span> L6
    ALOAD <span class="token number">0</span>
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>Object
    DUP
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span><span class="token operator">)</span>V
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>blockerLock <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token operator">;</span>
   L7
    LINENUMBER <span class="token number">511</span> L7
    ALOAD <span class="token number">0</span>
    ACONST_NULL
    ACONST_NULL
    ALOAD <span class="token number">1</span>
    LCONST_0
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>init <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Runnable<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span>J<span class="token operator">)</span>V
   L8
    LINENUMBER <span class="token number">512</span> L8
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">6</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">2</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x1</span>
  public <span class="token operator">&lt;</span>init<span class="token operator">&gt;</span><span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span><span class="token operator">)</span>V
   L0
    LINENUMBER <span class="token number">534</span> L0
    ALOAD <span class="token number">0</span>
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span><span class="token operator">)</span>V
   L1
    LINENUMBER <span class="token number">157</span> L1
    ALOAD <span class="token number">0</span>
    ICONST_0
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>daemon <span class="token operator">:</span> Z
   L2
    LINENUMBER <span class="token number">160</span> L2
    ALOAD <span class="token number">0</span>
    ICONST_0
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>stillborn <span class="token operator">:</span> Z
   L3
    LINENUMBER <span class="token number">182</span> L3
    ALOAD <span class="token number">0</span>
    ACONST_NULL
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>threadLocals <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadLocal<span class="token operator">$</span>ThreadLocalMap<span class="token operator">;</span>
   L4
    LINENUMBER <span class="token number">188</span> L4
    ALOAD <span class="token number">0</span>
    ACONST_NULL
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>inheritableThreadLocals <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadLocal<span class="token operator">$</span>ThreadLocalMap<span class="token operator">;</span>
   L5
    LINENUMBER <span class="token number">214</span> L5
    ALOAD <span class="token number">0</span>
    ICONST_0
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>threadStatus <span class="token operator">:</span> I
   L6
    LINENUMBER <span class="token number">234</span> L6
    ALOAD <span class="token number">0</span>
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>Object
    DUP
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span><span class="token operator">)</span>V
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>blockerLock <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token operator">;</span>
   L7
    LINENUMBER <span class="token number">535</span> L7
    ALOAD <span class="token number">0</span>
    ALOAD <span class="token number">1</span>
    ACONST_NULL
    ALOAD <span class="token number">2</span>
    LCONST_0
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>init <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Runnable<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span>J<span class="token operator">)</span>V
   L8
    LINENUMBER <span class="token number">536</span> L8
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">6</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">3</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x1</span>
  public <span class="token operator">&lt;</span>init<span class="token operator">&gt;</span><span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Runnable<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span><span class="token operator">)</span>V
   L0
    LINENUMBER <span class="token number">550</span> L0
    ALOAD <span class="token number">0</span>
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span><span class="token operator">)</span>V
   L1
    LINENUMBER <span class="token number">157</span> L1
    ALOAD <span class="token number">0</span>
    ICONST_0
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>daemon <span class="token operator">:</span> Z
   L2
    LINENUMBER <span class="token number">160</span> L2
    ALOAD <span class="token number">0</span>
    ICONST_0
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>stillborn <span class="token operator">:</span> Z
   L3
    LINENUMBER <span class="token number">182</span> L3
    ALOAD <span class="token number">0</span>
    ACONST_NULL
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>threadLocals <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadLocal<span class="token operator">$</span>ThreadLocalMap<span class="token operator">;</span>
   L4
    LINENUMBER <span class="token number">188</span> L4
    ALOAD <span class="token number">0</span>
    ACONST_NULL
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>inheritableThreadLocals <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadLocal<span class="token operator">$</span>ThreadLocalMap<span class="token operator">;</span>
   L5
    LINENUMBER <span class="token number">214</span> L5
    ALOAD <span class="token number">0</span>
    ICONST_0
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>threadStatus <span class="token operator">:</span> I
   L6
    LINENUMBER <span class="token number">234</span> L6
    ALOAD <span class="token number">0</span>
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>Object
    DUP
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span><span class="token operator">)</span>V
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>blockerLock <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token operator">;</span>
   L7
    LINENUMBER <span class="token number">551</span> L7
    ALOAD <span class="token number">0</span>
    ACONST_NULL
    ALOAD <span class="token number">1</span>
    ALOAD <span class="token number">2</span>
    LCONST_0
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>init <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Runnable<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span>J<span class="token operator">)</span>V
   L8
    LINENUMBER <span class="token number">552</span> L8
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">6</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">3</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x1</span>
  public <span class="token operator">&lt;</span>init<span class="token operator">&gt;</span><span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Runnable<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span><span class="token operator">)</span>V
   L0
    LINENUMBER <span class="token number">598</span> L0
    ALOAD <span class="token number">0</span>
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span><span class="token operator">)</span>V
   L1
    LINENUMBER <span class="token number">157</span> L1
    ALOAD <span class="token number">0</span>
    ICONST_0
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>daemon <span class="token operator">:</span> Z
   L2
    LINENUMBER <span class="token number">160</span> L2
    ALOAD <span class="token number">0</span>
    ICONST_0
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>stillborn <span class="token operator">:</span> Z
   L3
    LINENUMBER <span class="token number">182</span> L3
    ALOAD <span class="token number">0</span>
    ACONST_NULL
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>threadLocals <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadLocal<span class="token operator">$</span>ThreadLocalMap<span class="token operator">;</span>
   L4
    LINENUMBER <span class="token number">188</span> L4
    ALOAD <span class="token number">0</span>
    ACONST_NULL
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>inheritableThreadLocals <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadLocal<span class="token operator">$</span>ThreadLocalMap<span class="token operator">;</span>
   L5
    LINENUMBER <span class="token number">214</span> L5
    ALOAD <span class="token number">0</span>
    ICONST_0
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>threadStatus <span class="token operator">:</span> I
   L6
    LINENUMBER <span class="token number">234</span> L6
    ALOAD <span class="token number">0</span>
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>Object
    DUP
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span><span class="token operator">)</span>V
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>blockerLock <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token operator">;</span>
   L7
    LINENUMBER <span class="token number">599</span> L7
    ALOAD <span class="token number">0</span>
    ALOAD <span class="token number">1</span>
    ALOAD <span class="token number">2</span>
    ALOAD <span class="token number">3</span>
    LCONST_0
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>init <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Runnable<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span>J<span class="token operator">)</span>V
   L8
    LINENUMBER <span class="token number">600</span> L8
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">6</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">4</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x1</span>
  public <span class="token operator">&lt;</span>init<span class="token operator">&gt;</span><span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Runnable<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span>J<span class="token operator">)</span>V
   L0
    LINENUMBER <span class="token number">677</span> L0
    ALOAD <span class="token number">0</span>
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span><span class="token operator">)</span>V
   L1
    LINENUMBER <span class="token number">157</span> L1
    ALOAD <span class="token number">0</span>
    ICONST_0
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>daemon <span class="token operator">:</span> Z
   L2
    LINENUMBER <span class="token number">160</span> L2
    ALOAD <span class="token number">0</span>
    ICONST_0
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>stillborn <span class="token operator">:</span> Z
   L3
    LINENUMBER <span class="token number">182</span> L3
    ALOAD <span class="token number">0</span>
    ACONST_NULL
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>threadLocals <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadLocal<span class="token operator">$</span>ThreadLocalMap<span class="token operator">;</span>
   L4
    LINENUMBER <span class="token number">188</span> L4
    ALOAD <span class="token number">0</span>
    ACONST_NULL
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>inheritableThreadLocals <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadLocal<span class="token operator">$</span>ThreadLocalMap<span class="token operator">;</span>
   L5
    LINENUMBER <span class="token number">214</span> L5
    ALOAD <span class="token number">0</span>
    ICONST_0
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>threadStatus <span class="token operator">:</span> I
   L6
    LINENUMBER <span class="token number">234</span> L6
    ALOAD <span class="token number">0</span>
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>Object
    DUP
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span><span class="token operator">)</span>V
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>blockerLock <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token operator">;</span>
   L7
    LINENUMBER <span class="token number">678</span> L7
    ALOAD <span class="token number">0</span>
    ALOAD <span class="token number">1</span>
    ALOAD <span class="token number">2</span>
    ALOAD <span class="token number">3</span>
    LLOAD <span class="token number">4</span>
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>init <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Runnable<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span>J<span class="token operator">)</span>V
   L8
    LINENUMBER <span class="token number">679</span> L8
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">6</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">6</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x21</span>
  public synchronized start<span class="token operator">(</span><span class="token operator">)</span>V
    TRYCATCHBLOCK L0 L1 L2 java<span class="token operator">/</span>lang<span class="token operator">/</span>Throwable
    TRYCATCHBLOCK L3 L0 L4 <span class="token boolean">null</span>
    TRYCATCHBLOCK L5 L6 L7 java<span class="token operator">/</span>lang<span class="token operator">/</span>Throwable
   L8
    LINENUMBER <span class="token number">707</span> L8
    ALOAD <span class="token number">0</span>
    GETFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>threadStatus <span class="token operator">:</span> I
    IFEQ L9
   L10
    LINENUMBER <span class="token number">708</span> L10
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>IllegalThreadStateException
    DUP
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>IllegalThreadStateException<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span><span class="token operator">)</span>V
    ATHROW
   L9
    LINENUMBER <span class="token number">713</span> L9
   FRAME SAME
    ALOAD <span class="token number">0</span>
    GETFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>group <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span>
    ALOAD <span class="token number">0</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token punctuation">.</span>add <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">;</span><span class="token operator">)</span>V
   L11
    LINENUMBER <span class="token number">715</span> L11
    ICONST_0
    ISTORE <span class="token number">1</span>
   L3
    LINENUMBER <span class="token number">717</span> L3
    ALOAD <span class="token number">0</span>
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>start0 <span class="token operator">(</span><span class="token operator">)</span>V
   L12
    LINENUMBER <span class="token number">718</span> L12
    ICONST_1
    ISTORE <span class="token number">1</span>
   L0
    LINENUMBER <span class="token number">721</span> L0
    ILOAD <span class="token number">1</span>
    IFNE L1
   L13
    LINENUMBER <span class="token number">722</span> L13
    ALOAD <span class="token number">0</span>
    GETFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>group <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span>
    ALOAD <span class="token number">0</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token punctuation">.</span>threadStartFailed <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">;</span><span class="token operator">)</span>V
   L1
    LINENUMBER <span class="token number">727</span> L1
   FRAME APPEND <span class="token punctuation">[</span>I<span class="token punctuation">]</span>
    GOTO L14
   L2
    LINENUMBER <span class="token number">724</span> L2
   FRAME SAME1 java<span class="token operator">/</span>lang<span class="token operator">/</span>Throwable
    ASTORE <span class="token number">2</span>
   L15
    LINENUMBER <span class="token number">728</span> L15
    GOTO L14
   L4
    LINENUMBER <span class="token number">720</span> L4
   FRAME SAME1 java<span class="token operator">/</span>lang<span class="token operator">/</span>Throwable
    ASTORE <span class="token number">3</span>
   L5
    LINENUMBER <span class="token number">721</span> L5
    ILOAD <span class="token number">1</span>
    IFNE L6
   L16
    LINENUMBER <span class="token number">722</span> L16
    ALOAD <span class="token number">0</span>
    GETFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>group <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span>
    ALOAD <span class="token number">0</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token punctuation">.</span>threadStartFailed <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">;</span><span class="token operator">)</span>V
   L6
    LINENUMBER <span class="token number">727</span> L6
   FRAME APPEND <span class="token punctuation">[</span>T java<span class="token operator">/</span>lang<span class="token operator">/</span>Throwable<span class="token punctuation">]</span>
    GOTO L17
   L7
    LINENUMBER <span class="token number">724</span> L7
   FRAME SAME1 java<span class="token operator">/</span>lang<span class="token operator">/</span>Throwable
    ASTORE <span class="token number">4</span>
   L17
    LINENUMBER <span class="token number">728</span> L17
   FRAME SAME
    ALOAD <span class="token number">3</span>
    ATHROW
   L14
    LINENUMBER <span class="token number">729</span> L14
   FRAME CHOP <span class="token number">2</span>
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">2</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">5</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x102</span>
  private native start0<span class="token operator">(</span><span class="token operator">)</span>V

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x1</span>
  public run<span class="token operator">(</span><span class="token operator">)</span>V
   L0
    LINENUMBER <span class="token number">747</span> L0
    ALOAD <span class="token number">0</span>
    GETFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>target <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Runnable<span class="token operator">;</span>
    IFNULL L1
   L2
    LINENUMBER <span class="token number">748</span> L2
    ALOAD <span class="token number">0</span>
    GETFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>target <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Runnable<span class="token operator">;</span>
    INVOKEINTERFACE java<span class="token operator">/</span>lang<span class="token operator">/</span>Runnable<span class="token punctuation">.</span>run <span class="token operator">(</span><span class="token operator">)</span>V <span class="token operator">(</span>itf<span class="token operator">)</span>
   L1
    LINENUMBER <span class="token number">750</span> L1
   FRAME SAME
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">1</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">1</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x2</span>
  private exit<span class="token operator">(</span><span class="token operator">)</span>V
   L0
    LINENUMBER <span class="token number">757</span> L0
    ALOAD <span class="token number">0</span>
    GETFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>group <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span>
    IFNULL L1
   L2
    LINENUMBER <span class="token number">758</span> L2
    ALOAD <span class="token number">0</span>
    GETFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>group <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span>
    ALOAD <span class="token number">0</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token punctuation">.</span>threadTerminated <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">;</span><span class="token operator">)</span>V
   L3
    LINENUMBER <span class="token number">759</span> L3
    ALOAD <span class="token number">0</span>
    ACONST_NULL
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>group <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span>
   L1
    LINENUMBER <span class="token number">762</span> L1
   FRAME SAME
    ALOAD <span class="token number">0</span>
    ACONST_NULL
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>target <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Runnable<span class="token operator">;</span>
   L4
    LINENUMBER <span class="token number">764</span> L4
    ALOAD <span class="token number">0</span>
    ACONST_NULL
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>threadLocals <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadLocal<span class="token operator">$</span>ThreadLocalMap<span class="token operator">;</span>
   L5
    LINENUMBER <span class="token number">765</span> L5
    ALOAD <span class="token number">0</span>
    ACONST_NULL
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>inheritableThreadLocals <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadLocal<span class="token operator">$</span>ThreadLocalMap<span class="token operator">;</span>
   L6
    LINENUMBER <span class="token number">766</span> L6
    ALOAD <span class="token number">0</span>
    ACONST_NULL
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>inheritedAccessControlContext <span class="token operator">:</span> Ljava<span class="token operator">/</span>security<span class="token operator">/</span>AccessControlContext<span class="token operator">;</span>
   L7
    LINENUMBER <span class="token number">767</span> L7
    ALOAD <span class="token number">0</span>
    ACONST_NULL
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>blocker <span class="token operator">:</span> Lsun<span class="token operator">/</span>nio<span class="token operator">/</span>ch<span class="token operator">/</span>Interruptible<span class="token operator">;</span>
   L8
    LINENUMBER <span class="token number">768</span> L8
    ALOAD <span class="token number">0</span>
    ACONST_NULL
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>uncaughtExceptionHandler <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">$</span>UncaughtExceptionHandler<span class="token operator">;</span>
   L9
    LINENUMBER <span class="token number">769</span> L9
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">2</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">1</span>

  <span class="token operator">/</span><span class="token operator">/</span> DEPRECATED
  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x20011</span>
  public final stop<span class="token operator">(</span><span class="token operator">)</span>V
  <span class="token operator">@</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Deprecated<span class="token operator">;</span><span class="token operator">(</span><span class="token operator">)</span>
   L0
    LINENUMBER <span class="token number">839</span> L0
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>System<span class="token punctuation">.</span>getSecurityManager <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>SecurityManager<span class="token operator">;</span>
    ASTORE <span class="token number">1</span>
   L1
    LINENUMBER <span class="token number">840</span> L1
    ALOAD <span class="token number">1</span>
    IFNULL L2
   L3
    LINENUMBER <span class="token number">841</span> L3
    ALOAD <span class="token number">0</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>checkAccess <span class="token operator">(</span><span class="token operator">)</span>V
   L4
    LINENUMBER <span class="token number">842</span> L4
    ALOAD <span class="token number">0</span>
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>currentThread <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">;</span>
    IF_ACMPEQ L2
   L5
    LINENUMBER <span class="token number">843</span> L5
    ALOAD <span class="token number">1</span>
    GETSTATIC sun<span class="token operator">/</span>security<span class="token operator">/</span>util<span class="token operator">/</span>SecurityConstants<span class="token punctuation">.</span>STOP_THREAD_PERMISSION <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>RuntimePermission<span class="token operator">;</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>SecurityManager<span class="token punctuation">.</span>checkPermission <span class="token operator">(</span>Ljava<span class="token operator">/</span>security<span class="token operator">/</span>Permission<span class="token operator">;</span><span class="token operator">)</span>V
   L2
    LINENUMBER <span class="token number">848</span> L2
   FRAME APPEND <span class="token punctuation">[</span>java<span class="token operator">/</span>lang<span class="token operator">/</span>SecurityManager<span class="token punctuation">]</span>
    ALOAD <span class="token number">0</span>
    GETFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>threadStatus <span class="token operator">:</span> I
    IFEQ L6
   L7
    LINENUMBER <span class="token number">849</span> L7
    ALOAD <span class="token number">0</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>resume <span class="token operator">(</span><span class="token operator">)</span>V
   L6
    LINENUMBER <span class="token number">853</span> L6
   FRAME SAME
    ALOAD <span class="token number">0</span>
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadDeath
    DUP
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadDeath<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span><span class="token operator">)</span>V
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>stop0 <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token operator">;</span><span class="token operator">)</span>V
   L8
    LINENUMBER <span class="token number">854</span> L8
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">3</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">2</span>

  <span class="token operator">/</span><span class="token operator">/</span> DEPRECATED
  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x20031</span>
  public final synchronized stop<span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Throwable<span class="token operator">;</span><span class="token operator">)</span>V
  <span class="token operator">@</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Deprecated<span class="token operator">;</span><span class="token operator">(</span><span class="token operator">)</span>
   L0
    LINENUMBER <span class="token number">872</span> L0
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>UnsupportedOperationException
    DUP
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>UnsupportedOperationException<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span><span class="token operator">)</span>V
    ATHROW
    MAXSTACK <span class="token operator">=</span> <span class="token number">2</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">2</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x1</span>
  public interrupt<span class="token operator">(</span><span class="token operator">)</span>V
    TRYCATCHBLOCK L0 L1 L2 <span class="token boolean">null</span>
    TRYCATCHBLOCK L3 L4 L2 <span class="token boolean">null</span>
    TRYCATCHBLOCK L2 L5 L2 <span class="token boolean">null</span>
   L6
    LINENUMBER <span class="token number">915</span> L6
    ALOAD <span class="token number">0</span>
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>currentThread <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">;</span>
    IF_ACMPEQ L7
   L8
    LINENUMBER <span class="token number">916</span> L8
    ALOAD <span class="token number">0</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>checkAccess <span class="token operator">(</span><span class="token operator">)</span>V
   L7
    LINENUMBER <span class="token number">918</span> L7
   FRAME SAME
    ALOAD <span class="token number">0</span>
    GETFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>blockerLock <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token operator">;</span>
    DUP
    ASTORE <span class="token number">1</span>
    MONITORENTER
   L0
    LINENUMBER <span class="token number">919</span> L0
    ALOAD <span class="token number">0</span>
    GETFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>blocker <span class="token operator">:</span> Lsun<span class="token operator">/</span>nio<span class="token operator">/</span>ch<span class="token operator">/</span>Interruptible<span class="token operator">;</span>
    ASTORE <span class="token number">2</span>
   L9
    LINENUMBER <span class="token number">920</span> L9
    ALOAD <span class="token number">2</span>
    IFNULL L3
   L10
    LINENUMBER <span class="token number">921</span> L10
    ALOAD <span class="token number">0</span>
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>interrupt0 <span class="token operator">(</span><span class="token operator">)</span>V
   L11
    LINENUMBER <span class="token number">922</span> L11
    ALOAD <span class="token number">2</span>
    ALOAD <span class="token number">0</span>
    INVOKEINTERFACE sun<span class="token operator">/</span>nio<span class="token operator">/</span>ch<span class="token operator">/</span>Interruptible<span class="token punctuation">.</span>interrupt <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">;</span><span class="token operator">)</span>V <span class="token operator">(</span>itf<span class="token operator">)</span>
   L12
    LINENUMBER <span class="token number">923</span> L12
    ALOAD <span class="token number">1</span>
    MONITOREXIT
   L1
    RETURN
   L3
    LINENUMBER <span class="token number">925</span> L3
   FRAME APPEND <span class="token punctuation">[</span>java<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token punctuation">]</span>
    ALOAD <span class="token number">1</span>
    MONITOREXIT
   L4
    GOTO L13
   L2
   FRAME SAME1 java<span class="token operator">/</span>lang<span class="token operator">/</span>Throwable
    ASTORE <span class="token number">3</span>
    ALOAD <span class="token number">1</span>
    MONITOREXIT
   L5
    ALOAD <span class="token number">3</span>
    ATHROW
   L13
    LINENUMBER <span class="token number">926</span> L13
   FRAME CHOP <span class="token number">1</span>
    ALOAD <span class="token number">0</span>
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>interrupt0 <span class="token operator">(</span><span class="token operator">)</span>V
   L14
    LINENUMBER <span class="token number">927</span> L14
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">2</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">4</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x9</span>
  public static interrupted<span class="token operator">(</span><span class="token operator">)</span>Z
   L0
    LINENUMBER <span class="token number">947</span> L0
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>currentThread <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">;</span>
    ICONST_1
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>isInterrupted <span class="token operator">(</span>Z<span class="token operator">)</span>Z
    IRETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">2</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">0</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x1</span>
  public isInterrupted<span class="token operator">(</span><span class="token operator">)</span>Z
   L0
    LINENUMBER <span class="token number">964</span> L0
    ALOAD <span class="token number">0</span>
    ICONST_0
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>isInterrupted <span class="token operator">(</span>Z<span class="token operator">)</span>Z
    IRETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">2</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">1</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x102</span>
  private native isInterrupted<span class="token operator">(</span>Z<span class="token operator">)</span>Z

  <span class="token operator">/</span><span class="token operator">/</span> DEPRECATED
  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x20001</span>
  public destroy<span class="token operator">(</span><span class="token operator">)</span>V
  <span class="token operator">@</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Deprecated<span class="token operator">;</span><span class="token operator">(</span><span class="token operator">)</span>
   L0
    LINENUMBER <span class="token number">993</span> L0
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>NoSuchMethodError
    DUP
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>NoSuchMethodError<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span><span class="token operator">)</span>V
    ATHROW
    MAXSTACK <span class="token operator">=</span> <span class="token number">2</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">1</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x111</span>
  public final native isAlive<span class="token operator">(</span><span class="token operator">)</span>Z

  <span class="token operator">/</span><span class="token operator">/</span> DEPRECATED
  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x20011</span>
  public final suspend<span class="token operator">(</span><span class="token operator">)</span>V
  <span class="token operator">@</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Deprecated<span class="token operator">;</span><span class="token operator">(</span><span class="token operator">)</span>
   L0
    LINENUMBER <span class="token number">1031</span> L0
    ALOAD <span class="token number">0</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>checkAccess <span class="token operator">(</span><span class="token operator">)</span>V
   L1
    LINENUMBER <span class="token number">1032</span> L1
    ALOAD <span class="token number">0</span>
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>suspend0 <span class="token operator">(</span><span class="token operator">)</span>V
   L2
    LINENUMBER <span class="token number">1033</span> L2
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">1</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">1</span>

  <span class="token operator">/</span><span class="token operator">/</span> DEPRECATED
  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x20011</span>
  public final resume<span class="token operator">(</span><span class="token operator">)</span>V
  <span class="token operator">@</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Deprecated<span class="token operator">;</span><span class="token operator">(</span><span class="token operator">)</span>
   L0
    LINENUMBER <span class="token number">1057</span> L0
    ALOAD <span class="token number">0</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>checkAccess <span class="token operator">(</span><span class="token operator">)</span>V
   L1
    LINENUMBER <span class="token number">1058</span> L1
    ALOAD <span class="token number">0</span>
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>resume0 <span class="token operator">(</span><span class="token operator">)</span>V
   L2
    LINENUMBER <span class="token number">1059</span> L2
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">1</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">1</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x11</span>
  public final setPriority<span class="token operator">(</span>I<span class="token operator">)</span>V
   L0
    LINENUMBER <span class="token number">1087</span> L0
    ALOAD <span class="token number">0</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>checkAccess <span class="token operator">(</span><span class="token operator">)</span>V
   L1
    LINENUMBER <span class="token number">1088</span> L1
    ILOAD <span class="token number">1</span>
    BIPUSH <span class="token number">10</span>
    IF_ICMPGT L2
    ILOAD <span class="token number">1</span>
    ICONST_1
    IF_ICMPGE L3
   L2
    LINENUMBER <span class="token number">1089</span> L2
   FRAME SAME
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>IllegalArgumentException
    DUP
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>IllegalArgumentException<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span><span class="token operator">)</span>V
    ATHROW
   L3
    LINENUMBER <span class="token number">1091</span> L3
   FRAME SAME
    ALOAD <span class="token number">0</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>getThreadGroup <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span>
    DUP
    ASTORE <span class="token number">2</span>
    IFNULL L4
   L5
    LINENUMBER <span class="token number">1092</span> L5
    ILOAD <span class="token number">1</span>
    ALOAD <span class="token number">2</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token punctuation">.</span>getMaxPriority <span class="token operator">(</span><span class="token operator">)</span>I
    IF_ICMPLE L6
   L7
    LINENUMBER <span class="token number">1093</span> L7
    ALOAD <span class="token number">2</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token punctuation">.</span>getMaxPriority <span class="token operator">(</span><span class="token operator">)</span>I
    ISTORE <span class="token number">1</span>
   L6
    LINENUMBER <span class="token number">1095</span> L6
   FRAME APPEND <span class="token punctuation">[</span>java<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token punctuation">]</span>
    ALOAD <span class="token number">0</span>
    ALOAD <span class="token number">0</span>
    ILOAD <span class="token number">1</span>
    DUP_X1
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>priority <span class="token operator">:</span> I
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>setPriority0 <span class="token operator">(</span>I<span class="token operator">)</span>V
   L4
    LINENUMBER <span class="token number">1097</span> L4
   FRAME SAME
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">4</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">3</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x11</span>
  public final getPriority<span class="token operator">(</span><span class="token operator">)</span>I
   L0
    LINENUMBER <span class="token number">1106</span> L0
    ALOAD <span class="token number">0</span>
    GETFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>priority <span class="token operator">:</span> I
    IRETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">1</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">1</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x31</span>
  public final synchronized setName<span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span><span class="token operator">)</span>V
   L0
    LINENUMBER <span class="token number">1124</span> L0
    ALOAD <span class="token number">0</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>checkAccess <span class="token operator">(</span><span class="token operator">)</span>V
   L1
    LINENUMBER <span class="token number">1125</span> L1
    ALOAD <span class="token number">1</span>
    IFNONNULL L2
   L3
    LINENUMBER <span class="token number">1126</span> L3
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>NullPointerException
    DUP
    LDC <span class="token string">&quot;name cannot be null&quot;</span>
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>NullPointerException<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span><span class="token operator">)</span>V
    ATHROW
   L2
    LINENUMBER <span class="token number">1129</span> L2
   FRAME SAME
    ALOAD <span class="token number">0</span>
    ALOAD <span class="token number">1</span>
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>name <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span>
   L4
    LINENUMBER <span class="token number">1130</span> L4
    ALOAD <span class="token number">0</span>
    GETFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>threadStatus <span class="token operator">:</span> I
    IFEQ L5
   L6
    LINENUMBER <span class="token number">1131</span> L6
    ALOAD <span class="token number">0</span>
    ALOAD <span class="token number">1</span>
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>setNativeName <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span><span class="token operator">)</span>V
   L5
    LINENUMBER <span class="token number">1133</span> L5
   FRAME SAME
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">3</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">2</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x11</span>
  public final getName<span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span>
   L0
    LINENUMBER <span class="token number">1142</span> L0
    ALOAD <span class="token number">0</span>
    GETFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>name <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span>
    ARETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">1</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">1</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x11</span>
  public final getThreadGroup<span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span>
   L0
    LINENUMBER <span class="token number">1153</span> L0
    ALOAD <span class="token number">0</span>
    GETFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>group <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span>
    ARETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">1</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">1</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x9</span>
  public static activeCount<span class="token operator">(</span><span class="token operator">)</span>I
   L0
    LINENUMBER <span class="token number">1173</span> L0
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>currentThread <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">;</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>getThreadGroup <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token punctuation">.</span>activeCount <span class="token operator">(</span><span class="token operator">)</span>I
    IRETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">1</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">0</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x9</span>
  public static enumerate<span class="token operator">(</span><span class="token punctuation">[</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">;</span><span class="token operator">)</span>I
   L0
    LINENUMBER <span class="token number">1203</span> L0
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>currentThread <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">;</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>getThreadGroup <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span>
    ALOAD <span class="token number">0</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token punctuation">.</span>enumerate <span class="token operator">(</span><span class="token punctuation">[</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">;</span><span class="token operator">)</span>I
    IRETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">2</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">1</span>

  <span class="token operator">/</span><span class="token operator">/</span> DEPRECATED
  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x20101</span>
  public native countStackFrames<span class="token operator">(</span><span class="token operator">)</span>I
  <span class="token operator">@</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Deprecated<span class="token operator">;</span><span class="token operator">(</span><span class="token operator">)</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x31</span>
  public final synchronized join<span class="token operator">(</span>J<span class="token operator">)</span>V throws java<span class="token operator">/</span>lang<span class="token operator">/</span>InterruptedException 
   L0
    LINENUMBER <span class="token number">1243</span> L0
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>System<span class="token punctuation">.</span>currentTimeMillis <span class="token operator">(</span><span class="token operator">)</span>J
    LSTORE <span class="token number">3</span>
   L1
    LINENUMBER <span class="token number">1244</span> L1
    LCONST_0
    LSTORE <span class="token number">5</span>
   L2
    LINENUMBER <span class="token number">1246</span> L2
    LLOAD <span class="token number">1</span>
    LCONST_0
    LCMP
    IFGE L3
   L4
    LINENUMBER <span class="token number">1247</span> L4
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>IllegalArgumentException
    DUP
    LDC <span class="token string">&quot;timeout value is negative&quot;</span>
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>IllegalArgumentException<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span><span class="token operator">)</span>V
    ATHROW
   L3
    LINENUMBER <span class="token number">1250</span> L3
   FRAME APPEND <span class="token punctuation">[</span>J J<span class="token punctuation">]</span>
    LLOAD <span class="token number">1</span>
    LCONST_0
    LCMP
    IFNE L5
   L6
    LINENUMBER <span class="token number">1251</span> L6
   FRAME SAME
    ALOAD <span class="token number">0</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>isAlive <span class="token operator">(</span><span class="token operator">)</span>Z
    IFEQ L7
   L8
    LINENUMBER <span class="token number">1252</span> L8
    ALOAD <span class="token number">0</span>
    LCONST_0
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token punctuation">.</span>wait <span class="token operator">(</span>J<span class="token operator">)</span>V
    GOTO L6
   L5
    LINENUMBER <span class="token number">1255</span> L5
   FRAME SAME
    ALOAD <span class="token number">0</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>isAlive <span class="token operator">(</span><span class="token operator">)</span>Z
    IFEQ L7
   L9
    LINENUMBER <span class="token number">1256</span> L9
    LLOAD <span class="token number">1</span>
    LLOAD <span class="token number">5</span>
    LSUB
    LSTORE <span class="token number">7</span>
   L10
    LINENUMBER <span class="token number">1257</span> L10
    LLOAD <span class="token number">7</span>
    LCONST_0
    LCMP
    IFGT L11
   L12
    LINENUMBER <span class="token number">1258</span> L12
    GOTO L7
   L11
    LINENUMBER <span class="token number">1260</span> L11
   FRAME APPEND <span class="token punctuation">[</span>J<span class="token punctuation">]</span>
    ALOAD <span class="token number">0</span>
    LLOAD <span class="token number">7</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token punctuation">.</span>wait <span class="token operator">(</span>J<span class="token operator">)</span>V
   L13
    LINENUMBER <span class="token number">1261</span> L13
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>System<span class="token punctuation">.</span>currentTimeMillis <span class="token operator">(</span><span class="token operator">)</span>J
    LLOAD <span class="token number">3</span>
    LSUB
    LSTORE <span class="token number">5</span>
   L14
    LINENUMBER <span class="token number">1262</span> L14
    GOTO L5
   L7
    LINENUMBER <span class="token number">1264</span> L7
   FRAME CHOP <span class="token number">1</span>
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">4</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">9</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x31</span>
  public final synchronized join<span class="token operator">(</span>JI<span class="token operator">)</span>V throws java<span class="token operator">/</span>lang<span class="token operator">/</span>InterruptedException 
   L0
    LINENUMBER <span class="token number">1294</span> L0
    LLOAD <span class="token number">1</span>
    LCONST_0
    LCMP
    IFGE L1
   L2
    LINENUMBER <span class="token number">1295</span> L2
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>IllegalArgumentException
    DUP
    LDC <span class="token string">&quot;timeout value is negative&quot;</span>
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>IllegalArgumentException<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span><span class="token operator">)</span>V
    ATHROW
   L1
    LINENUMBER <span class="token number">1298</span> L1
   FRAME SAME
    ILOAD <span class="token number">3</span>
    IFLT L3
    ILOAD <span class="token number">3</span>
    LDC <span class="token number">999999</span>
    IF_ICMPLE L4
   L3
    LINENUMBER <span class="token number">1299</span> L3
   FRAME SAME
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>IllegalArgumentException
    DUP
    LDC <span class="token string">&quot;nanosecond timeout value out of range&quot;</span>
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>IllegalArgumentException<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span><span class="token operator">)</span>V
    ATHROW
   L4
    LINENUMBER <span class="token number">1303</span> L4
   FRAME SAME
    ILOAD <span class="token number">3</span>
    LDC <span class="token number">500000</span>
    IF_ICMPGE L5
    ILOAD <span class="token number">3</span>
    IFEQ L6
    LLOAD <span class="token number">1</span>
    LCONST_0
    LCMP
    IFNE L6
   L5
    LINENUMBER <span class="token number">1304</span> L5
   FRAME SAME
    LLOAD <span class="token number">1</span>
    LCONST_1
    LADD
    LSTORE <span class="token number">1</span>
   L6
    LINENUMBER <span class="token number">1307</span> L6
   FRAME SAME
    ALOAD <span class="token number">0</span>
    LLOAD <span class="token number">1</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>join <span class="token operator">(</span>J<span class="token operator">)</span>V
   L7
    LINENUMBER <span class="token number">1308</span> L7
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">4</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">4</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x11</span>
  public final join<span class="token operator">(</span><span class="token operator">)</span>V throws java<span class="token operator">/</span>lang<span class="token operator">/</span>InterruptedException 
   L0
    LINENUMBER <span class="token number">1326</span> L0
    ALOAD <span class="token number">0</span>
    LCONST_0
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>join <span class="token operator">(</span>J<span class="token operator">)</span>V
   L1
    LINENUMBER <span class="token number">1327</span> L1
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">3</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">1</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x9</span>
  public static dumpStack<span class="token operator">(</span><span class="token operator">)</span>V
   L0
    LINENUMBER <span class="token number">1336</span> L0
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>Exception
    DUP
    LDC <span class="token string">&quot;Stack trace&quot;</span>
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Exception<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span><span class="token operator">)</span>V
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Exception<span class="token punctuation">.</span>printStackTrace <span class="token operator">(</span><span class="token operator">)</span>V
   L1
    LINENUMBER <span class="token number">1337</span> L1
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">3</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">0</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x11</span>
  public final setDaemon<span class="token operator">(</span>Z<span class="token operator">)</span>V
   L0
    LINENUMBER <span class="token number">1357</span> L0
    ALOAD <span class="token number">0</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>checkAccess <span class="token operator">(</span><span class="token operator">)</span>V
   L1
    LINENUMBER <span class="token number">1358</span> L1
    ALOAD <span class="token number">0</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>isAlive <span class="token operator">(</span><span class="token operator">)</span>Z
    IFEQ L2
   L3
    LINENUMBER <span class="token number">1359</span> L3
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>IllegalThreadStateException
    DUP
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>IllegalThreadStateException<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span><span class="token operator">)</span>V
    ATHROW
   L2
    LINENUMBER <span class="token number">1361</span> L2
   FRAME SAME
    ALOAD <span class="token number">0</span>
    ILOAD <span class="token number">1</span>
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>daemon <span class="token operator">:</span> Z
   L4
    LINENUMBER <span class="token number">1362</span> L4
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">2</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">2</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x11</span>
  public final isDaemon<span class="token operator">(</span><span class="token operator">)</span>Z
   L0
    LINENUMBER <span class="token number">1372</span> L0
    ALOAD <span class="token number">0</span>
    GETFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>daemon <span class="token operator">:</span> Z
    IRETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">1</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">1</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x11</span>
  public final checkAccess<span class="token operator">(</span><span class="token operator">)</span>V
   L0
    LINENUMBER <span class="token number">1388</span> L0
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>System<span class="token punctuation">.</span>getSecurityManager <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>SecurityManager<span class="token operator">;</span>
    ASTORE <span class="token number">1</span>
   L1
    LINENUMBER <span class="token number">1389</span> L1
    ALOAD <span class="token number">1</span>
    IFNULL L2
   L3
    LINENUMBER <span class="token number">1390</span> L3
    ALOAD <span class="token number">1</span>
    ALOAD <span class="token number">0</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>SecurityManager<span class="token punctuation">.</span>checkAccess <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">;</span><span class="token operator">)</span>V
   L2
    LINENUMBER <span class="token number">1392</span> L2
   FRAME APPEND <span class="token punctuation">[</span>java<span class="token operator">/</span>lang<span class="token operator">/</span>SecurityManager<span class="token punctuation">]</span>
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">2</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">2</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x1</span>
  public toString<span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span>
   L0
    LINENUMBER <span class="token number">1401</span> L0
    ALOAD <span class="token number">0</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>getThreadGroup <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span>
    ASTORE <span class="token number">1</span>
   L1
    LINENUMBER <span class="token number">1402</span> L1
    ALOAD <span class="token number">1</span>
    IFNULL L2
   L3
    LINENUMBER <span class="token number">1403</span> L3
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder
    DUP
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span><span class="token operator">)</span>V
    LDC <span class="token string">&quot;Thread[&quot;</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token punctuation">.</span>append <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token operator">;</span>
    ALOAD <span class="token number">0</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>getName <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token punctuation">.</span>append <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token operator">;</span>
    LDC <span class="token string">&quot;,&quot;</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token punctuation">.</span>append <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token operator">;</span>
    ALOAD <span class="token number">0</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>getPriority <span class="token operator">(</span><span class="token operator">)</span>I
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token punctuation">.</span>append <span class="token operator">(</span>I<span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token operator">;</span>
    LDC <span class="token string">&quot;,&quot;</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token punctuation">.</span>append <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token operator">;</span>
    ALOAD <span class="token number">1</span>
   L4
    LINENUMBER <span class="token number">1404</span> L4
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token punctuation">.</span>getName <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token punctuation">.</span>append <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token operator">;</span>
    LDC <span class="token string">&quot;]&quot;</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token punctuation">.</span>append <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token operator">;</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token punctuation">.</span>toString <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span>
   L5
    LINENUMBER <span class="token number">1403</span> L5
    ARETURN
   L2
    LINENUMBER <span class="token number">1406</span> L2
   FRAME APPEND <span class="token punctuation">[</span>java<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token punctuation">]</span>
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder
    DUP
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span><span class="token operator">)</span>V
    LDC <span class="token string">&quot;Thread[&quot;</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token punctuation">.</span>append <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token operator">;</span>
    ALOAD <span class="token number">0</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>getName <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token punctuation">.</span>append <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token operator">;</span>
    LDC <span class="token string">&quot;,&quot;</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token punctuation">.</span>append <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token operator">;</span>
    ALOAD <span class="token number">0</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>getPriority <span class="token operator">(</span><span class="token operator">)</span>I
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token punctuation">.</span>append <span class="token operator">(</span>I<span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token operator">;</span>
    LDC <span class="token string">&quot;,]&quot;</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token punctuation">.</span>append <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token operator">;</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>StringBuilder<span class="token punctuation">.</span>toString <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span>
    ARETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">2</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">2</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x1</span>
  public getContextClassLoader<span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ClassLoader<span class="token operator">;</span>
  <span class="token operator">@</span>Lsun<span class="token operator">/</span>reflect<span class="token operator">/</span>CallerSensitive<span class="token operator">;</span><span class="token operator">(</span><span class="token operator">)</span>
   L0
    LINENUMBER <span class="token number">1439</span> L0
    ALOAD <span class="token number">0</span>
    GETFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>contextClassLoader <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ClassLoader<span class="token operator">;</span>
    IFNONNULL L1
   L2
    LINENUMBER <span class="token number">1440</span> L2
    ACONST_NULL
    ARETURN
   L1
    LINENUMBER <span class="token number">1441</span> L1
   FRAME SAME
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>System<span class="token punctuation">.</span>getSecurityManager <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>SecurityManager<span class="token operator">;</span>
    ASTORE <span class="token number">1</span>
   L3
    LINENUMBER <span class="token number">1442</span> L3
    ALOAD <span class="token number">1</span>
    IFNULL L4
   L5
    LINENUMBER <span class="token number">1443</span> L5
    ALOAD <span class="token number">0</span>
    GETFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>contextClassLoader <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ClassLoader<span class="token operator">;</span>
   L6
    LINENUMBER <span class="token number">1444</span> L6
    INVOKESTATIC sun<span class="token operator">/</span>reflect<span class="token operator">/</span>Reflection<span class="token punctuation">.</span>getCallerClass <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Class<span class="token operator">;</span>
   L7
    LINENUMBER <span class="token number">1443</span> L7
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>ClassLoader<span class="token punctuation">.</span>checkClassLoaderPermission <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ClassLoader<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Class<span class="token operator">;</span><span class="token operator">)</span>V
   L4
    LINENUMBER <span class="token number">1446</span> L4
   FRAME APPEND <span class="token punctuation">[</span>java<span class="token operator">/</span>lang<span class="token operator">/</span>SecurityManager<span class="token punctuation">]</span>
    ALOAD <span class="token number">0</span>
    GETFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>contextClassLoader <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ClassLoader<span class="token operator">;</span>
    ARETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">2</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">2</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x1</span>
  public setContextClassLoader<span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ClassLoader<span class="token operator">;</span><span class="token operator">)</span>V
   L0
    LINENUMBER <span class="token number">1472</span> L0
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>System<span class="token punctuation">.</span>getSecurityManager <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>SecurityManager<span class="token operator">;</span>
    ASTORE <span class="token number">2</span>
   L1
    LINENUMBER <span class="token number">1473</span> L1
    ALOAD <span class="token number">2</span>
    IFNULL L2
   L3
    LINENUMBER <span class="token number">1474</span> L3
    ALOAD <span class="token number">2</span>
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>RuntimePermission
    DUP
    LDC <span class="token string">&quot;setContextClassLoader&quot;</span>
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>RuntimePermission<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span><span class="token operator">)</span>V
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>SecurityManager<span class="token punctuation">.</span>checkPermission <span class="token operator">(</span>Ljava<span class="token operator">/</span>security<span class="token operator">/</span>Permission<span class="token operator">;</span><span class="token operator">)</span>V
   L2
    LINENUMBER <span class="token number">1476</span> L2
   FRAME APPEND <span class="token punctuation">[</span>java<span class="token operator">/</span>lang<span class="token operator">/</span>SecurityManager<span class="token punctuation">]</span>
    ALOAD <span class="token number">0</span>
    ALOAD <span class="token number">1</span>
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>contextClassLoader <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ClassLoader<span class="token operator">;</span>
   L4
    LINENUMBER <span class="token number">1477</span> L4
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">4</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">3</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x109</span>
  public static native holdsLock<span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token operator">;</span><span class="token operator">)</span>Z

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x1</span>
  public getStackTrace<span class="token operator">(</span><span class="token operator">)</span><span class="token punctuation">[</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StackTraceElement<span class="token operator">;</span>
   L0
    LINENUMBER <span class="token number">1537</span> L0
    ALOAD <span class="token number">0</span>
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>currentThread <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">;</span>
    IF_ACMPEQ L1
   L2
    LINENUMBER <span class="token number">1539</span> L2
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>System<span class="token punctuation">.</span>getSecurityManager <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>SecurityManager<span class="token operator">;</span>
    ASTORE <span class="token number">1</span>
   L3
    LINENUMBER <span class="token number">1540</span> L3
    ALOAD <span class="token number">1</span>
    IFNULL L4
   L5
    LINENUMBER <span class="token number">1541</span> L5
    ALOAD <span class="token number">1</span>
    GETSTATIC sun<span class="token operator">/</span>security<span class="token operator">/</span>util<span class="token operator">/</span>SecurityConstants<span class="token punctuation">.</span>GET_STACK_TRACE_PERMISSION <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>RuntimePermission<span class="token operator">;</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>SecurityManager<span class="token punctuation">.</span>checkPermission <span class="token operator">(</span>Ljava<span class="token operator">/</span>security<span class="token operator">/</span>Permission<span class="token operator">;</span><span class="token operator">)</span>V
   L4
    LINENUMBER <span class="token number">1546</span> L4
   FRAME APPEND <span class="token punctuation">[</span>java<span class="token operator">/</span>lang<span class="token operator">/</span>SecurityManager<span class="token punctuation">]</span>
    ALOAD <span class="token number">0</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>isAlive <span class="token operator">(</span><span class="token operator">)</span>Z
    IFNE L6
   L7
    LINENUMBER <span class="token number">1547</span> L7
    GETSTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>EMPTY_STACK_TRACE <span class="token operator">:</span> <span class="token punctuation">[</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StackTraceElement<span class="token operator">;</span>
    ARETURN
   L6
    LINENUMBER <span class="token number">1549</span> L6
   FRAME SAME
    ICONST_1
    ANEWARRAY java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread
    DUP
    ICONST_0
    ALOAD <span class="token number">0</span>
    AASTORE
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>dumpThreads <span class="token operator">(</span><span class="token punctuation">[</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">;</span><span class="token operator">)</span><span class="token punctuation">[</span><span class="token punctuation">[</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StackTraceElement<span class="token operator">;</span>
    ASTORE <span class="token number">2</span>
   L8
    LINENUMBER <span class="token number">1550</span> L8
    ALOAD <span class="token number">2</span>
    ICONST_0
    AALOAD
    ASTORE <span class="token number">3</span>
   L9
    LINENUMBER <span class="token number">1553</span> L9
    ALOAD <span class="token number">3</span>
    IFNONNULL L10
   L11
    LINENUMBER <span class="token number">1554</span> L11
    GETSTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>EMPTY_STACK_TRACE <span class="token operator">:</span> <span class="token punctuation">[</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StackTraceElement<span class="token operator">;</span>
    ASTORE <span class="token number">3</span>
   L10
    LINENUMBER <span class="token number">1556</span> L10
   FRAME APPEND <span class="token punctuation">[</span><span class="token punctuation">[</span><span class="token punctuation">[</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StackTraceElement<span class="token operator">;</span> <span class="token punctuation">[</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StackTraceElement<span class="token operator">;</span><span class="token punctuation">]</span>
    ALOAD <span class="token number">3</span>
    ARETURN
   L1
    LINENUMBER <span class="token number">1559</span> L1
   FRAME CHOP <span class="token number">3</span>
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>Exception
    DUP
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Exception<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span><span class="token operator">)</span>V
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Exception<span class="token punctuation">.</span>getStackTrace <span class="token operator">(</span><span class="token operator">)</span><span class="token punctuation">[</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StackTraceElement<span class="token operator">;</span>
    ARETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">4</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">4</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x9</span>
  <span class="token operator">/</span><span class="token operator">/</span> signature <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>util<span class="token operator">/</span>Map<span class="token operator">&lt;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">;</span><span class="token punctuation">[</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StackTraceElement<span class="token operator">;</span><span class="token operator">&gt;</span><span class="token operator">;</span>
  <span class="token operator">/</span><span class="token operator">/</span> declaration<span class="token operator">:</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>Map<span class="token operator">&lt;</span>java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Thread<span class="token punctuation">,</span> java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>StackTraceElement<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span> getAllStackTraces<span class="token operator">(</span><span class="token operator">)</span>
  public static getAllStackTraces<span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>util<span class="token operator">/</span>Map<span class="token operator">;</span>
   L0
    LINENUMBER <span class="token number">1600</span> L0
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>System<span class="token punctuation">.</span>getSecurityManager <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>SecurityManager<span class="token operator">;</span>
    ASTORE <span class="token number">0</span>
   L1
    LINENUMBER <span class="token number">1601</span> L1
    ALOAD <span class="token number">0</span>
    IFNULL L2
   L3
    LINENUMBER <span class="token number">1602</span> L3
    ALOAD <span class="token number">0</span>
    GETSTATIC sun<span class="token operator">/</span>security<span class="token operator">/</span>util<span class="token operator">/</span>SecurityConstants<span class="token punctuation">.</span>GET_STACK_TRACE_PERMISSION <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>RuntimePermission<span class="token operator">;</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>SecurityManager<span class="token punctuation">.</span>checkPermission <span class="token operator">(</span>Ljava<span class="token operator">/</span>security<span class="token operator">/</span>Permission<span class="token operator">;</span><span class="token operator">)</span>V
   L4
    LINENUMBER <span class="token number">1604</span> L4
    ALOAD <span class="token number">0</span>
    GETSTATIC sun<span class="token operator">/</span>security<span class="token operator">/</span>util<span class="token operator">/</span>SecurityConstants<span class="token punctuation">.</span>MODIFY_THREADGROUP_PERMISSION <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>RuntimePermission<span class="token operator">;</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>SecurityManager<span class="token punctuation">.</span>checkPermission <span class="token operator">(</span>Ljava<span class="token operator">/</span>security<span class="token operator">/</span>Permission<span class="token operator">;</span><span class="token operator">)</span>V
   L2
    LINENUMBER <span class="token number">1609</span> L2
   FRAME APPEND <span class="token punctuation">[</span>java<span class="token operator">/</span>lang<span class="token operator">/</span>SecurityManager<span class="token punctuation">]</span>
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>getThreads <span class="token operator">(</span><span class="token operator">)</span><span class="token punctuation">[</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">;</span>
    ASTORE <span class="token number">1</span>
   L5
    LINENUMBER <span class="token number">1610</span> L5
    ALOAD <span class="token number">1</span>
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>dumpThreads <span class="token operator">(</span><span class="token punctuation">[</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">;</span><span class="token operator">)</span><span class="token punctuation">[</span><span class="token punctuation">[</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StackTraceElement<span class="token operator">;</span>
    ASTORE <span class="token number">2</span>
   L6
    LINENUMBER <span class="token number">1611</span> L6
    NEW java<span class="token operator">/</span>util<span class="token operator">/</span>HashMap
    DUP
    ALOAD <span class="token number">1</span>
    ARRAYLENGTH
    INVOKESPECIAL java<span class="token operator">/</span>util<span class="token operator">/</span>HashMap<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span>I<span class="token operator">)</span>V
    ASTORE <span class="token number">3</span>
   L7
    LINENUMBER <span class="token number">1612</span> L7
    ICONST_0
    ISTORE <span class="token number">4</span>
   L8
   FRAME FULL <span class="token punctuation">[</span>java<span class="token operator">/</span>lang<span class="token operator">/</span>SecurityManager <span class="token punctuation">[</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">;</span> <span class="token punctuation">[</span><span class="token punctuation">[</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StackTraceElement<span class="token operator">;</span> java<span class="token operator">/</span>util<span class="token operator">/</span>Map I<span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
    ILOAD <span class="token number">4</span>
    ALOAD <span class="token number">1</span>
    ARRAYLENGTH
    IF_ICMPGE L9
   L10
    LINENUMBER <span class="token number">1613</span> L10
    ALOAD <span class="token number">2</span>
    ILOAD <span class="token number">4</span>
    AALOAD
    ASTORE <span class="token number">5</span>
   L11
    LINENUMBER <span class="token number">1614</span> L11
    ALOAD <span class="token number">5</span>
    IFNULL L12
   L13
    LINENUMBER <span class="token number">1615</span> L13
    ALOAD <span class="token number">3</span>
    ALOAD <span class="token number">1</span>
    ILOAD <span class="token number">4</span>
    AALOAD
    ALOAD <span class="token number">5</span>
    INVOKEINTERFACE java<span class="token operator">/</span>util<span class="token operator">/</span>Map<span class="token punctuation">.</span>put <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token operator">;</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token operator">;</span> <span class="token operator">(</span>itf<span class="token operator">)</span>
    POP
   L12
    LINENUMBER <span class="token number">1612</span> L12
   FRAME SAME
    IINC <span class="token number">4</span> <span class="token number">1</span>
    GOTO L8
   L9
    LINENUMBER <span class="token number">1619</span> L9
   FRAME CHOP <span class="token number">1</span>
    ALOAD <span class="token number">3</span>
    ARETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">3</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">6</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0xA</span>
  <span class="token operator">/</span><span class="token operator">/</span> signature <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Class<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token operator">;</span><span class="token operator">)</span>Z
  <span class="token operator">/</span><span class="token operator">/</span> declaration<span class="token operator">:</span> boolean isCCLOverridden<span class="token operator">(</span>java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Class<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">&gt;</span><span class="token operator">)</span>
  private static isCCLOverridden<span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Class<span class="token operator">;</span><span class="token operator">)</span>Z
   L0
    LINENUMBER <span class="token number">1646</span> L0
    ALOAD <span class="token number">0</span>
    LDC Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">;</span><span class="token punctuation">.</span>class
    IF_ACMPNE L1
   L2
    LINENUMBER <span class="token number">1647</span> L2
    ICONST_0
    IRETURN
   L1
    LINENUMBER <span class="token number">1649</span> L1
   FRAME SAME
    GETSTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">$</span>Caches<span class="token punctuation">.</span>subclassAuditsQueue <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ref<span class="token operator">/</span>ReferenceQueue<span class="token operator">;</span>
    GETSTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">$</span>Caches<span class="token punctuation">.</span>subclassAudits <span class="token operator">:</span> Ljava<span class="token operator">/</span>util<span class="token operator">/</span>concurrent<span class="token operator">/</span>ConcurrentMap<span class="token operator">;</span>
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>processQueue <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ref<span class="token operator">/</span>ReferenceQueue<span class="token operator">;</span>Ljava<span class="token operator">/</span>util<span class="token operator">/</span>concurrent<span class="token operator">/</span>ConcurrentMap<span class="token operator">;</span><span class="token operator">)</span>V
   L3
    LINENUMBER <span class="token number">1650</span> L3
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">$</span>WeakClassKey
    DUP
    ALOAD <span class="token number">0</span>
    GETSTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">$</span>Caches<span class="token punctuation">.</span>subclassAuditsQueue <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ref<span class="token operator">/</span>ReferenceQueue<span class="token operator">;</span>
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">$</span>WeakClassKey<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Class<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ref<span class="token operator">/</span>ReferenceQueue<span class="token operator">;</span><span class="token operator">)</span>V
    ASTORE <span class="token number">1</span>
   L4
    LINENUMBER <span class="token number">1651</span> L4
    GETSTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">$</span>Caches<span class="token punctuation">.</span>subclassAudits <span class="token operator">:</span> Ljava<span class="token operator">/</span>util<span class="token operator">/</span>concurrent<span class="token operator">/</span>ConcurrentMap<span class="token operator">;</span>
    ALOAD <span class="token number">1</span>
    INVOKEINTERFACE java<span class="token operator">/</span>util<span class="token operator">/</span>concurrent<span class="token operator">/</span>ConcurrentMap<span class="token punctuation">.</span>get <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token operator">;</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token operator">;</span> <span class="token operator">(</span>itf<span class="token operator">)</span>
    CHECKCAST java<span class="token operator">/</span>lang<span class="token operator">/</span>Boolean
    ASTORE <span class="token number">2</span>
   L5
    LINENUMBER <span class="token number">1652</span> L5
    ALOAD <span class="token number">2</span>
    IFNONNULL L6
   L7
    LINENUMBER <span class="token number">1653</span> L7
    ALOAD <span class="token number">0</span>
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>auditSubclass <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Class<span class="token operator">;</span><span class="token operator">)</span>Z
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Boolean<span class="token punctuation">.</span>valueOf <span class="token operator">(</span>Z<span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Boolean<span class="token operator">;</span>
    ASTORE <span class="token number">2</span>
   L8
    LINENUMBER <span class="token number">1654</span> L8
    GETSTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">$</span>Caches<span class="token punctuation">.</span>subclassAudits <span class="token operator">:</span> Ljava<span class="token operator">/</span>util<span class="token operator">/</span>concurrent<span class="token operator">/</span>ConcurrentMap<span class="token operator">;</span>
    ALOAD <span class="token number">1</span>
    ALOAD <span class="token number">2</span>
    INVOKEINTERFACE java<span class="token operator">/</span>util<span class="token operator">/</span>concurrent<span class="token operator">/</span>ConcurrentMap<span class="token punctuation">.</span>putIfAbsent <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token operator">;</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token operator">;</span> <span class="token operator">(</span>itf<span class="token operator">)</span>
    POP
   L6
    LINENUMBER <span class="token number">1657</span> L6
   FRAME APPEND <span class="token punctuation">[</span>java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">$</span>WeakClassKey java<span class="token operator">/</span>lang<span class="token operator">/</span>Boolean<span class="token punctuation">]</span>
    ALOAD <span class="token number">2</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Boolean<span class="token punctuation">.</span>booleanValue <span class="token operator">(</span><span class="token operator">)</span>Z
    IRETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">4</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">3</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0xA</span>
  <span class="token operator">/</span><span class="token operator">/</span> signature <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Class<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token operator">;</span><span class="token operator">)</span>Z
  <span class="token operator">/</span><span class="token operator">/</span> declaration<span class="token operator">:</span> boolean auditSubclass<span class="token operator">(</span>java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Class<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">&gt;</span><span class="token operator">)</span>
  private static auditSubclass<span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Class<span class="token operator">;</span><span class="token operator">)</span>Z
   L0
    LINENUMBER <span class="token number">1666</span> L0
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">$</span><span class="token number">1</span>
    DUP
    ALOAD <span class="token number">0</span>
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">$</span><span class="token number">1</span><span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Class<span class="token operator">;</span><span class="token operator">)</span>V
    INVOKESTATIC java<span class="token operator">/</span>security<span class="token operator">/</span>AccessController<span class="token punctuation">.</span>doPrivileged <span class="token operator">(</span>Ljava<span class="token operator">/</span>security<span class="token operator">/</span>PrivilegedAction<span class="token operator">;</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token operator">;</span>
    CHECKCAST java<span class="token operator">/</span>lang<span class="token operator">/</span>Boolean
    ASTORE <span class="token number">1</span>
   L1
    LINENUMBER <span class="token number">1689</span> L1
    ALOAD <span class="token number">1</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Boolean<span class="token punctuation">.</span>booleanValue <span class="token operator">(</span><span class="token operator">)</span>Z
    IRETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">3</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">2</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x10A</span>
  private static native dumpThreads<span class="token operator">(</span><span class="token punctuation">[</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">;</span><span class="token operator">)</span><span class="token punctuation">[</span><span class="token punctuation">[</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StackTraceElement<span class="token operator">;</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x10A</span>
  private static native getThreads<span class="token operator">(</span><span class="token operator">)</span><span class="token punctuation">[</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">;</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x1</span>
  public getId<span class="token operator">(</span><span class="token operator">)</span>J
   L0
    LINENUMBER <span class="token number">1705</span> L0
    ALOAD <span class="token number">0</span>
    GETFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>tid <span class="token operator">:</span> J
    LRETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">2</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">1</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x1</span>
  public getState<span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">$</span>State<span class="token operator">;</span>
   L0
    LINENUMBER <span class="token number">1817</span> L0
    ALOAD <span class="token number">0</span>
    GETFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>threadStatus <span class="token operator">:</span> I
    INVOKESTATIC sun<span class="token operator">/</span>misc<span class="token operator">/</span>VM<span class="token punctuation">.</span>toThreadState <span class="token operator">(</span>I<span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">$</span>State<span class="token operator">;</span>
    ARETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">1</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">1</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x9</span>
  public static setDefaultUncaughtExceptionHandler<span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">$</span>UncaughtExceptionHandler<span class="token operator">;</span><span class="token operator">)</span>V
   L0
    LINENUMBER <span class="token number">1898</span> L0
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>System<span class="token punctuation">.</span>getSecurityManager <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>SecurityManager<span class="token operator">;</span>
    ASTORE <span class="token number">1</span>
   L1
    LINENUMBER <span class="token number">1899</span> L1
    ALOAD <span class="token number">1</span>
    IFNULL L2
   L3
    LINENUMBER <span class="token number">1900</span> L3
    ALOAD <span class="token number">1</span>
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>RuntimePermission
    DUP
    LDC <span class="token string">&quot;setDefaultUncaughtExceptionHandler&quot;</span>
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>RuntimePermission<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span><span class="token operator">)</span>V
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>SecurityManager<span class="token punctuation">.</span>checkPermission <span class="token operator">(</span>Ljava<span class="token operator">/</span>security<span class="token operator">/</span>Permission<span class="token operator">;</span><span class="token operator">)</span>V
   L2
    LINENUMBER <span class="token number">1905</span> L2
   FRAME APPEND <span class="token punctuation">[</span>java<span class="token operator">/</span>lang<span class="token operator">/</span>SecurityManager<span class="token punctuation">]</span>
    ALOAD <span class="token number">0</span>
    PUTSTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>defaultUncaughtExceptionHandler <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">$</span>UncaughtExceptionHandler<span class="token operator">;</span>
   L4
    LINENUMBER <span class="token number">1906</span> L4
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">4</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">2</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x9</span>
  public static getDefaultUncaughtExceptionHandler<span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">$</span>UncaughtExceptionHandler<span class="token operator">;</span>
   L0
    LINENUMBER <span class="token number">1917</span> L0
    GETSTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>defaultUncaughtExceptionHandler <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">$</span>UncaughtExceptionHandler<span class="token operator">;</span>
    ARETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">1</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">0</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x1</span>
  public getUncaughtExceptionHandler<span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">$</span>UncaughtExceptionHandler<span class="token operator">;</span>
   L0
    LINENUMBER <span class="token number">1930</span> L0
    ALOAD <span class="token number">0</span>
    GETFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>uncaughtExceptionHandler <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">$</span>UncaughtExceptionHandler<span class="token operator">;</span>
    IFNULL L1
    ALOAD <span class="token number">0</span>
    GETFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>uncaughtExceptionHandler <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">$</span>UncaughtExceptionHandler<span class="token operator">;</span>
    GOTO L2
   L1
   FRAME SAME
    ALOAD <span class="token number">0</span>
    GETFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>group <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ThreadGroup<span class="token operator">;</span>
   L2
   FRAME SAME1 java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">$</span>UncaughtExceptionHandler
    ARETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">1</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">1</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x1</span>
  public setUncaughtExceptionHandler<span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">$</span>UncaughtExceptionHandler<span class="token operator">;</span><span class="token operator">)</span>V
   L0
    LINENUMBER <span class="token number">1950</span> L0
    ALOAD <span class="token number">0</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>checkAccess <span class="token operator">(</span><span class="token operator">)</span>V
   L1
    LINENUMBER <span class="token number">1951</span> L1
    ALOAD <span class="token number">0</span>
    ALOAD <span class="token number">1</span>
    PUTFIELD java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>uncaughtExceptionHandler <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">$</span>UncaughtExceptionHandler<span class="token operator">;</span>
   L2
    LINENUMBER <span class="token number">1952</span> L2
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">2</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">2</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x2</span>
  private dispatchUncaughtException<span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Throwable<span class="token operator">;</span><span class="token operator">)</span>V
   L0
    LINENUMBER <span class="token number">1959</span> L0
    ALOAD <span class="token number">0</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>getUncaughtExceptionHandler <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">$</span>UncaughtExceptionHandler<span class="token operator">;</span>
    ALOAD <span class="token number">0</span>
    ALOAD <span class="token number">1</span>
    INVOKEINTERFACE java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">$</span>UncaughtExceptionHandler<span class="token punctuation">.</span>uncaughtException <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token operator">;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Throwable<span class="token operator">;</span><span class="token operator">)</span>V <span class="token operator">(</span>itf<span class="token operator">)</span>
   L1
    LINENUMBER <span class="token number">1960</span> L1
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">3</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">2</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x8</span>
  <span class="token operator">/</span><span class="token operator">/</span> signature <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ref<span class="token operator">/</span>ReferenceQueue<span class="token operator">&lt;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Class<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token operator">;</span><span class="token operator">&gt;</span><span class="token operator">;</span>Ljava<span class="token operator">/</span>util<span class="token operator">/</span>concurrent<span class="token operator">/</span>ConcurrentMap<span class="token operator">&lt;</span><span class="token operator">+</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ref<span class="token operator">/</span>WeakReference<span class="token operator">&lt;</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Class<span class="token operator">&lt;</span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token operator">;</span><span class="token operator">&gt;</span><span class="token operator">;</span><span class="token operator">*</span><span class="token operator">&gt;</span><span class="token operator">;</span><span class="token operator">)</span>V
  <span class="token operator">/</span><span class="token operator">/</span> declaration<span class="token operator">:</span> void processQueue<span class="token operator">(</span>java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>ref<span class="token punctuation">.</span>ReferenceQueue<span class="token operator">&lt;</span>java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Class<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span>ConcurrentMap<span class="token operator">&lt;</span><span class="token operator">?</span> extends java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>ref<span class="token punctuation">.</span>WeakReference<span class="token operator">&lt;</span>java<span class="token punctuation">.</span>lang<span class="token punctuation">.</span>Class<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">&gt;</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> <span class="token operator">?</span><span class="token operator">&gt;</span><span class="token operator">)</span>
  static processQueue<span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ref<span class="token operator">/</span>ReferenceQueue<span class="token operator">;</span>Ljava<span class="token operator">/</span>util<span class="token operator">/</span>concurrent<span class="token operator">/</span>ConcurrentMap<span class="token operator">;</span><span class="token operator">)</span>V
   L0
    LINENUMBER <span class="token number">1971</span> L0
   FRAME SAME
    ALOAD <span class="token number">0</span>
    INVOKEVIRTUAL java<span class="token operator">/</span>lang<span class="token operator">/</span>ref<span class="token operator">/</span>ReferenceQueue<span class="token punctuation">.</span>poll <span class="token operator">(</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>ref<span class="token operator">/</span>Reference<span class="token operator">;</span>
    DUP
    ASTORE <span class="token number">2</span>
    IFNULL L1
   L2
    LINENUMBER <span class="token number">1972</span> L2
    ALOAD <span class="token number">1</span>
    ALOAD <span class="token number">2</span>
    INVOKEINTERFACE java<span class="token operator">/</span>util<span class="token operator">/</span>concurrent<span class="token operator">/</span>ConcurrentMap<span class="token punctuation">.</span>remove <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token operator">;</span><span class="token operator">)</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token operator">;</span> <span class="token operator">(</span>itf<span class="token operator">)</span>
    POP
    GOTO L0
   L1
    LINENUMBER <span class="token number">1974</span> L1
   FRAME APPEND <span class="token punctuation">[</span>java<span class="token operator">/</span>lang<span class="token operator">/</span>ref<span class="token operator">/</span>Reference<span class="token punctuation">]</span>
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">2</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">3</span>

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x102</span>
  private native setPriority0<span class="token operator">(</span>I<span class="token operator">)</span>V

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x102</span>
  private native stop0<span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>Object<span class="token operator">;</span><span class="token operator">)</span>V

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x102</span>
  private native suspend0<span class="token operator">(</span><span class="token operator">)</span>V

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x102</span>
  private native resume0<span class="token operator">(</span><span class="token operator">)</span>V

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x102</span>
  private native interrupt0<span class="token operator">(</span><span class="token operator">)</span>V

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x102</span>
  private native setNativeName<span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span><span class="token operator">)</span>V

  <span class="token operator">/</span><span class="token operator">/</span> access flags <span class="token number">0x8</span>
  static <span class="token operator">&lt;</span>clinit<span class="token operator">&gt;</span><span class="token operator">(</span><span class="token operator">)</span>V
   L0
    LINENUMBER <span class="token number">145</span> L0
    INVOKESTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>registerNatives <span class="token operator">(</span><span class="token operator">)</span>V
   L1
    LINENUMBER <span class="token number">1497</span> L1
    ICONST_0
    ANEWARRAY java<span class="token operator">/</span>lang<span class="token operator">/</span>StackTraceElement
    PUTSTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>EMPTY_STACK_TRACE <span class="token operator">:</span> <span class="token punctuation">[</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>StackTraceElement<span class="token operator">;</span>
   L2
    LINENUMBER <span class="token number">1623</span> L2
    NEW java<span class="token operator">/</span>lang<span class="token operator">/</span>RuntimePermission
    DUP
    LDC <span class="token string">&quot;enableContextClassLoaderOverride&quot;</span>
    INVOKESPECIAL java<span class="token operator">/</span>lang<span class="token operator">/</span>RuntimePermission<span class="token punctuation">.</span><span class="token operator">&lt;</span>init<span class="token operator">&gt;</span> <span class="token operator">(</span>Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>String<span class="token operator">;</span><span class="token operator">)</span>V
    PUTSTATIC java<span class="token operator">/</span>lang<span class="token operator">/</span>Thread<span class="token punctuation">.</span>SUBCLASS_IMPLEMENTATION_PERMISSION <span class="token operator">:</span> Ljava<span class="token operator">/</span>lang<span class="token operator">/</span>RuntimePermission<span class="token operator">;</span>
    RETURN
    MAXSTACK <span class="token operator">=</span> <span class="token number">3</span>
    MAXLOCALS <span class="token operator">=</span> <span class="token number">0</span>
<span class="token operator">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div></details><h3 id="创建方式" tabindex="-1"><a class="header-anchor" href="#创建方式" aria-hidden="true">#</a> 创建方式</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>
<span class="token keyword">public</span>  <span class="token keyword">class</span> <span class="token class-name">MyThread</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span><span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前线程：&quot;</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 使用</span>
<span class="token class-name">MyThread</span> m <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
m<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 	<span class="token comment">// 启动线程</span>


说明：
<span class="token number">1.</span> 继承<span class="token class-name">Thread</span>类，重写run方法；
<span class="token number">2.</span> 使用时，直接构造一个实例对象，然后调用start方法进行启动；

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyRunnable</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前线程：&quot;</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 使用</span>
<span class="token class-name">MyRunnable</span> r <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MyRunnable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Thread</span> t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>r<span class="token punctuation">)</span><span class="token punctuation">;</span>
t<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//启动线程</span>

说明：
<span class="token number">1.</span> 实现<span class="token class-name">Runnable</span>接口，并实现run方法；
<span class="token number">2.</span> 使用时，直接构造<span class="token class-name">Thread</span>对象，然后调用start方法进行启动；

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyCallable</span> <span class="token keyword">implements</span> <span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Override</span>
    <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前线程：&quot;</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;运行结果：&quot;</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> i<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// 使用</span>
<span class="token class-name">FutureTask</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> future <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FutureTask</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">MyCallable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>future<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;结果为： &quot;</span><span class="token operator">+</span>task<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

说明：
<span class="token number">1.</span> 实现<span class="token class-name">Callable</span>接口中的call方法，并且<span class="token class-name">Callable</span>接口带有一个泛型参数，这个泛型参数表示：返回值的类型；
<span class="token number">2.</span> 使用时，先构造一个<span class="token class-name">FutureTask</span>对象来接收返回值，之后构造一个<span class="token class-name">Thread</span>对象，最后调用start方法进行启动；
<span class="token number">3.</span> 获取结果时，通过<span class="token class-name">FutureTask</span>对象的get方法进行获取，获取过程为阻塞获取；

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">// 线程池构造方法</span>
<span class="token keyword">public</span> <span class="token class-name">ThreadPoolExecutor</span><span class="token punctuation">(</span>     
    <span class="token annotation punctuation">@Range</span><span class="token punctuation">(</span>from <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">to</span> <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MAX_VALUE</span><span class="token punctuation">)</span>  <span class="token keyword">int</span> corePoolSize<span class="token punctuation">,</span>			
    <span class="token annotation punctuation">@Range</span><span class="token punctuation">(</span>from <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">to</span> <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span><span class="token constant">MAX_VALUE</span><span class="token punctuation">)</span>  <span class="token keyword">int</span> maximumPoolSize<span class="token punctuation">,</span>
    <span class="token annotation punctuation">@Range</span><span class="token punctuation">(</span>from <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token keyword">to</span> <span class="token operator">=</span> <span class="token class-name">Long</span><span class="token punctuation">.</span><span class="token constant">MAX_VALUE</span><span class="token punctuation">)</span>  <span class="token keyword">long</span> keepAliveTime<span class="token punctuation">,</span>
    <span class="token annotation punctuation">@NotNull</span>  <span class="token class-name">TimeUnit</span> unit<span class="token punctuation">,</span>
    <span class="token annotation punctuation">@NotNull</span>  <span class="token class-name">BlockingQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Runnable</span><span class="token punctuation">&gt;</span></span> workQueue<span class="token punctuation">,</span>
    <span class="token annotation punctuation">@NotNull</span>  <span class="token class-name">ThreadFactory</span> threadFactory<span class="token punctuation">,</span>
    <span class="token annotation punctuation">@NotNull</span>  <span class="token class-name">RejectedExecutionHandler</span> handler <span class="token punctuation">)</span>
<span class="token class-name">Creates</span> a <span class="token keyword">new</span> <span class="token class-name">ThreadPoolExecutor</span> <span class="token keyword">with</span> <span class="token namespace">the</span> given initial parameters<span class="token punctuation">.</span>

<span class="token comment">/*
Params:
    corePoolSize – the number of threads to keep in the pool, even if they are idle, unless allowCoreThreadTimeOut is set 
    maximumPoolSize – the maximum number of threads to allow in the pool 
    keepAliveTime – when the number of threads is greater than the core, this is the maximum time that excess idle threads will wait for new tasks before terminating. 
    unit – the time unit for the keepAliveTime argument 
    workQueue – the queue to use for holding tasks before they are executed. This queue will hold only the Runnable tasks submitted by the execute method. 
    threadFactory – the factory to use when the executor creates a new thread 
    handler – the handler to use when execution is blocked because the thread bounds and queue capacities are reached

Throws:
    IllegalArgumentException – if one of the following holds: 
        corePoolSize &lt; 0 
        keepAliveTime &lt; 0 
        maximumPoolSize &lt;= 0 
        maximumPoolSize &lt; corePoolSize
    NullPointerException – if workQueue or threadFactory or handler is null
*/</span>

<span class="token comment">// 示例</span>








</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>注意： <ul><li>run 方法中执行的代码一般被成为“任务”；</li><li><strong>线程的使用都是通过构造 Thread 对象来完成的；</strong></li></ul></li><li>比较异同： <ul><li>方式 1 和方式 2 都不能获取返回值；</li><li>Java 支持单继承和多实现，所以方式 2 可以避免单继承的局限性；</li><li>方式 3 可以获取任务返回值，并且可以捕获任务执行过程中抛出的异常；</li><li>方式 1、2、3 都不能控制资源，因为如果有多项任务，就要开多个线程，这就相当于“公司有一项任务就要专门招一个员工来干活儿”，而方式 4 可以控制资源，这种方式就相当于“公司固定几个员工，公司里的各项任务让这些员工依次完成”；实际开发中，方式 4 才是最常用的；</li></ul></li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">import</span> <span class="token import"><span class="token namespace">java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span></span><span class="token operator">*</span></span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyThreadTest</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">ThreadPoolExecutor</span> executor <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ThreadPoolExecutor</span><span class="token punctuation">(</span><span class="token number">5</span><span class="token punctuation">,</span>
            <span class="token number">200</span><span class="token punctuation">,</span>
            <span class="token number">10</span><span class="token punctuation">,</span>
            <span class="token class-name">TimeUnit</span><span class="token punctuation">.</span><span class="token constant">SECONDS</span><span class="token punctuation">,</span>
            <span class="token keyword">new</span> <span class="token class-name">LinkedBlockingDeque</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token number">100000</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token class-name">Executors</span><span class="token punctuation">.</span><span class="token function">defaultThreadFactory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
            <span class="token keyword">new</span> <span class="token class-name">ThreadPoolExecutor<span class="token punctuation">.</span>AbortPolicy</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ExecutionException</span><span class="token punctuation">,</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span>

        <span class="token comment">// test();</span>
        <span class="token comment">// corePoolSize – the number of threads to keep in the pool, even if they are idle,</span>
        <span class="token comment">// unless allowCoreThreadTimeOut is set</span>
        executor<span class="token punctuation">.</span><span class="token function">allowCoreThreadTimeOut</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 1. 使用 execute 执行 Thread 类型的任务；</span>
        executor<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Thread01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 2. 使用 execute 执行 Runable 类型的任务；</span>
        executor<span class="token punctuation">.</span><span class="token function">execute</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runable01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// 不能使用 execute 执行 Callable 类型的任务；</span>
        <span class="token comment">// executor.execute(new Callable01());     // 报编译错误</span>

        <span class="token comment">// 3. 使用 submit 提交 Runable 类型的任务</span>
        executor<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Thread01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 4. 使用 submit 提交 Runable 类型的任务；</span>
        executor<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runable01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 5. 使用 submit 提交有 返回值的 Callable 类型的任务</span>
        <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> submit <span class="token operator">=</span> executor<span class="token punctuation">.</span><span class="token function">submit</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Callable01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">Integer</span> result <span class="token operator">=</span> submit<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 获取结果</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">ExecutionException</span><span class="token punctuation">,</span> <span class="token class-name">InterruptedException</span> <span class="token punctuation">{</span>
        <span class="token doc-comment comment">/**
         * 1. 使用： public Thread(Runnable target) 构造函数；
         *  由于 Runnable 是一个 @FunctionalInterface 标注的接口，而这个注解的作用：
         *      标记Runnable接口是一个“函数式接口”。在Java中，“函数式接口”是有且仅有一个抽象方法的接口。
         *      反过来说，如果一个接口中包含两个或两个以上的抽象方法，就不能使用 @FunctionalInterface 注解，否则编译会报错。
         */</span>
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">-&gt;</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前线程：&quot;</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;运行结果：&quot;</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 使用的是 public Thread(Runnable target) 构造函数</span>
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Thread01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 使用的是 public Thread(Runnable target) 构造函数</span>
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Runable01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// 使用的是 public Thread(Runnable target) 构造函数</span>
        <span class="token class-name">FutureTask</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> result <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FutureTask</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Callable01</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">new</span> <span class="token class-name">Thread</span><span class="token punctuation">(</span>result<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>result<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>   <span class="token comment">// 阻塞获取，可以获取正常结果，也可以捕获异常；</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Thread01</span> <span class="token keyword">extends</span> <span class="token class-name">Thread</span><span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前线程：&quot;</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;运行结果：&quot;</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Runable01</span> <span class="token keyword">implements</span> <span class="token class-name">Runnable</span><span class="token punctuation">{</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">run</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前线程：&quot;</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;运行结果：&quot;</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">Callable01</span> <span class="token keyword">implements</span> <span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>

        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">public</span> <span class="token class-name">Integer</span> <span class="token function">call</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;当前线程：&quot;</span><span class="token operator">+</span><span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getId</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">10</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
            <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;运行结果：&quot;</span><span class="token operator">+</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">return</span> i<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>


</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="线程状态" tabindex="-1"><a class="header-anchor" href="#线程状态" aria-hidden="true">#</a> 线程状态</h3><blockquote><p>事实上，可以把线程看作是一个“任务”，为了把“大任务 ” 划分成“小任务”，于是就产生了“线程状态”的概念。 试想，有了这些线程状态的概念后，我们是不是就可以基于这些概念，开发出一套框架，在框架里面搞一套调度系统，再搞一套队列，这就是 ExecuteService 的核心思想。</p></blockquote><p><img src="`+d+'" alt="image.png" loading="lazy"> Thread 的构造方法： 因此，在构造时，只能传入 Runnable 类型的对象实例</p><figure><img src="'+k+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><ul><li>状态转化</li></ul><figure><img src="'+v+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><figure><img src="'+m+'" alt="《深入理解高并发编程V1.0》-冰河技术" tabindex="0" loading="lazy"><figcaption>《深入理解高并发编程V1.0》-冰河技术</figcaption></figure><figure><img src="'+b+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><h3 id="线程的操作方法" tabindex="-1"><a class="header-anchor" href="#线程的操作方法" aria-hidden="true">#</a> 线程的操作方法</h3><figure><img src="'+L+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><figure><img src="'+g+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><ul><li>线程名称的设置与获取</li><li>start的执行顺序与线程的执行顺序不一致</li><li>currentThread方法用来获取当前执行线程的名称</li><li>isAlive用来判断线程是否还在存活状态，活动状态就是线程已经启动且运行没有结束。线程处于正在运行或准备开始运行的状态，就认为线程是『存活』的状态</li><li>**sleep：让当前线程睡眠，让出CPU，使线程从执行状态变成限时阻塞状态。等待时间结束后，线程不一定会立即执行，线程状态会变成可执行状态。作用是在指定的毫秒数内让当前『正在执行的线程』暂停执行。 **</li><li>getId方法，作用是获取当前线程的唯一标识</li><li>停止线程 <ul><li><strong>stop方法强制结束线程。stop方法已经被作废，如果强制让线程停止有可能使一些清理性的工作得不到完成。另外一个原因是对锁定的对象进行『解锁』，导致数据得不同同步的处理，出现数据不一致性的问题。</strong></li><li>也可以使用退出标志，使线程正常退出，也就是当run方法完成后线程终止。</li></ul></li><li>** interrupt：让当前线程进入阻塞状态。调用interrupt方法不会真正的结束线程，在当前线程中打上一个停止的标记。Thread类提供了interrupted方法测试当前线程是否中断，isInterrupted方法测试线程是否已经中断。如果程中有sleep代码，不管是否进入到sleep的状态，如果调用了interrupt方法都会产生异常信息。 **</li><li>暂停线程使用suspend，重启暂停线程使用resume方法，suspend如果独占公共的同步对象，使其它线程无法访问公共同步对象，suspend会造成共享对象数据不同步</li><li>** join：多个线程进行合并，本质是：线程a需要在合并点进行等待，一直等到b线程执行完，或者等待超时时，才继续执行。 **</li><li>**yeild：此方法相当于让当前线程让出cpu执行权限，让cpu执行其他线程，但是此方法虽然会让当前线程暂停，但是不会阻塞当前线程，只是让线程转入就绪状态，可能当前线程暂停了一下，又立即获得了cpu的执行权限，又开始执行了。 **</li><li>线程的优先级： <strong>只起到建议操作系统的作用</strong><ul><li>在操作系统中，线程可以划分优先级，优先级较高的线程得到更多的CPU资源，也就CPU会优先执行优先级较高的线程对象中的任务。设置线程优先有助于帮助『线程调度器』确定在下一次选择哪个线程优先执行。</li><li>设置线程的优先级使用setPriority方法，优级分为1~10个级别，如果设置优先级小于1或大于10，JDK抛出IllegalArgumentException。JDK默认设置3个优先级常量，MIN_PRIORITY=1(最小值)，NORM_PRIORITY=5(中间值，默认)，MAX_PRIORITY=10(最大值)。</li><li>获取线程的优先级使用getPriority方法。</li><li>线程的优先级具有继承性，比如线程A启动线程B，线程B的优先级与线程A是一样的。</li><li>高优先级的线程总是大部分先执行完，但不代表高优先级的线程全部执行完。当线程优先级的等级差距很大时，谁先执行完和代码的调用顺序无关。</li><li>线程的优先还有『随机性』，也就是说优先级高的线不一定每一次都先执行完成。</li></ul></li><li><strong>daemon：线程分为两类，守护线程和用户线程</strong>。守护线程指在用户线程执行过程中，在后台提供某些通用服务的线程。GC线程就是守护线程。守护线程是一种特殊的线程，特殊指的是当进程中不存在用户线程时，守护线程会自动销毁。典型的守护线程的例子就是垃圾回收线程，当进程中没有用户线程，垃圾回收线程就没有存在的必要了，会自动销毁。设置守护线程必须要在调用start方法之前设置，否则JDK会产生IllegalThreadStateException</li><li>wait：</li></ul><p>Object 中的方法</p><figure><img src="'+E+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><p>Condition</p><figure><img src="'+A+`" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><hr><h3 id="为什么要使用线程池" tabindex="-1"><a class="header-anchor" href="#为什么要使用线程池" aria-hidden="true">#</a> 为什么要使用线程池？</h3><p>直接new一个线程真的不香，原因主要在于创建大量相同的线程会大量的消耗系统内存，甚至会导致系统内存耗尽；同时，大量的线程会竞争CPU的调度，导致CPU过度切换。在阿里巴巴java开发手册中也有提到过为什么不提倡使用单个线程的原因，就是在于上面这两个原因。</p><p>那么使用线程池的优点是什么呢？使用线程池有以下几方面的优点：</p><ol><li><strong>减少系统开销</strong>。减少在创建和销毁线程上所花费的时间和系统资源的开销</li><li><strong>提高响应速度</strong>。当任务到达之后，任务可以不需要等到线程创建就能被立即执行</li><li><strong>提高线程的可管理性</strong>。线程是稀缺资源，如果无限制的的创建，不仅会消耗系统资源，还会降低系统性能，使用线程池可以进行统一分配，调优和监控。</li></ol><h3 id="java中标准构造器创建线程池的方式" tabindex="-1"><a class="header-anchor" href="#java中标准构造器创建线程池的方式" aria-hidden="true">#</a> java中标准构造器创建线程池的方式</h3><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token class-name">ThreadPoolExecutor</span><span class="token punctuation">(</span>
   <span class="token keyword">int</span> corePoolSize<span class="token punctuation">,</span>
   <span class="token keyword">int</span> maximumPoolSize<span class="token punctuation">,</span>
   <span class="token keyword">long</span> keepAliveTime<span class="token punctuation">,</span>
   <span class="token class-name">TimeUnit</span> unit<span class="token punctuation">,</span>
   <span class="token class-name">BlockingQueue</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Runnable</span><span class="token punctuation">&gt;</span></span> workQueue<span class="token punctuation">,</span>
   <span class="token class-name">ThreadFactory</span> threadFactory<span class="token punctuation">,</span>
   <span class="token class-name">RejectedExecutionHandler</span> handler<span class="token punctuation">)</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>参数讲解及运行原理 <ul><li><code>corePoolSize：</code> 核心线程数。除非设置了 <strong>_allowCoreThreadTimeOut _</strong>，否则一直线程一直存在。</li><li><code>maximumPoolSize：</code> 最大线程数。</li><li><code>keepAliveTime：</code> 空闲线程存活时间。</li><li><code>unit：</code> 空闲线程存活时间单位。</li><li><code>workQueue：</code> 阻塞队列。<strong><em>用来存储等待执行的任务，如果当前对线程的需求超过了 corePoolSize 大小，就会放在这里等待空闲线程执行</em></strong><ul><li><code>LinkedBlockingQueue</code> ： 是一个基于链表实现的阻塞队列，按FIFO排序任务，可以设置容量（有界队列），不设置容量则默认使用 Integer.Max_VALUE 作为容量（无界队列）。该队列的吞吐量高于 ArrayBlockingQueue。 有两个快捷创建线程池的工厂方法 Executors.newSingleThreadExecutor 和 Executors.newFixedThreadPool 使用了这个队列，并且都没有设置容量（无界队列）。</li><li><code>ArrayBlockingQueue</code> ： 是一个数组实现的有界阻塞队列（有界队列），队列中的元素按FIFO排序。ArrayBlockingQueue在创建时必须设置大小。</li><li><code>SynchronousQueue</code> ： （同步队列）是一个不存储元素的阻塞队列，每个插入操作必须等到另一个线程的调用移除操作，否则插入操作一直处于阻塞状态，其吞吐量通常高于 LinkedBlockingQueue 。快捷工 厂方法Executors.newCachedThreadPool所创建的线程池使用此队列。与前面的队列相比，这个队列比较特殊，它不会保存提交的任务，而是直接新建一个线程来执行新来的任务。</li><li><code>PriorityBlockingQueue</code> ：是具有优先级的无界队列。</li><li><code>DelayQueue</code> ：这是一个无界阻塞延迟队列，底层基于 PriorityBlockingQueue 实现，队列中每个元素都有过期时间，当从队列 获取元素（元素出队）时，只有已经过期的元素才会出队，队列头部的 元素是过期最快的元素。快捷工厂方法 Executors.newScheduledThreadPool所创建的线程池使用此队列。</li></ul></li><li><code>threadFactory：</code> 创建线程的线程工厂。当线程池需要新的线程时，会用threadFactory来生成新的线程；</li><li><code>handler：</code> 拒绝策略。 <ul><li>AbortPolicy ： 使用该策略时，如果线程池队列满了，新任务就会被拒绝，并且抛 出RejectedExecutionException异常。该策略是线程池默认的拒绝策略。</li><li>DiscardPolicy ： 该策略是AbortPolicy的Silent（安静）版本，如果线程池队列满 了，新任务就会直接被丢掉，并且不会有任何异常抛出。</li><li>DiscardOldestPolicy ： 抛弃最老任务策略，也就是说如果队列满了，就会将最早进入队列的任务抛弃，从队列中腾出空间，再尝试加入队列。因为队列是队尾进队头出，队头元素是最老的，所以每次都是移除队头元素后再尝试入队。</li><li>CallerRunsPolicy ： 调用者执行策略。在新任务被添加到线程池时，如果添加失败，那 么提交任务线程会自己去执行该任务，不会使用线程池中的线程去执行 新任务。在以上4种内置策略中，线程池默认的拒绝策略为AbortPolicy，如 果提交的任务被拒绝，线程池就会抛出RejectedExecutionException异 常，该异常是非受检异常（运行时异常），很容易忘记捕获。如果关心 任务被拒绝的事件，需要在提交任务时捕获RejectedExecutionException 异常。</li><li>自定义策略 ： 如果以上拒绝策略都不符合需求，那么可自定义一个拒绝策略，实 现RejectedExecutionHandler接口的rejectedExecution方法即可。</li></ul></li></ul></li><li>运行原理 <ul><li>线程池初始化时并没有线程，当来临任务时，开始创建一个线程，如果任务还是不能被及时的完成，就接着创建，直到达到核心线程数。（一旦创建的达到核心线程数后，就会永驻内存，但是要注意并不是指创建线程初期的线程就是核心线程，超过核心线程数之后创建的线程也有可能成为核心线程，最开始创建的线程有可能被销毁）；</li><li>如果创建了核心线程数大小的线程后依然有任务涌来，那就把这些任务放到阻塞队列中；</li><li>如果阻塞队列满了，依然有任务涌来，那么就接着创建线程，直到达到最大线程数；</li><li>如果达到最大线程数后，还有任务涌来，那么就执行拒绝策略；</li><li>如果任务执行完成之后，线程池会根据空闲线程存活时间对创建的线程进行销毁，直到线程数量等于核心线程数为止；</li></ul></li><li>线程池的操作方法 <ul><li>**提交任务 ** <ul><li>**execute() ** <ul><li>void execute(Runnable command);</li></ul></li><li><strong>submit()</strong></li></ul></li></ul></li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code>  <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">submit</span><span class="token punctuation">(</span><span class="token class-name">Callable</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> task<span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">submit</span><span class="token punctuation">(</span><span class="token class-name">Runnable</span> task<span class="token punctuation">,</span> <span class="token class-name">T</span> result<span class="token punctuation">)</span><span class="token punctuation">;</span> 
  <span class="token class-name">Future</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token operator">?</span><span class="token punctuation">&gt;</span></span> <span class="token function">submit</span><span class="token punctuation">(</span><span class="token class-name">Runnable</span> task<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><pre><code>  - 二者区别 
     - 接受参数不同
     - submit()提交任务后会有返回值，而execute()没有
     - submit()方便Exception处理
</code></pre><ul><li><strong>钩子方法</strong></li></ul><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token comment">//任务执行之前的钩子方法（前钩子） </span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">beforeExecute</span><span class="token punctuation">(</span><span class="token class-name">Thread</span> t<span class="token punctuation">,</span> <span class="token class-name">Runnable</span> r<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span> 
<span class="token comment">//任务执行之后的钩子方法（后钩子） </span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">afterExecute</span><span class="token punctuation">(</span><span class="token class-name">Runnable</span> r<span class="token punctuation">,</span> <span class="token class-name">Throwable</span> t<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span> 
<span class="token comment">//线程池终止时的钩子方法（停止钩子） </span>
<span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">terminated</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>优雅关闭 <ul><li><strong>shutdown</strong> ： 是JUC提供的一个有序关闭线程池的方法，此方法 会等待当前工作队列中的剩余任务全部执行完成之后，才会执行关闭， 但是此方法被调用之后线程池的状态转为SHUTDOWN，线程池不会再 接收新的任务。</li><li><strong>shutdownNow</strong> ： 是JUC提供的一个立即关闭线程池的方法，此 方法会打断正在执行的工作线程，并且会清空当前工作队列中的剩余任 务，返回的是尚未执行的任务。</li><li><strong>awaitTermination</strong> ： 等待线程池完成关闭。在调用线程池的 shutdown()与shutdownNow()方法时，当前线程会立即返回，不会一直等 待直到线程池完成关闭。如果需要等到线程池关闭完成，可以调用 awaitTermination()方法。</li></ul></li></ul><h3 id="java中快捷工厂创建线程池方式" tabindex="-1"><a class="header-anchor" href="#java中快捷工厂创建线程池方式" aria-hidden="true">#</a> java中快捷工厂创建线程池方式</h3><ul><li>出现这种方式的背景： 正是由于线程池的标准创建模式参数较多，使用时需要对线程池原理了解较深才能熟练使用，因此juc包中又提供了一种快捷创建线程池的方式，这种方式就是快捷工厂创建线程池方式。</li><li>快捷创建方式 <ul><li>Executors.<strong>newSingleThreadExecutor</strong>()</li><li>Executors.<strong>newFixedThreadPool</strong>(int threads)</li><li>Executors.<strong>newCachedThreadPool</strong>()</li><li>Executors.<strong>newScheduledThreadPool</strong>(int corePoolSize)</li></ul></li></ul><h3 id="两种方式优劣" tabindex="-1"><a class="header-anchor" href="#两种方式优劣" aria-hidden="true">#</a> 两种方式优劣</h3><p>快捷工厂创建线程池的方式是不建议使用的，因为有些方式使用的是无界队列，这会导致内存溢出。推荐使用原生方式。</p><h3 id="java中线程池框架" tabindex="-1"><a class="header-anchor" href="#java中线程池框架" aria-hidden="true">#</a> java中线程池框架</h3><figure><img src="`+h+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><figure><img src="'+T+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><figure><img src="'+N+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><blockquote><p>ThreadPoolExecutor 和 ScheduledThreadPoolExecutor 算是我们最常用的线程池类了，从上面我们可以看到这俩个最终都实现了 Executor 和 ExecutorService 这两个接口，实际上主要的接口定义都是在 ExecutorService 中。</p></blockquote><h3 id="线程池的线程数选取" tabindex="-1"><a class="header-anchor" href="#线程池的线程数选取" aria-hidden="true">#</a> 线程池的线程数选取</h3><ul><li>IO密集型任务 ： 此类任务主要是执行IO操作。由于执行IO操作的时间较长，导致 CPU的利用率不高，这类任务CPU常处于空闲状态。Netty的IO读写操作 为此类任务的典型例子。 <ul><li>通常需要开CPU核心数两倍的线程。</li></ul></li><li>CPU密集型任务 ： 此类任务主要是执行计算任务。由于响应时间很快，CPU一直在运 行，这种任务CPU的利用率很高。 <ul><li>线程数等于CPU数就行</li></ul></li><li>混合型任务 ： 此类任务既要执行逻辑计算，又要进行IO操作（如RPC调用、数据 库访问）。相对来说，由于执行IO操作的耗时较长（一次网络往返往往 在数百毫秒级别），这类任务的CPU利用率也不是太高。Web服务器的 HTTP请求处理操作为此类任务的典型例子。 <ul><li>最佳线程数目 = (线程等待时间与线程占用CPU时间之比 + 1) * CPU核数</li></ul></li></ul><h3 id="线程池结合springboot使用" tabindex="-1"><a class="header-anchor" href="#线程池结合springboot使用" aria-hidden="true">#</a> 线程池结合SpringBoot使用</h3>',55),z={href:"/EnableAsync",target:"_blank",rel:"noopener noreferrer"},H=n("li",null,"在需要异步执行的方法上加上@Async注解",-1),Z=n("li",null,[s("方式二：使用自定义的线程池 "),n("ul",null,[n("li",null,"自定义Configuration")])],-1),Y=p(`<h3 id="线程池配置类" tabindex="-1"><a class="header-anchor" href="#线程池配置类" aria-hidden="true">#</a> 线程池配置类</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>public class ThreadPoolUtil {
    private static int corePoolSize = 5;
    private static int maxPollSize = 5;
    private static long keepAliveTime = 10;
    private stativ TimeUnit unit = TimeUnit.MINUTES;

    private static class Pool{
        private static ThreadPoolExecutor executor = new ThreadPoolExecutor(
            corePoolSize,
            maxPollSize,
            keepAliveTime,
            unit,
            new LinkedBlockingQueue&lt;&gt;(),
            r -&gt; new Thread(r, &quot;async-thread&quot;),
            new ThreadPoolExecutor.CallerRunsPolicy()
        );
    }
}

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="使用方法" tabindex="-1"><a class="header-anchor" href="#使用方法" aria-hidden="true">#</a> 使用方法</h3><div class="language-text line-numbers-mode" data-ext="text"><pre class="language-text"><code>ThreadPoolUtil.submitTask(
    ()-&gt;{
        // 你的任务方法；
    }
);

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="其他方法" tabindex="-1"><a class="header-anchor" href="#其他方法" aria-hidden="true">#</a> 其他方法</h3>`,5),$={href:"https://mp.weixin.qq.com/s/skBA9RwVBLnw8BYZhcUSrA",target:"_blank",rel:"noopener noreferrer"},nn=p('<hr><h3 id="任务编排-completablefuture" tabindex="-1"><a class="header-anchor" href="#任务编排-completablefuture" aria-hidden="true">#</a> 任务编排-CompletableFuture</h3><ul class="task-list-container"><li class="task-list-item"><input type="checkbox" class="task-list-item-checkbox" id="task-item-1" disabled="disabled"><label class="task-list-item-label" for="task-item-1"> todo</label></li></ul><ol><li></li><li></li><li><p>Future 与 FutureTask 出现的背景以及其产生的问题；</p><ol><li>get 方法是一个阻塞方法，不符合我们异步的业务需求；</li><li>虽然可以配合线程池的方式来异步执行多个任务，但是</li></ol></li><li><p>CompletableFuture 出现的背景；</p><ol><li>零元依赖</li><li>一元依赖；</li><li>二元依赖；</li><li>多元依赖；</li></ol></li><li><p>基本原理；</p></li><li><p>最佳实践；</p></li><li><p>如何学些此部分内容； 1.</p></li></ol><p>以 pdf 中的为例；</p><p>构造一个 CompletableFuture 对象，runAsync 没有返回值；supplyAsync 有返回值；</p><ul><li><code>static CompletableFuture&lt;Void&gt; runAsync(Runnable runnable)</code>：异步执行指定的<code>Runnable</code>任务。</li><li><code>static CompletableFuture&lt;Void&gt; runAsync(Runnable runnable, Executor executor)</code>：在指定的<code>Executor</code>上异步执行<code>Runnable</code>任务。</li><li><code>static &lt;U&gt; CompletableFuture&lt;U&gt; supplyAsync(Supplier&lt;U&gt; supplier)</code>：异步执行指定的<code>Supplier</code>任务，并返回<code>CompletableFuture</code>对象，该对象在计算完成时将提供结果。</li><li><code>static &lt;U&gt; CompletableFuture&lt;U&gt; supplyAsync(Supplier&lt;U&gt; supplier, Executor executor)</code>：在指定的<code>Executor</code>上异步执行<code>Supplier</code>任务，并返回一个<code>CompletableFuture</code>对象，该对象在计算完成时将提供结果。</li></ul><p>thenApply 方法：当一个线程依赖另一个线程时，获取上一个任务返回的结果，并返回当前 任务的返回值。 thenAccept 方法：消费处理结果。接收任务的处理结果，并消费处理，无返回结果。 thenRun 方法：只要上面的任务执行完成，就开始执行 thenRun，只是处理完任务后，执行 thenRun 的后续操作</p><ul><li><p><code>CompletableFuture&lt;T&gt; thenApply(Function&lt;? super T,? extends U&gt; fn)</code>：当此 <code>CompletableFuture</code> 完成时，使用此 <code>CompletableFuture</code> 的结果作为参数应用给定的函数。</p></li><li><p><code>CompletableFuture&lt;T&gt; thenApplyAsync(Function&lt;? super T,? extends U&gt; fn)</code>：当此 <code>CompletableFuture</code> 完成时，异步地应用给定的函数。</p></li><li><p><code>CompletableFuture&lt;T&gt; thenApplyAsync(Function&lt;? super T,? extends U&gt; fn, Executor executor)</code>：当此 CompletableFuture 完成时，使用指定的 Executor 异步地应用给定的函数。</p></li><li><p><code>CompletableFuture&lt;Void&gt; thenAccept(Consumer&lt;? super T&gt; action)</code>：当此 <code>CompletableFuture</code> 完成时，对其结果执行给定的操作。</p></li><li><p><code>CompletableFuture&lt;Void&gt; thenAcceptAsync(Consumer&lt;? super T&gt; action)</code>：当此 <code>CompletableFuture</code> 完成时，异步地对其结果执行给定的操作。</p></li><li><p><code>CompletableFuture&lt;Void&gt; thenAcceptAsync(Consumer&lt;? super T&gt; action, Executor executor)</code>：当此 <code>CompletableFuture</code> 完成时，使用指定的 Executor 异步地对其结果执行给定的操作。</p></li><li><p><code>CompletableFuture&lt;Void&gt; thenRun(Runnable action)</code>：当此 <code>CompletableFuture</code> 完成时，执行给定的操作。</p></li><li><p><code>CompletableFuture&lt;Void&gt; thenRunAsync(Runnable action)</code>：当此 <code>CompletableFuture</code> 完成时，异步地执行给定的操作。</p></li><li><p><code>CompletableFuture&lt;Void&gt; thenRunAsync(Runnable action, Executor executor)</code>：当此 <code>CompletableFuture</code> 完成时，使用指定的 <code>Executor</code> 异步地执行给定的操作。</p></li></ul><p>不可改变返回值</p><ul><li><code>CompletableFuture&lt;T&gt; **whenComplete**(BiConsumer&lt;? super T,? super Throwable&gt; action)</code>：当此 <code>CompletableFuture</code> 完成时，对结果或异常执行给定的操作。</li><li><code>CompletableFuture&lt;T&gt; **whenCompleteAsync**(BiConsumer&lt;? super T,? super Throwable&gt; action)</code>：当此 <code>CompletableFuture</code> 完成时，异步地对结果或异常执行给定的操作。</li><li><code>CompletableFuture&lt;T&gt; **whenCompleteAsync**(BiConsumer&lt;? super T,? super Throwable&gt; action, Executor executor)</code>：当此 <code>CompletableFuture</code> 完成时，使用指定的 <code>Executor</code> 异步地对结果或异常执行给定的操作。</li></ul><p>可以改变返回值</p><ul><li><code>CompletableFuture&lt;U&gt; handle(BiFunction&lt;? super T,Throwable,? extends U&gt; fn)</code>：当此 <code>CompletableFuture</code> 完成时，执行给定的函数。</li><li><code>CompletableFuture&lt;U&gt; handleAsync(BiFunction&lt;? super T,Throwable,? extends U&gt; fn)</code>：当此 <code>CompletableFuture</code> 完成时，异步地执行给定的函数。</li><li><code>CompletableFuture&lt;U&gt; handleAsync(BiFunction&lt;? super T,Throwable,? extends U&gt; fn, Executor executor)</code>：当此 <code>CompletableFuture</code> 完成时，使用指定的 Executor 异步地执行给定的函数。</li><li><code>CompletableFuture&lt;T&gt; **exceptionally**(Function&lt;Throwable,? extends T&gt; fn)</code>：当 <code>CompletableFuture</code> 遇到异常时，执行给定的函数。</li></ul><p>thenCompose：TODO thenCombine：组合两个 future，获取两个 future 的返回结果，并返回当前任务的返回值 thenAcceptBoth：组合两个 future，获取两个 future 任务的返回结果，然后处理任务，没有返回值。 runAfterBoth：组合两个 future，不需要获取 future 的结果，只需两个 future 处理完任务后，处理该任务。</p><ul><li><code>CompletableFuture&lt;T&gt; thenCompose(Function&lt;? super T,? extends CompletionStage&lt;U&gt;&gt; fn)</code>：当此 <code>CompletableFuture</code> 完成时，使用此 <code>CompletableFuture</code> 的结果作为参数应用给定的函数，并返回一个新的 <code>CompletableFuture</code>。</li><li><code>CompletableFuture&lt;T&gt; thenComposeAsync(Function&lt;? super T,? extends CompletionStage&lt;U&gt;&gt; fn)</code>：当此 <code>CompletableFuture</code> 完成时，异步地应用给定的函数。</li><li><code>CompletableFuture&lt;T&gt; thenComposeAsync(Function&lt;? super T,? extends CompletionStage&lt;U&gt;&gt; fn, Executor executor)</code>：当此 <code>CompletableFuture</code> 完成时，使用指定的 <code>Executor</code> 异步地应用给定的函数。</li><li><code>CompletableFuture&lt;Void&gt; thenCombine(CompletionStage&lt;? extends U&gt; other, BiConsumer&lt;? super T,? super U&gt; action)</code>：当此 <code>CompletableFuture</code> 和另一个 <code>CompletableFuture</code> 完成时，执行给定的操作。</li><li><code>CompletableFuture&lt;Void&gt; thenCombineAsync(CompletionStage&lt;? extends U&gt; other, BiConsumer&lt;? super T,? super U&gt; action)</code>：当此 <code>CompletableFuture</code> 和另一个 <code>CompletableFuture</code> 完成时，异步地执行给定的操作。</li><li><code>CompletableFuture&lt;Void&gt; thenCombineAsync(CompletionStage&lt;? extends U&gt; other, BiConsumer&lt;? super T,? super U&gt; action, Executor executor)</code>：当此 CompletableFuture 和另一个 <code>CompletableFuture</code> 完成时，使用指定的 <code>Executor</code> 异步地执行给定的操作。</li><li><code>CompletableFuture&lt;Void&gt; thenAcceptBoth(CompletionStage&lt;? extends U&gt; other, BiConsumer&lt;? super T,? super U&gt; action)</code>：当此 <code>CompletableFuture</code> 和另一个 <code>CompletableFuture</code> 都完成时，执行给定的操作。</li><li><code>CompletableFuture&lt;Void&gt; thenAcceptBothAsync(CompletionStage&lt;? extends U&gt; other, BiConsumer&lt;? super T,? super U&gt; action)</code>：当此 <code>CompletableFuture</code> 和另一个 <code>CompletableFuture</code> 都完成时，异步地执行给定的操作。</li><li><code>CompletableFuture&lt;Void&gt; thenAcceptBothAsync(CompletionStage&lt;? extends U&gt; other, BiConsumer&lt;? super T,? super U&gt; action, Executor executor)</code>：当此 <code>CompletableFuture</code> 和另一个 <code>CompletableFuture</code> 都完成时，使用指定的 <code>Executor</code> 异步地执行给定的操作。</li><li><code>CompletableFuture&lt;Void&gt; runAfterBoth(CompletionStage&lt;?&gt; other, Runnable action)</code>：当此 <code>CompletableFuture</code> 和另一个 <code>CompletableFuture</code> 都完成时，执行给定的操作。</li><li><code>CompletableFuture&lt;Void&gt; runAfterBothAsync(CompletionStage&lt;?&gt; other, Runnable action)</code>：当此 <code>CompletableFuture</code> 和另一个 <code>CompletableFuture</code> 都完成时，异步地执行给定的操作。</li><li><code>CompletableFuture&lt;Void&gt; runAfterBothAsync(CompletionStage&lt;?&gt; other, Runnable action, Executor executor)</code>：当此 <code>CompletableFuture</code> 和另一个 <code>CompletableFuture</code> 都完成时，使用指定的 <code>Executor</code> 异步地执行给定的操作。</li></ul><p>acceptEither：两个任务有一个执行完成，获取它的返回值，处理任务，没有新的返回值。 applyToEither：两个任务有一个执行完成，获取它的返回值，处理任务并有新的返回值。<br> runAfterEither：两个任务有一个执行完成，不需要获取 future 的结果，处理任务，也没有返回值。</p><ul><li><code>CompletableFuture&lt;Void&gt; acceptEither(CompletionStage&lt;? extends T&gt; other, Consumer&lt;? super T&gt; action)</code>：当此 <code>CompletableFuture</code> 或另一个 <code>CompletableFuture</code> 完成时，执行给定的操作。</li><li><code>CompletableFuture&lt;Void&gt; acceptEitherAsync(CompletionStage&lt;? extends T&gt; other, Consumer&lt;? super T&gt; action)</code>：当此 <code>CompletableFuture</code> 或另一个 <code>CompletableFuture</code> 完成时，异步地执行给定的操作。</li><li><code>CompletableFuture&lt;Void&gt; acceptEitherAsync(CompletionStage&lt;? extends T&gt; other, Consumer&lt;? super T&gt; action, Executor executor)</code>：当此 <code>CompletableFuture</code> 或另一个 <code>CompletableFuture</code> 完成时，使用指定的 <code>Executor</code> 异步地执行给定的操作。</li><li><code>CompletableFuture&lt;U&gt; applyToEither(CompletionStage&lt;? extends T&gt; other, Function&lt;? super T,U&gt; fn)</code>：当此 <code>CompletableFuture</code> 或另一个 <code>CompletableFuture</code> 完成时，执行给定的函数。</li><li><code>CompletableFuture&lt;U&gt; applyToEitherAsync(CompletionStage&lt;? extends T&gt; other, Function&lt;? super T,U&gt; fn)</code>：当此 <code>CompletableFuture</code> 或另一个 <code>CompletableFuture</code> 完成时，异步地执行给定的函数。</li><li><code>CompletableFuture&lt;U&gt; applyToEitherAsync(CompletionStage&lt;? extends T&gt; other, Function&lt;? super T,U&gt; fn, Executor executor)</code>：当此 <code>CompletableFuture</code> 或另一个 <code>CompletableFuture</code> 完成时，使用指定的 <code>Executor</code> 异步地执行给定的函数。</li><li><code>CompletableFuture&lt;Void&gt; runAfterEither(CompletionStage&lt;?&gt; other, Runnable action)</code>：当此 <code>CompletableFuture</code> 或另一个 <code>CompletableFuture</code> 完成时，执行给定的操作。</li><li><code>CompletableFuture&lt;Void&gt; runAfterEitherAsync(CompletionStage&lt;?&gt; other, Runnable action)</code>：当此 <code>CompletableFuture</code> 或另一个 <code>CompletableFuture</code> 完成时，异步地执行给定的操作。</li><li><code>CompletableFuture&lt;Void&gt; runAfterEitherAsync(CompletionStage&lt;?&gt; other, Runnable action, Executor executor)</code>：当此 <code>CompletableFuture</code> 或另一个 <code>CompletableFuture</code> 完成时，使用指定的 <code>Executor</code> 异步地执行给定的操作。</li></ul><p>allOf：等待所有任务完成 anyOf：只要有一个任务完成</p><ul><li><code>static CompletableFuture&lt;Void&gt; allOf(CompletableFuture&lt;?&gt;... cfs)</code>：返回一个新的 <code>CompletableFuture</code>，当所有传入的 <code>CompletableFuture</code> 都完成时，它也会完成。</li><li><code>static CompletableFuture&lt;Object&gt; anyOf(CompletableFuture&lt;?&gt;... cfs)</code>：返回一个新的 <code>CompletableFuture</code>，当任意一个传入的 <code>CompletableFuture</code> 完成时，它也会完成，并返回完成的 <code>CompletableFuture</code> 的结果。</li></ul><ul><li>5010-Unsafe 类</li></ul><blockquote><ol><li>原理</li><li>提供的方法、原子类</li><li>基于 Unsafe 类的一些实现</li><li></li></ol></blockquote><ol><li><strong>Unsafe 类实际上是由 JNI 技术实现的，Java 可以利用这种技术把底层操作系统对外提供的本地方法的操作接口封装起来，形成 Java 能够理解和操作的方法。</strong></li><li><strong>封装起来的方法主要有</strong>： <ol><li><strong>内存操作。</strong></li><li><strong>CAS 算法。</strong></li><li><strong>Class 操作。</strong></li><li><strong>对象操作。</strong></li><li><strong>线程调度。</strong></li><li><strong>系统相关信息的获取。</strong></li><li><strong>内存屏障。</strong></li><li><strong>数组操作。</strong></li></ol></li><li><strong>这些方法让 Java 语言拥有了类似于 C 语言指针操作内存空间的能力，但这些方法同时也增加了程序发生指针问题的风险。</strong></li><li><strong>因此在使用时要慎重。Java 规定只有授信的代码才能使用 Unsafe 类。</strong></li><li><strong>Java 可以使用此工具类完成“二次开发”，</strong><ol><li><strong>比如原子类就是使用了 Unsafe 中的 CAS 算法。</strong></li><li><strong>比如 LockSupport 也使用了 Unsafe 的相关接口。</strong></li><li><strong>java.util.concurrent.locks.ReentrantLock.Sync#nonfairTryAcquire 中就是用了 compareAndSwapInt 方法；</strong></li><li><strong>java.lang.invoke.DirectMethodHandle#allocateInstance。</strong></li></ol></li></ol><h3 id="jni-加持" tabindex="-1"><a class="header-anchor" href="#jni-加持" aria-hidden="true">#</a> JNI 加持</h3><figure><img src="'+I+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><p>参考：</p>',25),sn={href:"https://www.cnblogs.com/niujifei/p/13946234.html",target:"_blank",rel:"noopener noreferrer"},an={href:"https://juejin.cn/post/6844903985111908359",target:"_blank",rel:"noopener noreferrer"},en=p('<h3 id="unsafe-方法" tabindex="-1"><a class="header-anchor" href="#unsafe-方法" aria-hidden="true">#</a> Unsafe 方法</h3><figure><img src="'+f+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><figure><img src="'+S+`" alt="" tabindex="0" loading="lazy"><figcaption></figcaption></figure><p>Unsafe提供的API大致可分为内存操作、CAS、Class相关、对象操作、线程调度、系统信息获取、内存屏障、数组操作等几类。</p><p>Unsafe 是位于sun.misc包下的一个类，使用 JNI 技术实现的，这种技术目的在于：封装把底层操作系统对外提供的本地方法的操作接口，把这些接口封装成 Java 语言可以调用和理解的 Java 方法。 ，主要提供一些用于执行低级别、不安全操作的方法，如直接访问系统内存资源、自主管理内存资源等，这些方法在提升Java运行效率、增强Java语言底层资源操作能力方面起到了很大的作用。但由于Unsafe类使Java语言拥有了类似C语言指针一样操作内存空间的能力，这无疑也增加了程序发生相关指针问题的风险。在程序中过度、不正确使用Unsafe类会使得程序出错的概率变大，使得Java这种安全的语言变得不再“安全”，因此对Unsafe的使用一定要慎重。 这个类尽管里面的方法都是 public 的，但是并没有办法使用它们，JDK API 文档也没有提供任何关于这个类的方法的解释。总而言之，<strong>对于 Unsafe 类的使用都是受限制的，只有授信的代码才能获得该类的实例，当然 JDK 库里面的类是可以随意使用的</strong>。</p><h3 id="unsafe-的应用" tabindex="-1"><a class="header-anchor" href="#unsafe-的应用" aria-hidden="true">#</a> Unsafe 的应用</h3><p>针对 Usafe 的应用场景：</p><ol><li>CAS</li><li>LockSupport 中每一个方法都用到了 Unsafe 类中的方法。</li><li>原子类</li></ol><ul><li>LockSupport 中每一个方法都用到了 Unsafe 类中的方法：</li></ul><div class="language-c line-numbers-mode" data-ext="c"><pre class="language-c"><code>
package java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span>locks<span class="token punctuation">;</span>
import sun<span class="token punctuation">.</span>misc<span class="token punctuation">.</span>Unsafe<span class="token punctuation">;</span>


public class LockSupport <span class="token punctuation">{</span>
    private <span class="token function">LockSupport</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token comment">// Cannot be instantiated.</span>

    private <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">setBlocker</span><span class="token punctuation">(</span>Thread t<span class="token punctuation">,</span> Object arg<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Even though volatile, hotspot doesn&#39;t need a write barrier here.</span>
        UNSAFE<span class="token punctuation">.</span><span class="token function">putObject</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> parkBlockerOffset<span class="token punctuation">,</span> arg<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    
    public <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">unpark</span><span class="token punctuation">(</span>Thread thread<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>thread <span class="token operator">!=</span> null<span class="token punctuation">)</span>
            UNSAFE<span class="token punctuation">.</span><span class="token function">unpark</span><span class="token punctuation">(</span>thread<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    
    public <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">park</span><span class="token punctuation">(</span>Object blocker<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Thread t <span class="token operator">=</span> Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setBlocker</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> blocker<span class="token punctuation">)</span><span class="token punctuation">;</span>
        UNSAFE<span class="token punctuation">.</span><span class="token function">park</span><span class="token punctuation">(</span>false<span class="token punctuation">,</span> <span class="token number">0L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setBlocker</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> null<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    
    public <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">parkNanos</span><span class="token punctuation">(</span>Object blocker<span class="token punctuation">,</span> <span class="token keyword">long</span> nanos<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>nanos <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            Thread t <span class="token operator">=</span> Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">setBlocker</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> blocker<span class="token punctuation">)</span><span class="token punctuation">;</span>
            UNSAFE<span class="token punctuation">.</span><span class="token function">park</span><span class="token punctuation">(</span>false<span class="token punctuation">,</span> nanos<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token function">setBlocker</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> null<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    
    public <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">parkUntil</span><span class="token punctuation">(</span>Object blocker<span class="token punctuation">,</span> <span class="token keyword">long</span> deadline<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Thread t <span class="token operator">=</span> Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setBlocker</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> blocker<span class="token punctuation">)</span><span class="token punctuation">;</span>
        UNSAFE<span class="token punctuation">.</span><span class="token function">park</span><span class="token punctuation">(</span>true<span class="token punctuation">,</span> deadline<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">setBlocker</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> null<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    
    public <span class="token keyword">static</span> Object <span class="token function">getBlocker</span><span class="token punctuation">(</span>Thread t<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">==</span> null<span class="token punctuation">)</span>
            throw new <span class="token function">NullPointerException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> UNSAFE<span class="token punctuation">.</span><span class="token function">getObjectVolatile</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> parkBlockerOffset<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    
    public <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">park</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        UNSAFE<span class="token punctuation">.</span><span class="token function">park</span><span class="token punctuation">(</span>false<span class="token punctuation">,</span> <span class="token number">0L</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    
    public <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">parkNanos</span><span class="token punctuation">(</span><span class="token keyword">long</span> nanos<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>nanos <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
            UNSAFE<span class="token punctuation">.</span><span class="token function">park</span><span class="token punctuation">(</span>false<span class="token punctuation">,</span> nanos<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    
    public <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">parkUntil</span><span class="token punctuation">(</span><span class="token keyword">long</span> deadline<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        UNSAFE<span class="token punctuation">.</span><span class="token function">park</span><span class="token punctuation">(</span>true<span class="token punctuation">,</span> deadline<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    
    <span class="token keyword">static</span> final <span class="token keyword">int</span> <span class="token function">nextSecondarySeed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">int</span> r<span class="token punctuation">;</span>
        Thread t <span class="token operator">=</span> Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>r <span class="token operator">=</span> UNSAFE<span class="token punctuation">.</span><span class="token function">getInt</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> SECONDARY<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            r <span class="token operator">^=</span> r <span class="token operator">&lt;&lt;</span> <span class="token number">13</span><span class="token punctuation">;</span>   <span class="token comment">// xorshift</span>
            r <span class="token operator">^=</span> r <span class="token operator">&gt;&gt;</span><span class="token operator">&gt;</span> <span class="token number">17</span><span class="token punctuation">;</span>
            r <span class="token operator">^=</span> r <span class="token operator">&lt;&lt;</span> <span class="token number">5</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>r <span class="token operator">=</span> java<span class="token punctuation">.</span>util<span class="token punctuation">.</span>concurrent<span class="token punctuation">.</span>ThreadLocalRandom<span class="token punctuation">.</span><span class="token function">current</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">nextInt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
            r <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// avoid zero</span>
        UNSAFE<span class="token punctuation">.</span><span class="token function">putInt</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> SECONDARY<span class="token punctuation">,</span> r<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> r<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Hotspot implementation via intrinsics API</span>
    private <span class="token keyword">static</span> final sun<span class="token punctuation">.</span>misc<span class="token punctuation">.</span>Unsafe UNSAFE<span class="token punctuation">;</span>
    private <span class="token keyword">static</span> final <span class="token keyword">long</span> parkBlockerOffset<span class="token punctuation">;</span>
    private <span class="token keyword">static</span> final <span class="token keyword">long</span> SEED<span class="token punctuation">;</span>
    private <span class="token keyword">static</span> final <span class="token keyword">long</span> PROBE<span class="token punctuation">;</span>
    private <span class="token keyword">static</span> final <span class="token keyword">long</span> SECONDARY<span class="token punctuation">;</span>
    <span class="token keyword">static</span> <span class="token punctuation">{</span>
        try <span class="token punctuation">{</span>
            UNSAFE <span class="token operator">=</span> sun<span class="token punctuation">.</span>misc<span class="token punctuation">.</span>Unsafe<span class="token punctuation">.</span><span class="token function">getUnsafe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            Class<span class="token operator">&lt;</span><span class="token operator">?</span><span class="token operator">&gt;</span> tk <span class="token operator">=</span> Thread<span class="token punctuation">.</span>class<span class="token punctuation">;</span>
            parkBlockerOffset <span class="token operator">=</span> UNSAFE<span class="token punctuation">.</span><span class="token function">objectFieldOffset</span>
                <span class="token punctuation">(</span>tk<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">&quot;parkBlocker&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            SEED <span class="token operator">=</span> UNSAFE<span class="token punctuation">.</span><span class="token function">objectFieldOffset</span>
                <span class="token punctuation">(</span>tk<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">&quot;threadLocalRandomSeed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            PROBE <span class="token operator">=</span> UNSAFE<span class="token punctuation">.</span><span class="token function">objectFieldOffset</span>
                <span class="token punctuation">(</span>tk<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">&quot;threadLocalRandomProbe&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            SECONDARY <span class="token operator">=</span> UNSAFE<span class="token punctuation">.</span><span class="token function">objectFieldOffset</span>
                <span class="token punctuation">(</span>tk<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">&quot;threadLocalRandomSecondarySeed&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token function">catch</span> <span class="token punctuation">(</span>Exception ex<span class="token punctuation">)</span> <span class="token punctuation">{</span> throw new <span class="token function">Error</span><span class="token punctuation">(</span>ex<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>


</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>其它用到 Unsafe 类的场景</li></ul><div class="language-c line-numbers-mode" data-ext="c"><pre class="language-c"><code>protected final boolean <span class="token function">compareAndSetState</span><span class="token punctuation">(</span><span class="token keyword">int</span> expect<span class="token punctuation">,</span> <span class="token keyword">int</span> update<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// See below for intrinsics setup to support this</span>
    <span class="token keyword">return</span> unsafe<span class="token punctuation">.</span><span class="token function">compareAndSwapInt</span><span class="token punctuation">(</span>this<span class="token punctuation">,</span> stateOffset<span class="token punctuation">,</span> expect<span class="token punctuation">,</span> update<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-c line-numbers-mode" data-ext="c"><pre class="language-c"><code><span class="token comment">/*non-public*/</span> 
<span class="token keyword">static</span> Object <span class="token function">allocateInstance</span><span class="token punctuation">(</span>Object mh<span class="token punctuation">)</span> throws InstantiationException <span class="token punctuation">{</span>
    Constructor dmh <span class="token operator">=</span> <span class="token punctuation">(</span>Constructor<span class="token punctuation">)</span>mh<span class="token punctuation">;</span>
    <span class="token keyword">return</span> UNSAFE<span class="token punctuation">.</span><span class="token function">allocateInstance</span><span class="token punctuation">(</span>dmh<span class="token punctuation">.</span>instanceClass<span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">// @1-用到了unsafe</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><div class="language-java line-numbers-mode" data-ext="java"><pre class="language-java"><code><span class="token class-name">DirectByteBuffer</span><span class="token punctuation">(</span><span class="token keyword">int</span> cap<span class="token punctuation">)</span> <span class="token punctuation">{</span>                   <span class="token comment">// package-private</span>

    <span class="token keyword">super</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> cap<span class="token punctuation">,</span> cap<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">boolean</span> pa <span class="token operator">=</span> <span class="token constant">VM</span><span class="token punctuation">.</span><span class="token function">isDirectMemoryPageAligned</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> ps <span class="token operator">=</span> <span class="token class-name">Bits</span><span class="token punctuation">.</span><span class="token function">pageSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">long</span> size <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">1L</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">long</span><span class="token punctuation">)</span>cap <span class="token operator">+</span> <span class="token punctuation">(</span>pa <span class="token operator">?</span> ps <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">Bits</span><span class="token punctuation">.</span><span class="token function">reserveMemory</span><span class="token punctuation">(</span>size<span class="token punctuation">,</span> cap<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">long</span> base <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        base <span class="token operator">=</span> unsafe<span class="token punctuation">.</span><span class="token function">allocateMemory</span><span class="token punctuation">(</span>size<span class="token punctuation">)</span><span class="token punctuation">;</span>			<span class="token comment">// @1-用到了unsafe</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">OutOfMemoryError</span> x<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">Bits</span><span class="token punctuation">.</span><span class="token function">unreserveMemory</span><span class="token punctuation">(</span>size<span class="token punctuation">,</span> cap<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">throw</span> x<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    unsafe<span class="token punctuation">.</span><span class="token function">setMemory</span><span class="token punctuation">(</span>base<span class="token punctuation">,</span> size<span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token keyword">byte</span><span class="token punctuation">)</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>			<span class="token comment">// @2-用到了unsafe</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>pa <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>base <span class="token operator">%</span> ps <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token comment">// Round up to page boundary</span>
        address <span class="token operator">=</span> base <span class="token operator">+</span> ps <span class="token operator">-</span> <span class="token punctuation">(</span>base <span class="token operator">&amp;</span> <span class="token punctuation">(</span>ps <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
        address <span class="token operator">=</span> base<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    cleaner <span class="token operator">=</span> <span class="token class-name">Cleaner</span><span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">Deallocator</span><span class="token punctuation">(</span>base<span class="token punctuation">,</span> size<span class="token punctuation">,</span> cap<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    att <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><ul><li>6010-LockSupport 类及其相关实现</li></ul><blockquote><ol><li></li></ol></blockquote><figure><img src="`+O+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><ul><li>为什么LockSupport也是核心基础类? AQS框架借助于两个类：Unsafe(提供CAS操作)和LockSupport(提供park/unpark操作)</li><li>写出分别通过wait/notify和LockSupport的park/unpark实现同步?</li><li>LockSupport.park()会释放锁资源吗? 那么Condition.await()呢?</li><li>Thread.sleep()、Object.wait()、Condition.await()、LockSupport.park()的区别? 重点</li><li>如果在wait()之前执行了notify()会怎样?</li><li>如果在park()之前执行了unpark()会怎样</li></ul><hr>',19),pn={href:"https://pdai.tech/md/java/thread/java-thread-x-lock-LockSupport.html",target:"_blank",rel:"noopener noreferrer"},on=p('<figure><img src="'+j+'" alt="1726179311556" tabindex="0" loading="lazy"><figcaption>1726179311556</figcaption></figure><ul><li>7010-AQS</li></ul><blockquote></blockquote><blockquote><p>模板方法概述</p><ul><li>场景： 在一些业务场景的实现过程中，可能需要很多个步骤，但是针对某些特定的场景时，部分子步骤并不相同，除此意外，其他剩余步骤都相同，这样的业务场景中，我们就可以使用模板方法的设计模式。</li><li>实现思路： <ul><li>提供一个抽象类，这个抽象类中包含完成整个业务需求的所有步骤，并且实现了通用的业务步骤，不通用的业务步骤只有声明没有头实现；</li><li>子类继承抽象类，然后实现独属于自己的业务步骤；</li><li>在客户端只需要调用抽象类的公共步骤即可完成业务需求；</li><li>扩展时也只需要继承抽象类，实现独属于自己的业务步骤即可；</li></ul></li></ul></blockquote><ol><li><p>我们知道线程的本质实际上就是<strong>一组代码片段</strong>和<strong>一些变量</strong>的组合。而 Java 中实现线程事实上是通过 JNI 技术调用底层操作系统指令完成的，因此在多线程的应用场景中，<strong>早期版本的 Java 并不是很易用</strong>，甚至可以说“<strong>早期 Java 中使用线程的过程是复杂的</strong>”。</p></li><li><p>Java1.5 提供了** AQS <strong>和</strong>一系列基于 AQS 的扩展实现**一举解决了“<strong>早期 Java 中使用线程的过程是复杂的</strong>”——这一个重大问题。</p></li><li><p>AQS 指的是： java.util.concurrent.locks.AbstractQueuedSynchronizer 类。很多资料中说 AQS 是一个用来构造锁和同步器的框架，这是不严谨的，事实上 AQS 是 JDK 基于“模板方法”设计模式实现的一个“抽象类”。实际的业务场景中，我们并不会直接使用这个类，大多数情况下，我们<strong>使用的都是基于它的扩展实现</strong>，这些扩展实现包括**： ReentrantReadWriteLock、SynchronousQueue、FutureTask、Semaphore、CountDownLatch、 CyclicBarrier、ReadWriteLock** 等。</p></li><li><p>但是我们要先了解 AQS 的实现思想和实现原理，只有这样，才能更好的理解基于它的扩展实现。</p></li><li><p>首先来说，AQS 解决了什么问题。AQS 解决了：Java 早期版本中，在实现多线程访问共享资源的业务场景中，实现过程过于复杂的问题。作用： 让原本杂乱无章的多线程迅速完成排队过程，从而实现同步访问共享变量的过程。</p></li><li><p>AQS 解决上面这个问题的主要思路就是：设计一个 AQS 抽象类并基于这个抽象类扩展出一些不同的实现，这样一来，Java 程序员就可以通过使用基于 AQS 的扩展实现，就让“多线程访问共享资源”的业务场景变得很简单易用。</p></li><li><p>AQS 的核心思想：</p><ol><li>使用一个 volatile int state 变量来标识同步状态；</li><li>使用 CLH(Craig,Landin,and Hagersten)队列 来保存未获得访问共享资源权限的阻塞线程；</li><li>如果被请求的共享资源空闲，则将当前请求资源的线程设置为有效的工作线程，并且将共享资源设置为锁定状态。如果被请求的共享资源被占用，那么就需要一套线程阻塞等待以及被唤醒时锁分配的机制，这个机制AQS是用CLH队列锁实现的，即将暂时获取不到锁的线程加入到队列中。</li></ol></li><li><p>AQS 提供了几个重要方法： 1.</p></li><li><p>然后基于这些方法，我们可以做什么？</p><ol><li>公平锁</li><li>非公平锁</li></ol></li><li><p>再之后就是： JDK 帮我们实现的同步器：</p></li></ol><p>JUC 包</p><figure><img src="'+R+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><figure><img src="'+C+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><figure><img src="'+U+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><h3 id="aqs" tabindex="-1"><a class="header-anchor" href="#aqs" aria-hidden="true">#</a> AQS</h3><ol><li>模板方法设计模式</li><li>AQS 中的 state 和 CLH</li><li>ReentrantLock 的分析</li><li>使用示例</li></ol>',11),tn={href:"https://www.yuque.com/zeanzai.me/nox53r/aatc8bi275r2a3z8",target:"_blank",rel:"noopener noreferrer"},ln=p(`<div class="language-c line-numbers-mode" data-ext="c"><pre class="language-c"><code>Provides a framework <span class="token keyword">for</span> implementing blocking locks and related <span class="token function">synchronizers</span> <span class="token punctuation">(</span>semaphores<span class="token punctuation">,</span> events<span class="token punctuation">,</span> etc<span class="token punctuation">)</span> that rely on first<span class="token operator">-</span>in<span class="token operator">-</span>first<span class="token operator">-</span><span class="token function">out</span> <span class="token punctuation">(</span>FIFO<span class="token punctuation">)</span> wait queues<span class="token punctuation">.</span> This class is designed to be a useful basis <span class="token keyword">for</span> most kinds of synchronizers that rely on a single atomic <span class="token keyword">int</span> value to represent state<span class="token punctuation">.</span> Subclasses must define the protected methods that change this state<span class="token punctuation">,</span> and which define what that state means in terms of this object being acquired or released<span class="token punctuation">.</span> Given these<span class="token punctuation">,</span> the other methods in this class carry out all queuing and blocking mechanics<span class="token punctuation">.</span> Subclasses can maintain other state fields<span class="token punctuation">,</span> but only the atomically updated <span class="token keyword">int</span> value manipulated using methods <span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">setState</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> and <span class="token function">compareAndSetState</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span> is tracked with respect to synchronization<span class="token punctuation">.</span>
提供一个框架，用于实现依赖先进先出（FIFO）等待队列的阻塞锁和相关同步器（信号量、事件等）。此类被设计为大多数类型的同步器的有用基础，这些同步器依赖于单个原子<span class="token keyword">int</span>值来表示状态。子类必须定义更改该状态的受保护方法，以及定义该状态在获取或释放该对象方面的含义。给定这些，类中的其他方法执行所有排队和阻塞机制。子类可以维护其他状态字段，但只有使用方法getState（）、setState（<span class="token keyword">int</span>）和compareAndSetState（<span class="token keyword">int</span>，<span class="token keyword">int</span>）操作的原子更新的<span class="token keyword">int</span>值才会相对于同步进行跟踪。

Subclasses should be defined as non<span class="token operator">-</span>public internal helper classes that are used to implement the synchronization properties of their enclosing class<span class="token punctuation">.</span> Class AbstractQueuedSynchronizer does not implement any synchronization interface<span class="token punctuation">.</span> Instead it defines methods such as <span class="token function">acquireInterruptibly</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> that can be invoked as appropriate by concrete locks and related synchronizers to implement their public methods<span class="token punctuation">.</span>
子类应定义为非公共内部帮助类，用于实现其封闭类的同步属性。类AbstractQueuedSynchronizer不实现任何同步接口。相反，它定义了诸如AcquisibleInterruptible（<span class="token keyword">int</span>）之类的方法，具体锁和相关同步器可以适当地调用这些方法来实现它们的公共方法。

This class supports either or both a <span class="token keyword">default</span> exclusive mode and a shared mode<span class="token punctuation">.</span> When acquired in exclusive mode<span class="token punctuation">,</span> attempted acquires by other threads cannot succeed<span class="token punctuation">.</span> Shared mode acquires by multiple threads <span class="token function">may</span> <span class="token punctuation">(</span>but need not<span class="token punctuation">)</span> succeed<span class="token punctuation">.</span> This class does not <span class="token string">&quot;understand&quot;</span> these differences except in the mechanical sense that when a shared mode acquire succeeds<span class="token punctuation">,</span> the next waiting <span class="token function">thread</span> <span class="token punctuation">(</span><span class="token keyword">if</span> one exists<span class="token punctuation">)</span> must also determine whether it can acquire as well<span class="token punctuation">.</span> Threads waiting in the different modes share the same FIFO queue<span class="token punctuation">.</span> Usually<span class="token punctuation">,</span> implementation subclasses support only one of these modes<span class="token punctuation">,</span> but both can come into play <span class="token keyword">for</span> example in a ReadWriteLock<span class="token punctuation">.</span> Subclasses that support only exclusive or only shared modes need not define the methods supporting the unused mode<span class="token punctuation">.</span>
此类支持默认的独占模式和共享模式之一或两者。在独占模式下获取时，其他线程尝试的获取无法成功。多个线程获取共享模式可能（但不一定）成功。这个类不“理解”这些差异，除了在机械意义上，当共享模式获取成功时，下一个等待线程（如果存在）也必须确定它是否也可以获取。在不同模式中等待的线程共享相同的FIFO队列。通常，实现子类只支持其中一种模式，但两者都可以发挥作用，例如在ReadWriteLock中。仅支持独占模式或仅支持共享模式的子类不需要定义支持未使用模式的方法。

This class defines a nested AbstractQueuedSynchronizer<span class="token punctuation">.</span>ConditionObject class that can be used as a Condition implementation by subclasses supporting exclusive mode <span class="token keyword">for</span> which method <span class="token function">isHeldExclusively</span><span class="token punctuation">(</span><span class="token punctuation">)</span> reports whether synchronization is exclusively held with respect to the current thread<span class="token punctuation">,</span> method <span class="token function">release</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span> invoked with the current <span class="token function">getState</span><span class="token punctuation">(</span><span class="token punctuation">)</span> value fully releases this object<span class="token punctuation">,</span> and <span class="token function">acquire</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">,</span> given this saved state value<span class="token punctuation">,</span> eventually restores this object to its previous acquired state<span class="token punctuation">.</span> No AbstractQueuedSynchronizer method otherwise creates such a condition<span class="token punctuation">,</span> so <span class="token keyword">if</span> this constraint cannot be met<span class="token punctuation">,</span> <span class="token keyword">do</span> not use it<span class="token punctuation">.</span> The behavior of AbstractQueuedSynchronizer<span class="token punctuation">.</span>ConditionObject depends of course on the semantics of its synchronizer implementation<span class="token punctuation">.</span>
这个类定义了一个嵌套的AbstractQueuedSynchronizer。ConditionObject类，可由支持独占模式的子类用作Condition实现，方法isHeldExclusively（）报告同步是否相对于当前线程独占，用当前getState（）值调用的方法release（<span class="token keyword">int</span>）完全释放此对象，并在给定此保存的状态值的情况下获取（<span class="token keyword">int</span>），最终将该对象恢复到其先前获取的状态。没有AbstractQueuedSynchronizer方法会创建这样的条件，所以如果不能满足这个约束，就不要使用它。ConditionObject当然取决于其同步器实现的语义。

This class provides inspection<span class="token punctuation">,</span> instrumentation<span class="token punctuation">,</span> and monitoring methods <span class="token keyword">for</span> the internal queue<span class="token punctuation">,</span> as well as similar methods <span class="token keyword">for</span> condition objects<span class="token punctuation">.</span> These can be exported as desired into classes using an AbstractQueuedSynchronizer <span class="token keyword">for</span> their synchronization mechanics<span class="token punctuation">.</span>
此类提供内部队列的检查、检测和监视方法，以及条件对象的类似方法。可以根据需要使用AbstractQueuedSynchronizer将它们导出到类中，以实现它们的同步机制。

Serialization of this class stores only the underlying atomic integer maintaining state<span class="token punctuation">,</span> so deserialized objects have empty thread queues<span class="token punctuation">.</span> Typical subclasses requiring serializability will define a readObject method that restores this to a known initial state upon deserialization<span class="token punctuation">.</span>
此类的序列化只存储底层的原子整数维护状态，因此反序列化的对象具有空线程队列。需要可序列化性的典型子类将定义一个readObject方法，该方法在反序列化时将其恢复到已知的初始状态。

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="aqs-内部类" tabindex="-1"><a class="header-anchor" href="#aqs-内部类" aria-hidden="true">#</a> AQS 内部类</h3><p><img src="`+M+`" alt="" loading="lazy"> AbstractQueuedSynchronizer类底层的数据结构是使用CLH(Craig,Landin,and Hagersten)队列是一个虚拟的双向队列(虚拟的双向队列即不存在队列实例，仅存在结点之间的关联关系)。AQS是将每条请求共享资源的线程封装成一个CLH锁队列的一个结点(Node)来实现锁的分配。其中Sync queue，即同步队列，是双向链表，包括head结点和tail结点，head结点主要用作后续的调度。而Condition queue不是必须的，其是一个单向链表，只有当使用Condition时，才会存在此单向链表。并且可能会有多个Condition queue。</p><h4 id="node" tabindex="-1"><a class="header-anchor" href="#node" aria-hidden="true">#</a> Node</h4><div class="language-c line-numbers-mode" data-ext="c"><pre class="language-c"><code><span class="token keyword">static</span> final class Node <span class="token punctuation">{</span>
    <span class="token keyword">static</span> final Node SHARED <span class="token operator">=</span> new <span class="token function">Node</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">static</span> final Node EXCLUSIVE <span class="token operator">=</span> null<span class="token punctuation">;</span>
    <span class="token keyword">static</span> final <span class="token keyword">int</span> CANCELLED <span class="token operator">=</span>  <span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">static</span> final <span class="token keyword">int</span> SIGNAL    <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
    <span class="token keyword">static</span> final <span class="token keyword">int</span> CONDITION <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">static</span> final <span class="token keyword">int</span> PROPAGATE <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">3</span><span class="token punctuation">;</span>

    <span class="token keyword">volatile</span> <span class="token keyword">int</span> waitStatus<span class="token punctuation">;</span>    
    <span class="token keyword">volatile</span> Node prev<span class="token punctuation">;</span>    
    <span class="token keyword">volatile</span> Node next<span class="token punctuation">;</span>    
    <span class="token keyword">volatile</span> Thread thread<span class="token punctuation">;</span>    
    Node nextWaiter<span class="token punctuation">;</span>    
    
    final boolean <span class="token function">isShared</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> nextWaiter <span class="token operator">==</span> SHARED<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    
    final Node <span class="token function">predecessor</span><span class="token punctuation">(</span><span class="token punctuation">)</span> throws NullPointerException <span class="token punctuation">{</span>
        Node p <span class="token operator">=</span> prev<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token operator">==</span> null<span class="token punctuation">)</span>
            throw new <span class="token function">NullPointerException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            <span class="token keyword">return</span> p<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">Node</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>    <span class="token comment">// Used to establish initial head or SHARED marker</span>
    <span class="token punctuation">}</span>

    <span class="token function">Node</span><span class="token punctuation">(</span>Thread thread<span class="token punctuation">,</span> Node mode<span class="token punctuation">)</span> <span class="token punctuation">{</span>     <span class="token comment">// Used by addWaiter</span>
        this<span class="token punctuation">.</span>nextWaiter <span class="token operator">=</span> mode<span class="token punctuation">;</span>
        this<span class="token punctuation">.</span>thread <span class="token operator">=</span> thread<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token function">Node</span><span class="token punctuation">(</span>Thread thread<span class="token punctuation">,</span> <span class="token keyword">int</span> waitStatus<span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// Used by Condition</span>
        this<span class="token punctuation">.</span>waitStatus <span class="token operator">=</span> waitStatus<span class="token punctuation">;</span>
        this<span class="token punctuation">.</span>thread <span class="token operator">=</span> thread<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p><img src="`+y+`" alt="image.png" loading="lazy"> 需要注意的是：</p><ol><li>这个内部类是一个虚拟双向链表（虚拟是指不存在实际的链表的对象实例，只存在链表节点之间的关系）；</li><li>在 AQS 中并没有对这个虚拟链表的初始化方法，它的初始化过程延迟到</li><li>主要用来构造同步队列，是双向链表，包括head结点和tail结点，head结点主要用作后续的调度</li></ol><h4 id="conditionobject" tabindex="-1"><a class="header-anchor" href="#conditionobject" aria-hidden="true">#</a> ConditionObject</h4><div class="language-c line-numbers-mode" data-ext="c"><pre class="language-c"><code>public class ConditionObject implements Condition<span class="token punctuation">,</span> java<span class="token punctuation">.</span>io<span class="token punctuation">.</span>Serializable <span class="token punctuation">{</span>
    private <span class="token keyword">static</span> final <span class="token keyword">long</span> serialVersionUID <span class="token operator">=</span> <span class="token number">1173984872572414699L</span><span class="token punctuation">;</span>
    private transient Node firstWaiter<span class="token punctuation">;</span>
    private transient Node lastWaiter<span class="token punctuation">;</span>

    public <span class="token function">ConditionObject</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>

    private Node <span class="token function">addConditionWaiter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Node t <span class="token operator">=</span> lastWaiter<span class="token punctuation">;</span>
        <span class="token comment">// If lastWaiter is cancelled, clean out.</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">!=</span> null <span class="token operator">&amp;&amp;</span> t<span class="token punctuation">.</span>waitStatus <span class="token operator">!=</span> Node<span class="token punctuation">.</span>CONDITION<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token function">unlinkCancelledWaiters</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            t <span class="token operator">=</span> lastWaiter<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        Node node <span class="token operator">=</span> new <span class="token function">Node</span><span class="token punctuation">(</span>Thread<span class="token punctuation">.</span><span class="token function">currentThread</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> Node<span class="token punctuation">.</span>CONDITION<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">==</span> null<span class="token punctuation">)</span>
            firstWaiter <span class="token operator">=</span> node<span class="token punctuation">;</span>
        <span class="token keyword">else</span>
            t<span class="token punctuation">.</span>nextWaiter <span class="token operator">=</span> node<span class="token punctuation">;</span>
        lastWaiter <span class="token operator">=</span> node<span class="token punctuation">;</span>
        <span class="token keyword">return</span> node<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    private <span class="token keyword">void</span> <span class="token function">doSignal</span><span class="token punctuation">(</span>Node first<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">do</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>firstWaiter <span class="token operator">=</span> first<span class="token punctuation">.</span>nextWaiter<span class="token punctuation">)</span> <span class="token operator">==</span> null<span class="token punctuation">)</span>
                lastWaiter <span class="token operator">=</span> null<span class="token punctuation">;</span>
            first<span class="token punctuation">.</span>nextWaiter <span class="token operator">=</span> null<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">transferForSignal</span><span class="token punctuation">(</span>first<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
                 <span class="token punctuation">(</span>first <span class="token operator">=</span> firstWaiter<span class="token punctuation">)</span> <span class="token operator">!=</span> null<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    private <span class="token keyword">void</span> <span class="token function">doSignalAll</span><span class="token punctuation">(</span>Node first<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        lastWaiter <span class="token operator">=</span> firstWaiter <span class="token operator">=</span> null<span class="token punctuation">;</span>
        <span class="token keyword">do</span> <span class="token punctuation">{</span>
            Node next <span class="token operator">=</span> first<span class="token punctuation">.</span>nextWaiter<span class="token punctuation">;</span>
            first<span class="token punctuation">.</span>nextWaiter <span class="token operator">=</span> null<span class="token punctuation">;</span>
            <span class="token function">transferForSignal</span><span class="token punctuation">(</span>first<span class="token punctuation">)</span><span class="token punctuation">;</span>
            first <span class="token operator">=</span> next<span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>first <span class="token operator">!=</span> null<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    private <span class="token keyword">void</span> <span class="token function">unlinkCancelledWaiters</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Node t <span class="token operator">=</span> firstWaiter<span class="token punctuation">;</span>
        Node trail <span class="token operator">=</span> null<span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>t <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            Node next <span class="token operator">=</span> t<span class="token punctuation">.</span>nextWaiter<span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span>waitStatus <span class="token operator">!=</span> Node<span class="token punctuation">.</span>CONDITION<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                t<span class="token punctuation">.</span>nextWaiter <span class="token operator">=</span> null<span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>trail <span class="token operator">==</span> null<span class="token punctuation">)</span>
                    firstWaiter <span class="token operator">=</span> next<span class="token punctuation">;</span>
                <span class="token keyword">else</span>
                    trail<span class="token punctuation">.</span>nextWaiter <span class="token operator">=</span> next<span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>next <span class="token operator">==</span> null<span class="token punctuation">)</span>
                    lastWaiter <span class="token operator">=</span> trail<span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">else</span>
                trail <span class="token operator">=</span> t<span class="token punctuation">;</span>
            t <span class="token operator">=</span> next<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    public final <span class="token keyword">void</span> <span class="token function">signal</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isHeldExclusively</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            throw new <span class="token function">IllegalMonitorStateException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Node first <span class="token operator">=</span> firstWaiter<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>first <span class="token operator">!=</span> null<span class="token punctuation">)</span>
            <span class="token function">doSignal</span><span class="token punctuation">(</span>first<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    public final <span class="token keyword">void</span> <span class="token function">signalAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isHeldExclusively</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            throw new <span class="token function">IllegalMonitorStateException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Node first <span class="token operator">=</span> firstWaiter<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>first <span class="token operator">!=</span> null<span class="token punctuation">)</span>
            <span class="token function">doSignalAll</span><span class="token punctuation">(</span>first<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    public final <span class="token keyword">void</span> <span class="token function">awaitUninterruptibly</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        Node node <span class="token operator">=</span> <span class="token function">addConditionWaiter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> savedState <span class="token operator">=</span> <span class="token function">fullyRelease</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
        boolean interrupted <span class="token operator">=</span> false<span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isOnSyncQueue</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            LockSupport<span class="token punctuation">.</span><span class="token function">park</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>Thread<span class="token punctuation">.</span><span class="token function">interrupted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                interrupted <span class="token operator">=</span> true<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">acquireQueued</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> savedState<span class="token punctuation">)</span> <span class="token operator">||</span> interrupted<span class="token punctuation">)</span>
            <span class="token function">selfInterrupt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    private <span class="token keyword">static</span> final <span class="token keyword">int</span> REINTERRUPT <span class="token operator">=</span>  <span class="token number">1</span><span class="token punctuation">;</span>
    private <span class="token keyword">static</span> final <span class="token keyword">int</span> THROW_IE    <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>

    private <span class="token keyword">int</span> <span class="token function">checkInterruptWhileWaiting</span><span class="token punctuation">(</span>Node node<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> Thread<span class="token punctuation">.</span><span class="token function">interrupted</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span>
            <span class="token punctuation">(</span><span class="token function">transferAfterCancelledWait</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span> <span class="token operator">?</span> THROW_IE <span class="token operator">:</span> REINTERRUPT<span class="token punctuation">)</span> <span class="token operator">:</span>
            <span class="token number">0</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    private <span class="token keyword">void</span> <span class="token function">reportInterruptAfterWait</span><span class="token punctuation">(</span><span class="token keyword">int</span> interruptMode<span class="token punctuation">)</span>
        throws InterruptedException <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>interruptMode <span class="token operator">==</span> THROW_IE<span class="token punctuation">)</span>
            throw new <span class="token function">InterruptedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>interruptMode <span class="token operator">==</span> REINTERRUPT<span class="token punctuation">)</span>
            <span class="token function">selfInterrupt</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    public final <span class="token keyword">void</span> <span class="token function">await</span><span class="token punctuation">(</span><span class="token punctuation">)</span> throws InterruptedException <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>Thread<span class="token punctuation">.</span><span class="token function">interrupted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            throw new <span class="token function">InterruptedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Node node <span class="token operator">=</span> <span class="token function">addConditionWaiter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> savedState <span class="token operator">=</span> <span class="token function">fullyRelease</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> interruptMode <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isOnSyncQueue</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            LockSupport<span class="token punctuation">.</span><span class="token function">park</span><span class="token punctuation">(</span>this<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>interruptMode <span class="token operator">=</span> <span class="token function">checkInterruptWhileWaiting</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">acquireQueued</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> savedState<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> interruptMode <span class="token operator">!=</span> THROW_IE<span class="token punctuation">)</span>
            interruptMode <span class="token operator">=</span> REINTERRUPT<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>nextWaiter <span class="token operator">!=</span> null<span class="token punctuation">)</span> <span class="token comment">// clean up if cancelled</span>
            <span class="token function">unlinkCancelledWaiters</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>interruptMode <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token function">reportInterruptAfterWait</span><span class="token punctuation">(</span>interruptMode<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    public final <span class="token keyword">long</span> <span class="token function">awaitNanos</span><span class="token punctuation">(</span><span class="token keyword">long</span> nanosTimeout<span class="token punctuation">)</span>
            throws InterruptedException <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>Thread<span class="token punctuation">.</span><span class="token function">interrupted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            throw new <span class="token function">InterruptedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Node node <span class="token operator">=</span> <span class="token function">addConditionWaiter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> savedState <span class="token operator">=</span> <span class="token function">fullyRelease</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
        final <span class="token keyword">long</span> deadline <span class="token operator">=</span> System<span class="token punctuation">.</span><span class="token function">nanoTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> nanosTimeout<span class="token punctuation">;</span>
        <span class="token keyword">int</span> interruptMode <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isOnSyncQueue</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>nanosTimeout <span class="token operator">&lt;=</span> <span class="token number">0L</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                <span class="token function">transferAfterCancelledWait</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>nanosTimeout <span class="token operator">&gt;=</span> spinForTimeoutThreshold<span class="token punctuation">)</span>
                LockSupport<span class="token punctuation">.</span><span class="token function">parkNanos</span><span class="token punctuation">(</span>this<span class="token punctuation">,</span> nanosTimeout<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>interruptMode <span class="token operator">=</span> <span class="token function">checkInterruptWhileWaiting</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            nanosTimeout <span class="token operator">=</span> deadline <span class="token operator">-</span> System<span class="token punctuation">.</span><span class="token function">nanoTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">acquireQueued</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> savedState<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> interruptMode <span class="token operator">!=</span> THROW_IE<span class="token punctuation">)</span>
            interruptMode <span class="token operator">=</span> REINTERRUPT<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>nextWaiter <span class="token operator">!=</span> null<span class="token punctuation">)</span>
            <span class="token function">unlinkCancelledWaiters</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>interruptMode <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token function">reportInterruptAfterWait</span><span class="token punctuation">(</span>interruptMode<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> deadline <span class="token operator">-</span> System<span class="token punctuation">.</span><span class="token function">nanoTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    public final boolean <span class="token function">awaitUntil</span><span class="token punctuation">(</span>Date deadline<span class="token punctuation">)</span>
            throws InterruptedException <span class="token punctuation">{</span>
        <span class="token keyword">long</span> abstime <span class="token operator">=</span> deadline<span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>Thread<span class="token punctuation">.</span><span class="token function">interrupted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            throw new <span class="token function">InterruptedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Node node <span class="token operator">=</span> <span class="token function">addConditionWaiter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> savedState <span class="token operator">=</span> <span class="token function">fullyRelease</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
        boolean timedout <span class="token operator">=</span> false<span class="token punctuation">;</span>
        <span class="token keyword">int</span> interruptMode <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isOnSyncQueue</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>System<span class="token punctuation">.</span><span class="token function">currentTimeMillis</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> abstime<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                timedout <span class="token operator">=</span> <span class="token function">transferAfterCancelledWait</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            LockSupport<span class="token punctuation">.</span><span class="token function">parkUntil</span><span class="token punctuation">(</span>this<span class="token punctuation">,</span> abstime<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>interruptMode <span class="token operator">=</span> <span class="token function">checkInterruptWhileWaiting</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">acquireQueued</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> savedState<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> interruptMode <span class="token operator">!=</span> THROW_IE<span class="token punctuation">)</span>
            interruptMode <span class="token operator">=</span> REINTERRUPT<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>nextWaiter <span class="token operator">!=</span> null<span class="token punctuation">)</span>
            <span class="token function">unlinkCancelledWaiters</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>interruptMode <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token function">reportInterruptAfterWait</span><span class="token punctuation">(</span>interruptMode<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">!</span>timedout<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    public final boolean <span class="token function">await</span><span class="token punctuation">(</span><span class="token keyword">long</span> time<span class="token punctuation">,</span> TimeUnit unit<span class="token punctuation">)</span>
            throws InterruptedException <span class="token punctuation">{</span>
        <span class="token keyword">long</span> nanosTimeout <span class="token operator">=</span> unit<span class="token punctuation">.</span><span class="token function">toNanos</span><span class="token punctuation">(</span>time<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>Thread<span class="token punctuation">.</span><span class="token function">interrupted</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            throw new <span class="token function">InterruptedException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        Node node <span class="token operator">=</span> <span class="token function">addConditionWaiter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> savedState <span class="token operator">=</span> <span class="token function">fullyRelease</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
        final <span class="token keyword">long</span> deadline <span class="token operator">=</span> System<span class="token punctuation">.</span><span class="token function">nanoTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> nanosTimeout<span class="token punctuation">;</span>
        boolean timedout <span class="token operator">=</span> false<span class="token punctuation">;</span>
        <span class="token keyword">int</span> interruptMode <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isOnSyncQueue</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>nanosTimeout <span class="token operator">&lt;=</span> <span class="token number">0L</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
                timedout <span class="token operator">=</span> <span class="token function">transferAfterCancelledWait</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>nanosTimeout <span class="token operator">&gt;=</span> spinForTimeoutThreshold<span class="token punctuation">)</span>
                LockSupport<span class="token punctuation">.</span><span class="token function">parkNanos</span><span class="token punctuation">(</span>this<span class="token punctuation">,</span> nanosTimeout<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>interruptMode <span class="token operator">=</span> <span class="token function">checkInterruptWhileWaiting</span><span class="token punctuation">(</span>node<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
                <span class="token keyword">break</span><span class="token punctuation">;</span>
            nanosTimeout <span class="token operator">=</span> deadline <span class="token operator">-</span> System<span class="token punctuation">.</span><span class="token function">nanoTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">acquireQueued</span><span class="token punctuation">(</span>node<span class="token punctuation">,</span> savedState<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> interruptMode <span class="token operator">!=</span> THROW_IE<span class="token punctuation">)</span>
            interruptMode <span class="token operator">=</span> REINTERRUPT<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>node<span class="token punctuation">.</span>nextWaiter <span class="token operator">!=</span> null<span class="token punctuation">)</span>
            <span class="token function">unlinkCancelledWaiters</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>interruptMode <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span>
            <span class="token function">reportInterruptAfterWait</span><span class="token punctuation">(</span>interruptMode<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token operator">!</span>timedout<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    final boolean <span class="token function">isOwnedBy</span><span class="token punctuation">(</span>AbstractQueuedSynchronizer sync<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> sync <span class="token operator">==</span> AbstractQueuedSynchronizer<span class="token punctuation">.</span>this<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    protected final boolean <span class="token function">hasWaiters</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isHeldExclusively</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            throw new <span class="token function">IllegalMonitorStateException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>Node w <span class="token operator">=</span> firstWaiter<span class="token punctuation">;</span> w <span class="token operator">!=</span> null<span class="token punctuation">;</span> w <span class="token operator">=</span> w<span class="token punctuation">.</span>nextWaiter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>w<span class="token punctuation">.</span>waitStatus <span class="token operator">==</span> Node<span class="token punctuation">.</span>CONDITION<span class="token punctuation">)</span>
                <span class="token keyword">return</span> true<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> false<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    protected final <span class="token keyword">int</span> <span class="token function">getWaitQueueLength</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isHeldExclusively</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            throw new <span class="token function">IllegalMonitorStateException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> n <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>Node w <span class="token operator">=</span> firstWaiter<span class="token punctuation">;</span> w <span class="token operator">!=</span> null<span class="token punctuation">;</span> w <span class="token operator">=</span> w<span class="token punctuation">.</span>nextWaiter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>w<span class="token punctuation">.</span>waitStatus <span class="token operator">==</span> Node<span class="token punctuation">.</span>CONDITION<span class="token punctuation">)</span>
                <span class="token operator">++</span>n<span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> n<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>


    protected final Collection<span class="token operator">&lt;</span>Thread<span class="token operator">&gt;</span> <span class="token function">getWaitingThreads</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isHeldExclusively</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
            throw new <span class="token function">IllegalMonitorStateException</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        ArrayList<span class="token operator">&lt;</span>Thread<span class="token operator">&gt;</span> list <span class="token operator">=</span> new ArrayList<span class="token operator">&lt;</span>Thread<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">for</span> <span class="token punctuation">(</span>Node w <span class="token operator">=</span> firstWaiter<span class="token punctuation">;</span> w <span class="token operator">!=</span> null<span class="token punctuation">;</span> w <span class="token operator">=</span> w<span class="token punctuation">.</span>nextWaiter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>w<span class="token punctuation">.</span>waitStatus <span class="token operator">==</span> Node<span class="token punctuation">.</span>CONDITION<span class="token punctuation">)</span> <span class="token punctuation">{</span>
                Thread t <span class="token operator">=</span> w<span class="token punctuation">.</span>thread<span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>t <span class="token operator">!=</span> null<span class="token punctuation">)</span>
                    list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
        <span class="token keyword">return</span> list<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="aqs-初始化" tabindex="-1"><a class="header-anchor" href="#aqs-初始化" aria-hidden="true">#</a> AQS 初始化</h3><ul><li>利用初始化机制搞定属性的设置</li></ul><div class="language-c line-numbers-mode" data-ext="c"><pre class="language-c"><code><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
private <span class="token keyword">static</span> final Unsafe unsafe <span class="token operator">=</span> Unsafe<span class="token punctuation">.</span><span class="token function">getUnsafe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
private <span class="token keyword">static</span> final <span class="token keyword">long</span> stateOffset<span class="token punctuation">;</span>
private <span class="token keyword">static</span> final <span class="token keyword">long</span> headOffset<span class="token punctuation">;</span>
private <span class="token keyword">static</span> final <span class="token keyword">long</span> tailOffset<span class="token punctuation">;</span>
private <span class="token keyword">static</span> final <span class="token keyword">long</span> waitStatusOffset<span class="token punctuation">;</span>
private <span class="token keyword">static</span> final <span class="token keyword">long</span> nextOffset<span class="token punctuation">;</span>

<span class="token keyword">static</span> <span class="token punctuation">{</span>
    try <span class="token punctuation">{</span>
        stateOffset <span class="token operator">=</span> unsafe<span class="token punctuation">.</span><span class="token function">objectFieldOffset</span>
            <span class="token punctuation">(</span>AbstractQueuedSynchronizer<span class="token punctuation">.</span>class<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">&quot;state&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        headOffset <span class="token operator">=</span> unsafe<span class="token punctuation">.</span><span class="token function">objectFieldOffset</span>
            <span class="token punctuation">(</span>AbstractQueuedSynchronizer<span class="token punctuation">.</span>class<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">&quot;head&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        tailOffset <span class="token operator">=</span> unsafe<span class="token punctuation">.</span><span class="token function">objectFieldOffset</span>
            <span class="token punctuation">(</span>AbstractQueuedSynchronizer<span class="token punctuation">.</span>class<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">&quot;tail&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        waitStatusOffset <span class="token operator">=</span> unsafe<span class="token punctuation">.</span><span class="token function">objectFieldOffset</span>
            <span class="token punctuation">(</span>Node<span class="token punctuation">.</span>class<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">&quot;waitStatus&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        nextOffset <span class="token operator">=</span> unsafe<span class="token punctuation">.</span><span class="token function">objectFieldOffset</span>
            <span class="token punctuation">(</span>Node<span class="token punctuation">.</span>class<span class="token punctuation">.</span><span class="token function">getDeclaredField</span><span class="token punctuation">(</span><span class="token string">&quot;next&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token punctuation">}</span> <span class="token function">catch</span> <span class="token punctuation">(</span>Exception ex<span class="token punctuation">)</span> <span class="token punctuation">{</span> throw new <span class="token function">Error</span><span class="token punctuation">(</span>ex<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="aqs-的方法" tabindex="-1"><a class="header-anchor" href="#aqs-的方法" aria-hidden="true">#</a> AQS 的方法</h3><p>先来看一下 AQS 类的结构：</p><figure><img src="`+w+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><ol><li>只提供操作 state 变量和 CLH 队列的基本方法；</li><li>根据具体的需求，把对 state 变量和 CLH 队列的部分操作方法延迟到子类中实现；</li></ol><p>我们发现 AQS 中有两个内部类：</p><ol><li>Node： CLH 队列</li><li>ConditionObject</li></ol><p>有大量的 public final 标识的方法； 也有几个 protected 标识的方法；的方法大概分为两部分：</p><p>protected访问控制符</p><p>protected访问控制符是专门为继承打造的，protected可见性=default+对子类可见 （对自己的包可见和对其子类可见） 子类覆盖父类的方法，不可以用可见性更小的修饰符，但是可以用更高的修饰符（父类定义为protected，子类可以定义为protected或public）子类覆盖父类方法时，父类的引用指向子类的对象，此时引用是有权限调用子类的方法的，但是此时定义为private就会出错；</p><p>修饰符</p><p>final用在不同的地方有不同的作用，但是本质都很相似 final修饰类：不可被继承 final修饰方法：不能被子类覆盖 final修饰变量：不可被重新赋值 final修饰成员变量时必须要赋值，在声明或者构造函数里赋值，且只能赋值一次 final不能用来修饰构造方法 若果final定义了一个引用，则引用指向对象是固定了，不能指向其他对象，但是对象里的成员变量值是可以修改的</p>',23),cn={href:"https://jetbrains.design/intellij/resources/icons_list/",target:"_blank",rel:"noopener noreferrer"},rn=n("figure",null,[n("img",{src:D,alt:"image.png",tabindex:"0",loading:"lazy"}),n("figcaption",null,"image.png")],-1),un=n("ul",null,[n("li",null,"什么是AQS? 为什么它是核心?"),n("li",null,"AQS的核心思想是什么? 它是怎么实现的? 底层数据结构等"),n("li",null,"AQS有哪些核心的方法?"),n("li",null,"AQS定义什么样的资源获取方式? AQS定义了两种资源获取方式：独占(只有一个线程能访问执行，又根据是否按队列的顺序分为公平锁和非公平锁，如ReentrantLock) 和共享(多个线程可同时访问执行，如Semaphore、CountDownLatch、 CyclicBarrier )。ReentrantReadWriteLock可以看成是组合式，允许多个线程同时对某一资源进行读。"),n("li",null,"AQS底层使用了什么样的设计模式? 模板"),n("li",null,"AQS的应用示例?")],-1),dn=n("hr",null,null,-1),kn={href:"https://pdai.tech/md/java/thread/java-thread-x-lock-AbstractQueuedSynchronizer.html",target:"_blank",rel:"noopener noreferrer"},vn={href:"https://www.wolai.com/tvtGpAAntFBaN4xrTrEywQ",target:"_blank",rel:"noopener noreferrer"},mn=p('<ol><li>问题背景</li><li>怎么使用</li><li>基本原理</li><li>扩展使用</li></ol><p>JUC 包结构</p><figure><img src="'+x+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><figure><img src="'+V+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><figure><img src="'+B+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><figure><img src="'+F+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><figure><img src="'+P+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><figure><img src="'+K+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><figure><img src="'+_+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><figure><img src="'+J+'" alt="image.png" tabindex="0" loading="lazy"><figcaption>image.png</figcaption></figure><h2 id="参考-1" tabindex="-1"><a class="header-anchor" href="#参考-1" aria-hidden="true">#</a> 参考</h2>',11),bn={href:"https://mp.weixin.qq.com/s?__biz=MzkwODE5ODM0Ng==&mid=2247489245&idx=1&sn=bc52281ebc85372e19513d663beb2d2d&chksm=c0ccfe78f7bb776e2c6396fe26aca84d0cd96f407e6fe0bf6eb068aed638ba9491bce8fc5b4c&scene=178&cur_album_id=2041709347461709827#rd",target:"_blank",rel:"noopener noreferrer"},Ln={href:"https://pdai.tech/md/java/thread/java-thread-x-overview.html",target:"_blank",rel:"noopener noreferrer"},gn={href:"https://www.wolai.com/niwx3ZkfJnPXGa2J7sH5Xp",target:"_blank",rel:"noopener noreferrer"},En={href:"https://tech.meituan.com/2022/05/12/principles-and-practices-of-completablefuture.html",target:"_blank",rel:"noopener noreferrer"},An={href:"https://mp.weixin.qq.com/s/-2goNthdpK8KXLV5FrkCzg",target:"_blank",rel:"noopener noreferrer"},hn={href:"https://www.yuque.com/gongxi-wssld/csm31d/ip2ueru5itmgsgly",target:"_blank",rel:"noopener noreferrer"},Tn=p('<h2 id="另外一个大纲" tabindex="-1"><a class="header-anchor" href="#另外一个大纲" aria-hidden="true">#</a> 另外一个大纲</h2><ol><li>前置知识点 <ol><li>进程与线程 - 研究的背景</li><li>堆管存储、栈管运行 - 线程运行的基本原理</li><li>JMM - Java 中的并发编程要基于 JVM 来实现；</li><li>JNI - 为 Java 提供直接运行操作系统指令的方法；</li></ol></li><li>基础 <ol><li>Unsafe 方法解析</li><li>JVM 做的努力【关键字+happens-before 原则】</li><li>一个线程运行的基本原理</li></ol></li></ol><h3 id="面试题" tabindex="-1"><a class="header-anchor" href="#面试题" aria-hidden="true">#</a> 面试题</h3><ol><li>解释单发和并发、同步和异步、串行和并行、线程和进程、线程安全；</li><li>JMM 和并发三要素、Happens-Before 原则；</li><li>Java 中线程的生命周期及转化过程；</li><li>线程的创建方式有哪些？它们的区别？</li><li></li></ol>',4);function Nn(In,fn){const a=c("ExternalLinkIcon");return t(),l("div",null,[W,n("p",null,[n("a",Q,[s(" 对java锁升级，你是否还停留在表面的理解？7000+字和图解带你深入理解锁升级的每个细节"),e(a)]),n("a",G,[s("synchronized锁升级过程"),e(a)])]),X,n("ul",null,[n("li",null,[s("方式一：通过@Async注解调用 "),n("ul",null,[n("li",null,[s("在Application启动类上面加上"),n("a",z,[s("@EnableAsync "),e(a)])]),H])]),Z]),Y,n("p",null,[n("a",$,[s("https://mp.weixin.qq.com/s/skBA9RwVBLnw8BYZhcUSrA"),e(a)])]),nn,n("ol",null,[n("li",null,[n("a",sn,[s("https://www.cnblogs.com/niujifei/p/13946234.html"),e(a)])]),n("li",null,[n("a",an,[s("https://juejin.cn/post/6844903985111908359"),e(a)])])]),en,n("p",null,[s("著作权归@pdai所有 原文链接："),n("a",pn,[s("https://pdai.tech/md/java/thread/java-thread-x-lock-LockSupport.html"),e(a)])]),on,n("p",null,[n("a",tn,[s("模板方法模式"),e(a)]),s("中可以得知，我们期望也设计出一个类似于 drink() 的方法。但实际上 AQS 并没有使用这种方式，而是把 AQS 设计成抽象类，然后只提供一些维护 state 和 CLH 队列的方法，并把几个重要的方法设置成 procted 的访问形式，这样一来，AQS 的扩展类就可以通过重写这些方法来操作 state 和 CLH 队列， 从而实现满足不同需求的扩展实现，如公平锁、非公平锁、读写锁、信号量、CountDownLatch 等。")]),ln,n("p",null,[n("a",cn,[s("idea icons_list"),e(a)])]),rn,un,dn,n("p",null,[s("著作权归@pdai所有 原文链接："),n("a",kn,[s("https://pdai.tech/md/java/thread/java-thread-x-lock-AbstractQueuedSynchronizer.html"),e(a)]),n("a",vn,[s("https://www.wolai.com/tvtGpAAntFBaN4xrTrEywQ"),e(a)])]),mn,n("ol",null,[n("li",null,[n("a",bn,[s("面渣逆袭：Java并发六十问，图文详解，快来看看你会多少道！"),e(a)])]),n("li",null,[n("a",Ln,[s("♥Java并发知识体系详解♥"),e(a)])]),n("li",null,[n("a",gn,[s("https://www.wolai.com/niwx3ZkfJnPXGa2J7sH5Xp"),e(a)])]),n("li",null,[n("a",En,[s("CompletableFuture原理与实践-外卖商家端API的异步化 - 美团技术团队"),e(a)])]),n("li",null,[n("a",An,[s("聊聊并发编程的12种业务场景"),e(a)])]),n("li",null,[n("a",hn,[s("2. CompletableFuture"),e(a)])])]),Tn])}const On=o(q,[["render",Nn],["__file","juc.html.vue"]]);export{On as default};
